!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";!function(e){e&&e.__esModule}(n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.init=y;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(3));var a=void 0,i=void 0,r=void 0,s=void 0,c=void 0,l=0,d=0,u=1,E=[],w=void 0,f=void 0,p=(new THREE.Clock,new THREE.Vector3(0,0,1)),T=(new THREE.Vector3,2e3),h=null,g=null,m=null;window.addEventListener("load",y,!1);var R={red:12982789,white:14209233,brown:5845806,pink:16097522,brownDark:2300175,lightblue:8445951,blue:255,orange:16540977,beige:15453604,grey:3158064,yellow:16776986};function H(e,t,n){E[e]=new THREE.Path,E[e].moveTo(t.x,t.y);for(var o=0;o<n.length;o++)E[e].lineTo(n[o].x,n[o].y);!function(e){for(var t=E[e].getSpacedPoints(20),n=0;n<t.length;n++){var o=t[n];t[n]=new THREE.Vector3(o.x,o.y,0)}var a=new THREE.Geometry;a.vertices=t;var r=new THREE.LineDashedMaterial({linewidth:1,color:R.red,dashSize:3,gapSize:3}),s=new THREE.Line(a,r);i.add(s),v(e,l),E[e].getPoint(l)}(e)}function b(){if(null!=E[d]&&null===E[d].getPoint(l))switch(u=1,d){case 0:!function(){var t=e("<div></div>");t.append("What's this cycling sign stand for? <br />"),t.append('<img src="./images/right.png" />'),BootstrapDialog.show({title:"Guess what this means",message:t,buttons:[{label:"Continue Straight",action:function(e){d=1,l=0,e.close(),setTimeout(b,T)}},{label:"Turn Right",action:function(e){d=3,l=0,u=10,e.close(),setTimeout(b,T)}}]})}();break;case 1:!function(){var t=e("<div></div>");t.append("What's this cycling sign stand for? <br />"),t.append('<img src="./images/stop1.png" />'),t.append("Cautious going straight: busy traffic road ahead! <br />"),t.append("Cautious turning right: traffic violation - entering one-way road against traffic! <br />"),BootstrapDialog.show({title:"Guess what this means",message:t,buttons:[{label:"Continue Straight",action:function(e){d=2,l=0,u=2,e.close(),setTimeout(b,T)}},{label:"Turn Right",action:function(e){d=4,l=0,u=2,e.close(),setTimeout(b,T)}}]})}();break;case 3:!function(){var t=e("<div></div>");t.append("Caution: don't crash into car door opening! <br />"),t.append('<img src="./images/dooring.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"ride close",action:function(e){d=6,l=0,e.close(),setTimeout(b,T)}},{label:"steer away",action:function(e){d=5,l=0,e.close(),setTimeout(b,T)}}]})}();break;case 4:!function(){var t=e("<div></div>");t.append("Caution: Obey Traffic laws - Get Back on Track! <br />"),t.append('<img src="./images/left.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"Full stop - turn left when clear",action:function(e){d=9,l=0,e.close(),setTimeout(b,T)}},{label:"Full stop - continue straight to sidewalk",action:function(e){d=10,l=0,e.close(),setTimeout(b,T)}}]})}();break;case 8:!function(){var t=e("<div></div>");t.append("Caution: Obey Traffic signs - Stop and check for traffic! <br />"),t.append('<img src="./images/right.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"Full stop - turn right when clear",action:function(e){d=10,l=0,e.close(),setTimeout(b,T)}},{label:"Full stop - continue straight when clear",action:function(e){d=9,l=0,e.close(),setTimeout(b,T)}}]})}();break;case 5:case 6:!function(){var t=e("<div></div>");t.append("Caution: Obey Traffic signs - Stop and check for traffic! <br />"),t.append('<img src="./images/left.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"Full stop - turn left when clear",action:function(e){d=8,l=0,e.close(),setTimeout(b,T)}},{label:"Full stop - continue straight when clear",action:function(e){d=7,l=0,e.close(),setTimeout(b,T)}}]})}();break;case 7:!function(){var t=e("<div></div>");t.append("Caution: Obey Traffic signs - Avoid Riding on busy sidewalks! <br />"),t.append('<img src="./images/left.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"Full stop - turn left when clear",action:function(e){d=13,l=0,e.close(),setTimeout(b,T)}},{label:"Full stop - continue straight to sidewalk",action:function(e){d=14,l=0,e.close(),setTimeout(b,T)}}]})}();break;case 10:!function(){var t=e("<div></div>");t.append("Caution: Obey Traffic laws - Avoid Riding on busy sidewalks! <br />"),t.append('<img src="./images/left.png" />'),BootstrapDialog.show({title:"Defensive Riding: Don't take chances",message:t,buttons:[{label:"Full stop - turn left when clear",action:function(e){d=11,l=0,e.close(),setTimeout(b,T)}},{label:"Full stop - continue straight to sidewalk",action:function(e){d=12,l=0,e.close(),setTimeout(b,T)}}]})}()}else setTimeout(b,T)}setTimeout(b,T);function v(e,t){var n=E[e].getTangent(t).normalize();return-Math.atan(n.x/n.y)}function V(){!function(e){l+=.002*u;var t=E[e].getPoint(l);if(null!==t&&null!==c&&null!==c.mesh){c.mesh.position.x=t.x-4,c.mesh.position.y=t.y+4;var n=v(e,l);n>0&&(n=-Math.PI+n),c.mesh.quaternion.setFromAxisAngle(p,n),c.mesh.children.length>3&&(m.rotation.x-=.1,g.rotation.x-=.1,h.rotation.x-=.1),t,n}}(d),requestAnimationFrame(V),s.update(),a.render(i,r)}function y(){!function(){var e=window.innerHeight,t=window.innerWidth;(i=new THREE.Scene).fog=new THREE.Fog(R.white,100,1e3),i.add((0,o.default)(100)),i.rotation.z+=Math.PI/2,i.rotation.x-=Math.PI/2,(a=new THREE.WebGLRenderer({alpha:!0,antialias:!1})).setSize(t,e),a.shadowMap.enabled=!0,a.setPixelRatio(window.devicePixelRatio),document.getElementById("townId").appendChild(a.domElement);var n=t/e;(r=new THREE.PerspectiveCamera(45,n,1,1e4)).position.set(-50,250,450),(s=new THREE.OrbitControls(r,a.domElement)).enableDamping=!0,s.dampingFactor=.25,s.enableZoom=!0,s.update()}(),function(){var e=new THREE.MeshBasicMaterial({wireframe:!0,color:0}),t=new THREE.PlaneGeometry(500,500,20,20),n=new THREE.Mesh(t,e),o=new THREE.Object3D;o.add(n),i.add(o)}(),w=new THREE.HemisphereLight(11184810,0,.9),(f=new THREE.DirectionalLight(16777215,.9)).position.set(150,350,350),f.castShadow=!0,f.shadow.camera.left=-400,f.shadow.camera.right=400,f.shadow.camera.top=400,f.shadow.camera.bottom=-400,f.shadow.camera.near=1,f.shadow.camera.far=1e3,f.shadow.mapSize.width=2048,f.shadow.mapSize.height=2048,i.add(w),i.add(f),function(){(c=new THREE.Object3D).mesh=new THREE.Object3D;var e=new THREE.MTLLoader;e.setTexturePath("assets/"),e.load("assets/Wheel_back1.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("assets/Wheel_back1.obj",function(e){e.scale.set(5,5,5),e.rotation.y=Math.PI/2,e.position.y=-26,e.position.z=-5.5,h=e,c.mesh.add(e),i.add(c.mesh)})}),e.load("assets/Wheel_front1.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("assets/Wheel_front1.obj",function(e){e.scale.set(5,5,5),e.rotation.y=Math.PI/2,e.position.y=-9.5,e.position.z=-5.5,c.mesh.add(e),g=e})}),e.load("assets/frame-nopedals.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("assets/frame-nopedals.obj",function(e){e.scale.set(5,5,5),e.rotation.z=Math.PI/2,e.position.set(0,-10,-5.5),c.mesh.add(e),e})}),e.load("assets/pedalsCrankArms.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("assets/pedalsCrankArms.obj",function(e){e.scale.set(.5,.5,.5),e.position.set(.5,-19,-5),m=e,c.mesh.add(e)})}),e.load("assets/riderinpos.mtl",function(e){e.preload();var t=new THREE.OBJLoader;t.setMaterials(e),t.load("assets/riderinpos.obj",function(e){e.scale.set(5,5,5),e.rotation.y=Math.PI,e.rotation.x=Math.PI,e.rotation.x=Math.PI/2,e.position.set(0,-21,-9),e,c.mesh.add(e)})}),c.mesh.position.z=10}(),function(){var e=[],t=void 0;t=new THREE.Vector3(-250,-240,0),e[0]=new THREE.Vector3(-160,-240,0),e[1]=new THREE.Vector3(-160,-185,0),H(0,t,e),e=[],t=new THREE.Vector3(-160,-185,0),e[0]=new THREE.Vector3(-160,35,0),H(1,t,e),t=new THREE.Vector3(-160,35,0),e[0]=new THREE.Vector3(-160,185,0),e[1]=new THREE.Vector3(250,185,0),H(2,t,e),e=[],t=new THREE.Vector3(-160,-185,0),e[0]=new THREE.Vector3(-135,-185,0),H(3,t,e),e=[],t=new THREE.Vector3(-160,35,0),e[0]=new THREE.Vector3(-40,35,0),H(4,t,e),e=[],t=new THREE.Vector3(-135,-185,0),e[0]=new THREE.Vector3(-80,-150,0),e[1]=new THREE.Vector3(-40,-185,0),H(5,t,e),e=[],t=new THREE.Vector3(-135,-185,0),e[0]=new THREE.Vector3(-80,-170,0),e[1]=new THREE.Vector3(-40,-185,0),H(6,t,e),e=[],t=new THREE.Vector3(-40,-185,0),e[0]=new THREE.Vector3(110,-185,0),H(7,t,e),e=[],t=new THREE.Vector3(-40,-185,0),e[0]=new THREE.Vector3(-40,35,0),H(8,t,e),e=[],t=new THREE.Vector3(-40,35,0),e[0]=new THREE.Vector3(-10,35,0),e[1]=new THREE.Vector3(-10,185,0),e[2]=new THREE.Vector3(250,185,0),H(9,t,e),e=[],t=new THREE.Vector3(-40,35,0),e[0]=new THREE.Vector3(110,35,0),H(10,t,e),e=[],t=new THREE.Vector3(110,35,0),e[0]=new THREE.Vector3(110,185,0),e[1]=new THREE.Vector3(250,185,0),H(11,t,e),e=[],t=new THREE.Vector3(110,35,0),e[0]=new THREE.Vector3(185,35,0),e[1]=new THREE.Vector3(185,185,0),e[2]=new THREE.Vector3(250,185,0),H(12,t,e),e=[],t=new THREE.Vector3(110,-185,0),e[0]=new THREE.Vector3(110,35,0),e[1]=new THREE.Vector3(110,185,0),e[2]=new THREE.Vector3(250,185,0),H(13,t,e),e=[],t=new THREE.Vector3(110,-185,0),e[0]=new THREE.Vector3(185,-185,0),e[1]=new THREE.Vector3(185,185,0),e[2]=new THREE.Vector3(250,185,0),H(14,t,e)}(),V()}window.addEventListener("load",y,!1)}).call(this,n(2))},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function o(e,t,n,o){var a=new THREE.Geometry,i=void 0;i=o?new THREE.LineDashedMaterial({color:n,dashSize:3,gapSize:3}):new THREE.LineBasicMaterial({color:n}),a.vertices.push(e.clone()),a.vertices.push(t.clone());var r=new THREE.Line(a,i,THREE.LineSegments);return r.computeLineDistances(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||200;var t=new THREE.Object3D;return t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(e,0,0),16711680,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(-e,0,0),16711680,!0)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,e,0),65280,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,-e,0),65280,!0)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,e),255,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-e),255,!0)),t}}]);
//# sourceMappingURL=app.bundle.js.map