!function(o){var t={};function n(e){if(t[e])return t[e].exports;var s=t[e]={i:e,l:!1,exports:{}};return o[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=o,n.c=t,n.d=function(o,t,e){n.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:e})},n.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,t){if(1&t&&(o=n(o)),8&t)return o;if(4&t&&"object"==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var s in o)n.d(e,s,function(t){return o[t]}.bind(null,s));return e},n.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(t,"a",t),t},n.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},n.p="",n(n.s=8)}([function(o,t){o.exports=jQuery},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=null,s=null,a=null,i=null,r=null;t.createCameras=function(o,n){var l=window.innerWidth/window.innerHeight;t.orbitControls=i=new THREE.Object3D,t.trailingCamera=s=new THREE.PerspectiveCamera(45,l,1,1e3),s.position.set(0,-250,50),e=s,i.tcontrols=new THREE.OrbitControls(s,n.domElement),i.tcontrols.maxPolarAngle=Math.PI,i.tcontrols.minPolarAngle=2.4,i.tcontrols.maxAzimuthAngle=Math.PI/6,i.tcontrols.minAzimuthAngle=-Math.PI/6,i.tcontrols.minDistance=50,i.tcontrols.maxDistance=250,i.tcontrols.enableDamping=!0,i.tcontrols.dampingFactor=.25,i.tcontrols.enableZoom=!0,i.tcontrols.update(),t.hoveringCamera=a=new THREE.PerspectiveCamera(45,l,1,1e3),a.position.set(0,350,450),a.lookAt(o.position),i.hcontrols=new THREE.OrbitControls(a,n.domElement),i.hcontrols.maxPolarAngle=1.4,i.hcontrols.minPolarAngle=Math.PI/4,i.hcontrols.maxAzimuthAngle=Math.PI/2,i.hcontrols.minAzimuthAngle=-Math.PI/2,i.hcontrols.minDistance=50,i.hcontrols.maxDistance=400,i.hcontrols.enableDamping=!0,i.hcontrols.dampingFactor=.25,i.hcontrols.enableZoom=!0,i.hcontrols.update(),t.inspectCamera=r=new THREE.PerspectiveCamera(35,l,.1,1e3),r.position.set(0,2,25)},t.getActiveCamera=function(){return e},t.setActiveCamera=function(o){e=o},t.hoveringCamera=a,t.trailingCamera=s,t.orbitControls=i,t.inspectCamera=r},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PedSegments=t.CarSegments=t.pathList=t.getDP=t.createPaths=void 0;var e=function(o){return o&&o.__esModule?o:{default:o}}(n(3));var s=[],a=[],i={redCar:31,blueCar:32,yellowCar:33,yellowCar1:34,greenCar:35},r={boy1:41,robot1:42},l={DP1:0,DP2:1,DP3:2,DP4:3,DP5:4,DP6:5,DP7:6,DP8:7,DP9:8,DP10:9,DP11:10,DP12:11,DP13:12,DP14:13,DP21:21,DP22:22,DP23:23,DP24:24,DP25:25,DP26:26,DP27:27,DP28:28,DP29:29,DP30:30,DP31:31,DP32:32,DP33:33,DP34:34,DP35:35,DP36:36,DP37:37,DP38:38,DP39:39,DP40:40};var c=49;function d(o,t,n){s[o]=new THREE.Path,s[o].moveTo(t[0],t[1]);for(var a=0;a<n.length;a++)s[o].lineTo(n[a][0],n[a][1]);new THREE.Line;return function(o){for(var t=[],n=void 0,a=o<30?e.default.red:o>48?e.default.green:e.default.blue,i=0;i<s[o].curves.length;i++)n=new THREE.Vector3(s[o].curves[i].v1.x,s[o].curves[i].v1.y,0),t[i]=new THREE.Vector3(n.x,n.y,0);n=new THREE.Vector3(s[o].curves[s[o].curves.length-1].v2.x,s[o].curves[s[o].curves.length-1].v2.y,0),t[s[o].curves.length]=new THREE.Vector3(n.x,n.y,0);var r=new THREE.Geometry;r.vertices=t;var l=new THREE.LineDashedMaterial({linewidth:1,color:a,dashSize:3,gapSize:3});return new THREE.Line(r,l)}(o)}t.createPaths=function(){var o=[],t=[],n=[],e=0;a[l.DP1]=new THREE.Vector3(-160,-175,0),a[l.DP2]=new THREE.Vector3(-160,25,0),a[l.DP3]=new THREE.Vector3(-120,-170,0),a[l.DP4]=new THREE.Vector3(-55,-170,0),a[l.DP5]=new THREE.Vector3(-40,25,0),a[l.DP6]=new THREE.Vector3(100,-170,0),a[l.DP7]=new THREE.Vector3(100,25,0),a[l.DP8]=new THREE.Vector3(-40,25,0),a[l.DP9]=new THREE.Vector3(-160,178,0),a[l.DP10]=new THREE.Vector3(-10,240,0),a[l.DP11]=new THREE.Vector3(-5,178,0),a[l.DP12]=new THREE.Vector3(150,-10,0),a[l.DP13]=new THREE.Vector3(-55,178,0),a[l.DP14]=new THREE.Vector3(135,25,0),a[l.DP21]=new THREE.Vector3(190,220,0),a[l.DP22]=new THREE.Vector3(-10,220,0),a[l.DP23]=new THREE.Vector3(-160,220,0),a[l.DP24]=new THREE.Vector3(-150,20,0),a[l.DP25]=new THREE.Vector3(-195,-170,0),a[l.DP26]=new THREE.Vector3(135,70,0),a[l.DP27]=new THREE.Vector3(135,-170,0),a[l.DP28]=new THREE.Vector3(0,70,0),a[l.DP29]=new THREE.Vector3(-25,-125,0),a[l.DP30]=new THREE.Vector3(-50,65,0),a[l.DP31]=new THREE.Vector3(-148,-130,0),a[l.DP32]=new THREE.Vector3(-195,65,0),a[l.DP33]=new THREE.Vector3(-55,-170,0),a[l.DP34]=new THREE.Vector3(100,-170,0),a[l.DP35]=new THREE.Vector3(-55,15,0),a[l.DP36]=new THREE.Vector3(-160,65,0),a[l.DP37]=new THREE.Vector3(-160,-125,0),a[l.DP38]=new THREE.Vector3(105,-125,0),a[l.DP39]=new THREE.Vector3(-148,50,0),a[l.DP40]=new THREE.Vector3(-195,-125,0),t=[-155,-240],o=[[-155,-170]],n[e]=d(0,t,o),o=[],t=[-155,-170],o=[[-155,25]],n[++e]=d(1,t,o),o=[],t=[-155,25],o=[[-155,178]],n[++e]=d(2,t,o),o=[],t=[-155,-170],o=[[-120,-170]],n[++e]=d(3,t,o),o=[],t=[-155,25],o=[[-150,25],[-150,40],[-55,40]],n[++e]=d(4,t,o),o=[],t=[-120,-170],o=[[-110,-160],[-55,-170]],n[++e]=d(5,t,o),o=[],t=[-120,-170],o=[[-55,-170]],n[++e]=d(6,t,o),o=[],t=[-55,-170],o=[[110,-170]],n[++e]=d(7,t,o),o=[],t=[-55,-170],o=[[-25,-170],[-25,25]],n[++e]=d(8,t,o),o=[],t=[-55,25],o=[[-45,25],[-10,25],[-10,178]],n[++e]=d(9,t,o),o=[],t=[-55,25],o=[[-45,25],[110,25]],n[++e]=d(10,t,o),o=[],t=[110,25],o=[[135,25],[135,185],[250,185]],n[++e]=d(11,t,o),o=[],t=[110,25],o=[[150,25],[150,185],[250,185]],n[++e]=d(12,t,o),o=[],t=[100,-170],o=[[135,-170],[135,25]],n[++e]=d(13,t,o),o=[],t=[100,-170],o=[[150,-170],[150,-15]],n[++e]=d(14,t,o),o=[],t=[-160,178],o=[[-55,178]],n[++e]=d(15,t,o),o=[],t=[-160,178],o=[[-160,240],[-5,240]],n[++e]=d(16,t,o),o=[],t=[-10,240],o=[[250,240]],n[++e]=d(17,t,o),o=[],t=[-10,240],o=[[0,178],[250,178]],n[++e]=d(18,t,o),o=[],t=[-5,178],o=[[250,178]],n[++e]=d(19,t,o),o=[],t=[-5,178],o=[[-5,240],[250,240]],n[++e]=d(20,t,o),o=[],t=[150,-10],o=[[150,178],[250,178]],n[++e]=d(21,t,o),o=[],t=[150,-10],o=[[135,-20],[135,178],[250,178]],n[++e]=d(22,t,o),o=[],t=[-55,178],o=[[250,178]],n[++e]=d(23,t,o),o=[],t=[-55,178],o=[[-55,240],[250,240]],n[++e]=d(24,t,o),o=[],t=[a[l.DP14].x,a[l.DP14].y],o=[[135,178],[250,178]],n[++e]=d(25,t,o),o=[],t=[a[l.DP14].x,a[l.DP14].y],o=[[170,a[l.DP14].y],[170,178],[250,178]],n[++e]=d(26,t,o),o=[],t=[250,210],o=[[185,210],[185,-165],[115,-165],[115,60],[0,60],[-10,40],[-165,40],[-165,188],[-40,188],[-40,40],[125,40],[125,188],[250,188]],n[++e]=d(i.redCar,t,o),o=[],t=[-250,-160],o=[[128,-160],[128,210],[-185,210],[-185,-250]],n[++e]=d(i.blueCar,t,o),o=[],t=[-250,-160],o=[[-30,-160],[-30,40],[-40,40],[-165,40],[-165,250]],n[++e]=d(i.yellowCar1,t,o),o=[],t=[-30,-250],o=[[-30,25],[-20,210],[-200,210]],n[++e]=d(i.greenCar,t,o);var s=10*Math.random();return o=[],t=[160-s,-130],o=[[160-s,170],[159-s,170],[159-s,-130],[160-s,-130]],n[++e]=d(r.boy1,t,o),o=[],t=[-150,245-s],o=[[220,245-s],[220,244-s],[-150,244-s],[-150,245-s]],n[++e]=d(r.robot1,t,o),o=[],t=[250,a[l.DP21].y],o=[[a[l.DP21].x,a[l.DP21].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP21].x,a[l.DP21].y],o=[[a[l.DP21].x,a[l.DP27].y],[a[l.DP27].x,a[l.DP27].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP21].x,a[l.DP21].y],o=[[a[l.DP22].x,a[l.DP22].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP27].x,a[l.DP27].y],o=[[a[l.DP26].x,a[l.DP26].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP27].x,a[l.DP27].y],o=[[a[l.DP31].x,a[l.DP31].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP22].x,a[l.DP22].y],o=[[a[l.DP23].x,a[l.DP23].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP22].x,a[l.DP22].y],o=[[a[l.DP30].x,a[l.DP22].y],[a[l.DP30].x,a[l.DP30].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP26].x,a[l.DP26].y],o=[[a[l.DP38].x,a[l.DP26].y],[a[l.DP38].x,a[l.DP38].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP26].x,a[l.DP26].y],o=[[a[l.DP28].x,a[l.DP28].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP28].x,a[l.DP28].y],o=[[a[l.DP30].x,a[l.DP24].y],[a[l.DP24].x,a[l.DP24].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP28].x,a[l.DP28].y],o=[[a[l.DP29].x,a[l.DP28].y],[a[l.DP29].x,a[l.DP29].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP29].x,a[l.DP29].y],o=[[a[l.DP35].x,a[l.DP35].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP29].x,a[l.DP29].y],o=[[a[l.DP31].x,a[l.DP31].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP30].x,a[l.DP30].y],o=[[a[l.DP30].x,a[l.DP24].y],[a[l.DP24].x,a[l.DP24].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP30].x,a[l.DP30].y],o=[[a[l.DP30].x,a[l.DP39].y],[a[l.DP39].x,a[l.DP39].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP24].x,a[l.DP24].y],o=[[a[l.DP40].x,a[l.DP24].y],[a[l.DP40].x,a[l.DP40].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP24].x,a[l.DP24].y],o=[[a[l.DP37].x,a[l.DP24].y],[a[l.DP37].x,a[l.DP37].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP25].x,a[l.DP25].y],o=[[a[l.DP33].x,a[l.DP33].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP25].x,a[l.DP25].y],o=[[a[l.DP25].x,-250]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP23].x,a[l.DP23].y],o=[[a[l.DP36].x,a[l.DP36].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP23].x,a[l.DP23].y],o=[[a[l.DP32].x,a[l.DP23].y],[a[l.DP32].x,a[l.DP32].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP31].x,a[l.DP31].y],o=[[-155,-250]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP31].x,a[l.DP31].y],o=[[a[l.DP25].x,a[l.DP25].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP32].x,a[l.DP32].y],o=[[a[l.DP40].x,a[l.DP40].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP32].x,a[l.DP32].y],o=[[a[l.DP24].x,a[l.DP24].y],[a[l.DP37].x,a[l.DP37].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP33].x,a[l.DP33].y],o=[[a[l.DP34].x,a[l.DP34].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP33].x,a[l.DP33].y],o=[[a[l.DP33].x,a[l.DP35].y],[a[l.DP35].x,a[l.DP35].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP34].x,a[l.DP34].y],o=[[a[l.DP26].x,a[l.DP34].y],[a[l.DP26].x,a[l.DP26].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP34].x,a[l.DP34].y],o=[[a[l.DP27].x,a[l.DP34].y],[a[l.DP27].x,a[l.DP27].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP35].x,a[l.DP35].y],o=[[a[l.DP24].x,a[l.DP24].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP35].x,a[l.DP35].y],o=[[a[l.DP39].x,a[l.DP39].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP36].x,a[l.DP36].y],o=[[a[l.DP37].x,a[l.DP37].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP36].x,a[l.DP36].y],o=[[a[l.DP40].x,a[l.DP36].y],[a[l.DP40].x,a[l.DP40].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP37].x,a[l.DP37].y],o=[[-155,-250]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP37].x,a[l.DP37].y],o=[[a[l.DP40].x,a[l.DP40].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP38].x,a[l.DP38].y],o=[[a[l.DP38].x,a[l.DP31].y],[a[l.DP31].x,a[l.DP31].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP38].x,a[l.DP38].y],o=[[a[l.DP27].x,a[l.DP27].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP39].x,a[l.DP39].y],o=[[a[l.DP24].x,a[l.DP24].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP39].x,a[l.DP39].y],o=[[a[l.DP40].x,a[l.DP39].y],[a[l.DP40].x,a[l.DP40].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP40].x,a[l.DP40].y],o=[[a[l.DP25].x,a[l.DP25].y]],n[++e]=d(c++,t,o),o=[],t=[a[l.DP40].x,a[l.DP40].y],o=[[a[l.DP40].x,-250]],n[++e]=d(c++,t,o),n},t.getDP=function(o){return o>=1&&o<l.DP21?a[o-1]:a[o]},t.pathList=s,t.CarSegments=i,t.PedSegments=r},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={red:12982789,white:14209233,brown:5845806,pink:16097522,brownDark:2300175,lightblue:8445951,blue:255,orange:16540977,beige:15453604,grey:3158064,yellow:16776986,green:2263842}},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=null;t.createBike=function(){t.bike=e=new THREE.Object3D,e.mesh=new THREE.Object3D;var o=new THREE.MTLLoader,n=new THREE.JSONLoader;o.setTexturePath("assets/"),o.load("assets/Wheel_back1.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/Wheel_back1.obj",function(o){o.scale.set(5,5,5),o.rotation.y=Math.PI/2,o.position.y=-26,o.position.z=-5.5,e.back_wheel=o,e.mesh.add(o)})}),o.load("assets/Wheel_front1.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/Wheel_front1.obj",function(o){o.scale.set(5,5,5),o.rotation.y=Math.PI/2,o.position.y=-9.5,o.position.z=-5.5,e.mesh.add(o),e.front_wheel=o})}),o.load("assets/frame-nopedals.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/frame-nopedals.obj",function(o){o.scale.set(5,5,5),o.rotation.z=Math.PI/2,o.position.set(0,-10,-5.5),e.mesh.add(o)})}),n.load("./assets/low-poly-cycle.json",function(o,t){t.forEach(function(o){o.skinning=!0}),e.rider=new THREE.SkinnedMesh(o,t),e.rider.scale.set(8,8,8),e.rider.position.set(0,-19,-10),e.rider.rotation.y=Math.PI,e.rider.rotation.x=Math.PI/2,e.mesh.add(e.rider),e.mixer=new THREE.AnimationMixer(e.rider),e.anim=e.mixer.clipAction(o.animations[1]),e.anim.setEffectiveWeight(1),e.anim.enabled=!0,e.anim.play(),e.anim.paused=!0,e.anim.timeScale=2,e.anim.paused=!1}),e.mesh.wide=1,e.mesh.long=3,e.mesh.position.z=2.2,e.mesh.scale.set(.2,.2,.2),e.mesh.tripod=new THREE.Object3D,e.mesh.add(e.mesh.tripod),e.mesh.tripod.position.set(0,2,25)},t.bike=e},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=null;t.createLight=function(o){var t,n;e=new THREE.HemisphereLight(11184810,0,4),t=new THREE.AmbientLight(1118481,6),n=new THREE.DirectionalLight(16777215,.9),o.add(e),o.add(n),o.add(t)},t.setHLIntensity=function(o){e.intensity=o}},function(o,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pedestrians=t.cars=t.parkedCarDoor=t.town=t.createTown=void 0;var e=n(2),s=null,a=null,i=void 0,r=null,l=null,c=.1;function d(o,t,n){var a=o.clone(),i=(0,e.getDP)(t);a.position.set(i.x,i.y,-1),a.rotation.y=n,s.dpArrows[t-1]=a,s.add(a)}function u(o,t,n){return o.mixer=new THREE.AnimationMixer(o),o.anim=o.mixer.clipAction(t),o.anim.setEffectiveWeight(1),o.anim.enabled=!0,o.anim.play(),o.anim.timeScale=n,o.anim.paused=!1,o}t.createTown=function(){t.town=s=new THREE.Object3D,s.dpArrows=[],t.cars=i=new THREE.Object3D,t.pedestrians=l=new THREE.Object3D;var o=new THREE.MTLLoader,n=new THREE.ColladaLoader;o.setTexturePath("assets/"),o.load("assets/road-design.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/road-design.obj",function(o){o.scale.set(24,24,24),o.rotation.x=Math.PI/2,s.add(o)})}),o.setTexturePath("assets/"),o.load("assets/houses-layout.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/houses-layout.obj",function(o){o.scale.set(2,2,2),o.rotation.x=Math.PI/2,s.add(o)})}),function(){var o=new THREE.MTLLoader;o.load("assets/dp1-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp1-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-160,-165,-1),s.dpArrows[0]=o,s.add(o),d(o,2,-Math.PI/2),d(o,14,-Math.PI/2)})}),o.load("assets/dp10-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp10-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-10,240,-1),s.dpArrows[9]=o,s.add(o)})}),o.load("assets/dp12-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp12-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=0,o.position.set(140,-10,-1),s.dpArrows[11]=o,s.add(o)})}),o.load("assets/dp13-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp13-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-55,178,-1),s.dpArrows[12]=o,s.add(o)})}),o.load("assets/dp3-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp3-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-120,-170,-1),s.dpArrows[2]=o,s.add(o)})}),o.load("assets/dp10-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp10-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-10,240,-1),s.dpArrows[9]=o,s.add(o)})}),o.load("assets/dp9-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp9-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-160,178,-1),s.dpArrows[8]=o;var t=o.clone();t.position.set(-5,178,-1),s.dpArrows[10]=t;var n=o.clone();n.position.set(-40,25,-1),s.dpArrows[4]=n,s.add(o),s.add(t),s.add(n)})}),o.load("assets/dpr-r-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dpr-r-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=Math.PI/2;var t=(0,e.getDP)(30);o.position.set(t.x,t.y,-1),s.dpArrows[29]=o,s.add(o)})}),o.load("assets/dpl-l-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dpl-l-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=Math.PI;var t=(0,e.getDP)(24);o.position.set(t.x,t.y,-1),s.dpArrows[23]=o,s.add(o),d(o,35,Math.PI/2)})}),o.load("assets/dp38-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp38-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2;var t=(0,e.getDP)(38);o.position.set(t.x,t.y,-1),s.dpArrows[37]=o,s.add(o)})}),o.load("assets/dpr-rev-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dpr-rev-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=Math.PI/2;var t=(0,e.getDP)(29);o.position.set(t.x,t.y,-1),s.dpArrows[28]=o,s.add(o)})}),o.load("assets/dp36-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp36-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2;var t=(0,e.getDP)(36);o.position.set(t.x,t.y,-1),s.dpArrows[35]=o,s.add(o),d(o,37,-Math.PI/2),d(o,27,Math.PI/1.3),d(o,31,-Math.PI/2),d(o,39,-Math.PI/2)})}),o.load("assets/dp40-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp40-arrows.obj",function(o){o.scale.set(1,1,1),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2;var t=(0,e.getDP)(40);o.position.set(t.x,t.y,-1),s.dpArrows[39]=o,s.add(o)})}),o.load("assets/dp4-arrows.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/dp4-arrows.obj",function(o){o.scale.set(.8,.8,.8),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI/2,o.position.set(-55,-165,-1),s.dpArrows[3]=o,s.add(o);var t=o.clone();t.position.set(100,25,-1),s.dpArrows[6]=t,(t=o.clone()).position.set(100,-165,-1),s.dpArrows[5]=t,s.add(t),(t=o.clone()).position.set(-60,35,-1),s.dpArrows[7]=t,s.add(t),d(o,21,Math.PI/2),d(o,22,Math.PI/2),d(o,23,Math.PI/2),d(o,25,Math.PI),d(o,26,Math.PI/2),d(o,28,Math.PI/2),d(o,32,Math.PI),d(o,33,-Math.PI/2),d(o,34,-Math.PI/2)})})}(),o.load("assets/start.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/start.obj",function(o){o.scale.set(20,20,10),o.rotation.x=0,o.rotation.y=-Math.PI/2,o.rotation.z=-Math.PI/2,o.position.set(-190,-250,1),s.add(o)})}),o.load("assets/finish-line.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/finish-line.obj",function(o){o.scale.set(10,10,10),o.rotation.x=0,o.rotation.y=-Math.PI/2,o.rotation.z=-Math.PI/2,o.position.set(240,200,1),s.add(o)})}),o.load("assets/one-way.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/one-way.obj",function(o){o.scale.set(8,8,8),o.rotation.x=Math.PI/2,o.rotation.y=0,o.position.set(-110,35,0);var t=o.clone();t.position.set(-40,-60,.5),t.rotation.y=-Math.PI/2,s.add(o),s.add(t)})}),n.load("assets/car-low-poly6.dae",function(o){(r=o.scene).scale.set(3,3,3),r.traverse(function(o){if(o instanceof THREE.SkinnedMesh){t.parkedCarDoor=a=o,a.bone=o.skeleton.bones[0];var n=new THREE.CubeGeometry(.5,4,5,1,1,1,1),e=new THREE.MeshBasicMaterial({color:65280,wireframe:!0}),s=new THREE.Mesh(n,e);s.position.set(-110,-172,3),s.long=.5,s.wide=1,a.doorCollider=s}o.traverse(function(o){o.castShadow=!0,o.receiveShadow=!0,o.material instanceof THREE.MeshPhongMaterial&&(o.material.needsUpdate=!0)})}),r.updateMatrix(),r.rotation.z=Math.PI/2,r.rotation.x=0,r.position.set(-110,-175,0),s.add(r)}),o.setTexturePath("assets/"),o.load("assets/yellow2.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/yellow2.obj",function(o){o.scale.set(5,5,5),i.yellowCar=o,i.yellowCar.speed=(Math.random()+1)*c,i.yellowCar.rotation.x=Math.PI/2,i.yellowCar.rotation.y=Math.PI,i.yellowCar.rotation.z=0,i.yellowCar.position.set(-4,100,0),s.add(o)})}),o.setTexturePath("assets/"),o.load("assets/car-yellow1.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/car-yellow1.obj",function(o){o.scale.set(3,3,3),i.yellowCar1=o,i.yellowCar1.rotation.x=0,i.yellowCar1.rotation.y=0,i.yellowCar1.rotation.z=0,i.yellowCar1.long=6,i.yellowCar1.wide=4,i.yellowCar1.speed=(Math.random()+1)*c,s.add(i.yellowCar1)})}),o.setTexturePath("assets/"),o.load("assets/car-green1.mtl",function(o){o.preload();var t=new THREE.OBJLoader;t.setMaterials(o),t.load("assets/car-green1.obj",function(o){o.scale.set(3,3,3),i.greenCar=o,i.greenCar.rotation.x=0,i.greenCar.rotation.y=0,i.greenCar.rotation.z=Math.PI/2,i.greenCar.long=6,i.greenCar.wide=4,i.greenCar.speed=(Math.random()+1)*c,s.add(i.greenCar)})}),n.load("assets/car-low-red.dae",function(o){i.redCar=o.scene,i.redCar.scale.x=i.redCar.scale.y=i.redCar.scale.z=5,i.redCar.traverse(function(o){o.traverse(function(o){o.castShadow=!0,o.receiveShadow=!0,o.material instanceof THREE.MeshPhongMaterial&&(o.material.needsUpdate=!0)})}),i.redCar.updateMatrix(),i.redCar.rotation.y=Math.PI,i.redCar.rotation.z=0,i.redCar.position.set(250,250,0),i.redCar.long=6,i.redCar.wide=5,i.redCar.speed=(Math.random()+1)*c,s.add(i.redCar)}),n.load("assets/car-low-blue.dae",function(o){i.blueCar=o.scene,i.blueCar.scale.x=i.blueCar.scale.y=i.blueCar.scale.z=5,i.blueCar.traverse(function(o){o.traverse(function(o){o.castShadow=!0,o.receiveShadow=!0,o.material instanceof THREE.MeshPhongMaterial&&(o.material.needsUpdate=!0)})}),i.blueCar.updateMatrix(),i.blueCar.rotation.y=Math.PI,i.blueCar.rotation.z=0,i.blueCar.position.set(250,250,0),i.blueCar.long=6,i.blueCar.wide=5,i.blueCar.speed=(Math.random()+1)*c,s.add(i.blueCar)}),function(){var o=new THREE.JSONLoader;o.load("./assets/dooring.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(2,2,2),n.position.set(-110,-180,0),n.rotation.x=Math.PI/2,n.rotation.y=-Math.PI,s.add(n),s.billBoard=u(n,o.animations[1],.5)}),o.load("./assets/low-poly-boy-walk.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(1,1,1),n.position.set(160,0,1),n.rotation.y=Math.PI,n.rotation.x=Math.PI/2,n.wide=2,n.long=2,s.add(n),l.walkingBoy=u(n,o.animations[0],2);var e=n.clone();e.position.set(-115,-110,0),e.rotation.y=-Math.PI,e.wide=2,e.long=2,s.add(e),l.walkingBoy1=u(e,o.animations[0],.12)}),o.load("./assets/low-poly-girl-walk.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(1,1,1),n.position.set(155,0,1),n.rotation.y=Math.PI,n.rotation.x=Math.PI/2,n.wide=2,n.long=2,s.add(n),l.walkingGirl=u(n,o.animations[0],2)}),o.load("./assets/low-poly-girl-walk2.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(1.2,1.2,1.2),n.position.set(165,0,1),n.rotation.y=Math.PI,n.rotation.x=Math.PI/2,n.wide=2,n.long=2,s.add(n),l.walkingGirl1=u(n,o.animations[0],2)}),o.load("./assets/robot-rig3.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(5,5,5),n.position.set(0,240,1),n.rotation.y=Math.PI/2,n.rotation.x=Math.PI/2,n.wide=2,n.long=2,s.add(n),l.runningRobot=u(n,o.animations[3],1)}),o.load("./assets/robot-rig4.json",function(o,t){t.forEach(function(o){o.skinning=!0});var n=new THREE.SkinnedMesh(o,t);n.scale.set(5,5,5),n.position.set(0,245,1),n.rotation.y=Math.PI/2,n.rotation.x=Math.PI/2,n.wide=2,n.long=2,s.add(n),l.runningRobot1=u(n,o.animations[3],1.2)})}()},t.town=s,t.parkedCarDoor=a,t.cars=i,t.pedestrians=l},function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.visibilityDuringGame=function(){o(".meta").hide(),o("#infoButton").hide(),o("#topCamera").show(),o("#chaseCamera").show(),o("#score").show()},t.visibilityOutsideGame=function(){o(".meta").show(),o("#infoButton").show(),o("#topCamera").hide(),o("#chaseCamera").hide(),o("#score").hide()},t.hideCameraSelect=function(){o("#topCamera").hide(),o("#chaseCamera").hide()},t.showCameraSelect=function(){o("#topCamera").show(),o("#chaseCamera").show()},t.hideAll=function(){o(".meta").hide(),o("#infoButton").hide(),o("#topCamera").hide(),o("#chaseCamera").hide(),o("#score").hide()}}).call(this,n(0))},function(o,t,n){"use strict";!function(o){o&&o.__esModule}(n(9))},function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.init=z;var e=w(n(10)),s=n(11),a=n(2),i=w(n(3)),r=n(12),l=n(4),c=n(6),d=n(1),u=n(5),p=n(7);function w(o){return o&&o.__esModule?o:{default:o}}var b=void 0,f=void 0,P=0,g=0,y=0,h=new THREEx.KeyboardState,C=.05,m=null,D=!1,k=new THREE.Clock,v=null,E=null,T=!1,B=!1,A=!0,M=!0,x=0,R=0,L=0;function I(o,t){return null!==o&&null!==t&&(o.position.x<t.position.x+t.wide&&o.position.x+o.wide>t.position.x&&o.position.y<t.position.y+t.long&&o.long+o.position.y>t.position.y)}function H(){o.each(BootstrapDialog.dialogs,function(o,t){t.close()}),(0,r.cleanup)(),(0,p.hideCameraSelect)(),BootstrapDialog.show({title:"Game Over!",message:"Ready to Restart the Game?",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart Game",cssClass:"btn-success",action:function(o){(0,r.cleanup)(),D=!1,O()}},{label:"Leave Game",cssClass:"btn-danger",action:function(o){(0,p.visibilityOutsideGame)(),cancelAnimationFrame(m),o.close(),D=!0}}]}),D=!0}function S(o,t){if(null!==t){P+=.0015*t.speed;var n=a.pathList[o].getPoint(P);if(null!==n){if(!0!==function(o,t){if(o===a.CarSegments.blueCar&&-160===t.y){if(x>0&&x<80)return x++,!0;if(x>=80&&(x=0),t.x+60<1&&t.x+60>0)return x=1,!0}else if(o===a.CarSegments.yellowCar1&&-160===t.y){if(L>0&&L<80)return L++,!0;if(L>=80&&(L=0),t.x+60<1&&t.x+60>0)return L=1,!0}else if(o===a.CarSegments.yellowCar1&&-165===t.x){if(R>0&&R<80)return R++,!0;if(R>=80&&(R=0),t.y-170<1&&t.y-170>0)return R=1,!0}return!1}(o,n)){t.position.x=n.x,t.position.y=n.y;var e=new THREE.Vector3(0,0,1),s=_(o,P);s=s>0?-Math.PI+s:Math.PI+s,t.quaternion.setFromAxisAngle(e,s)}}else P=0}}function _(o,t){var n=a.pathList[o].getTangent(t).normalize();return-Math.atan(n.x/n.y)}function O(){if(!0!==D){var t=r.activeSegment;S(a.CarSegments.redCar,c.cars.redCar),S(a.CarSegments.blueCar,c.cars.blueCar),S(a.CarSegments.yellowCar1,c.cars.yellowCar1),S(a.CarSegments.greenCar,c.cars.greenCar),function(o){var t=new THREE.Vector3;if(null!==a.pathList){var n=(0,r.getPosition)();n+=.002*(0,r.getBikeSpeed)(),(0,r.setPosition)(n);var e=a.pathList[o].getPoint((0,r.getPosition)());if(null!==e&&null!==l.bike&&null!==l.bike.mesh){v.destroy(),E.destroy(),l.bike.mesh.position.x=e.x,l.bike.mesh.position.y=e.y,t.setFromMatrixPosition(l.bike.mesh.tripod.matrixWorld),d.inspectCamera.position.lerp(t,.2),d.inspectCamera.lookAt(l.bike.mesh.position);var s=_(o,(0,r.getPosition)());s>0&&(s=-Math.PI+s),o>40&&52!==o&&60!==o&&66!==o&&74!==o&&75!==o&&76!==o&&77!==o&&85!==o&&(s-=Math.PI);var i=new THREE.Vector3(0,0,1);l.bike.mesh.quaternion.setFromAxisAngle(i,s),l.bike.mesh.children.length>4&&(l.bike.front_wheel.rotation.x-=.1,l.bike.back_wheel.rotation.x-=.1)}}}(t),o("#score").text("SCORE: "+r.reward),function(){var o=a.PedSegments.boy1,t=a.PedSegments.robot1;if(null!==c.pedestrians){g+=.002*C,y+=.005*C;var n=a.pathList[o].getPoint(g),e=a.pathList[t].getPoint(y);if(null!==n)if(null!==e){var s=c.pedestrians.walkingBoy.position.y,i=c.pedestrians.runningRobot.position.x;0!=s&&(s>n.y&&!1===T?(c.pedestrians.walkingBoy.rotation.y=0,c.pedestrians.walkingGirl.rotation.y=0,c.pedestrians.walkingGirl1.rotation.y=0,T=!0,A=!1):s<n.y&&!1===A&&(c.pedestrians.walkingBoy.rotation.y=Math.PI,c.pedestrians.walkingGirl.rotation.y=Math.PI,c.pedestrians.walkingGirl1.rotation.y=Math.PI,T=!1,A=!0)),0!=i&&(i>e.x&&!1===B?(c.pedestrians.runningRobot.rotation.y=3*Math.PI/2,c.pedestrians.runningRobot1.rotation.y=3*Math.PI/2,B=!0,M=!1):i<e.x&&!1===M&&(c.pedestrians.runningRobot.rotation.y=Math.PI/2,c.pedestrians.runningRobot1.rotation.y=Math.PI/2,B=!1,M=!0)),c.pedestrians.walkingBoy.position.x=n.x,c.pedestrians.walkingGirl.position.x=n.x-5,c.pedestrians.walkingGirl1.position.x=n.x+5,c.pedestrians.walkingBoy.position.y=c.pedestrians.walkingGirl.position.y=n.y,c.pedestrians.walkingGirl1.position.y=n.y-5,c.pedestrians.runningRobot.position.x=e.x,c.pedestrians.runningRobot1.position.x=e.x,c.pedestrians.runningRobot.position.y=e.y,c.pedestrians.runningRobot1.position.y=e.y-5}else y=0;else g=0}}(),function(o){0!==o&&(!0===I(l.bike.mesh,c.cars.redCar)&&(console.log("Hit Red Car!"),H()),!0===I(l.bike.mesh,c.cars.blueCar)&&(console.log("Hit Blue Car!"),H()),!0===I(l.bike.mesh,c.cars.greenCar)&&(console.log("Hit Blue Car!"),H()),!0===I(l.bike.mesh,c.cars.yellowCar1)&&(console.log("Hit Blue Car!"),H()),!0===I(l.bike.mesh,c.pedestrians.walkingBoy)&&(console.log("Hit Boy!"),H()),!0===I(l.bike.mesh,c.pedestrians.walkingGirl)&&(console.log("Hit Girl!"),H()),!0===I(l.bike.mesh,c.pedestrians.walkingGirl1)&&(console.log("Hit Girl 1!"),H()),!0===I(l.bike.mesh,c.pedestrians.runningRobot)&&(console.log("Hit Running Robot!"),H()),!0===I(l.bike.mesh,c.pedestrians.runningRobot1)&&(console.log("Hit Running Robot1!"),H()),null!==c.parkedCarDoor&&(6===o?(Math.random()<.025&&(c.parkedCarDoor.bone.rotation.z=-1.5,c.parkedCarDoor.doorCollider.position.y=-170),I(l.bike.mesh,c.parkedCarDoor.doorCollider)&&(console.log("Hit Car Door!"),H())):(c.parkedCarDoor.bone.rotation.z=0,c.parkedCarDoor.doorCollider.position.y=-172)))}(t),m=requestAnimationFrame(O),function(){d.orbitControls.hcontrols.update(),d.orbitControls.tcontrols.update(),h.pressed("1")&&(0,d.setActiveCamera)(d.hoveringCamera),h.pressed("2")&&(0,d.setActiveCamera)(d.trailingCamera);var o=(0,d.getActiveCamera)();o&&b.render(f,o);var t=k.getDelta();l.bike.mixer&&l.bike.mixer.update(t),c.town.billBoard&&c.town.billBoard.mixer&&c.town.billBoard.mixer.update(t),c.pedestrians.walkingBoy&&c.pedestrians.walkingBoy.mixer&&c.pedestrians.walkingBoy.mixer.update(t),c.pedestrians.walkingBoy1&&c.pedestrians.walkingBoy1.mixer&&c.pedestrians.walkingBoy1.mixer.update(t),c.pedestrians.walkingGirl&&c.pedestrians.walkingGirl.mixer&&c.pedestrians.walkingGirl.mixer.update(t),c.pedestrians.walkingGirl1&&c.pedestrians.walkingGirl1.mixer&&c.pedestrians.walkingGirl1.mixer.update(t),c.pedestrians.runningRobot&&c.pedestrians.runningRobot.mixer&&c.pedestrians.runningRobot.mixer.update(t),c.pedestrians.runningRobot1&&c.pedestrians.runningRobot1.mixer&&c.pedestrians.runningRobot1.mixer.update(t)}()}}function z(){!function(){var o=window.innerHeight,t=window.innerWidth;(f=new THREE.Scene).fog=new THREE.Fog(i.default.white,100,1e3),f.add((0,e.default)(100)),f.rotation.z+=Math.PI/2,f.rotation.x-=Math.PI/2,(b=new THREE.WebGLRenderer({alpha:!0,antialias:!0})).setSize(t,o),b.shadowMap.enabled=!0,b.setPixelRatio(window.devicePixelRatio),document.getElementById("townId").appendChild(b.domElement),v=lottie.loadAnimation({container:document.getElementById("logo"),renderer:"svg",loop:!0,autoplay:!0,path:"js/data_rs.json"}),E=lottie.loadAnimation({container:document.getElementById("bike"),renderer:"svg",loop:!0,autoplay:!0,path:"js/data_bike.json"}),(0,s.infoButton)(),(0,s.selectCameraView)()}(),(0,d.createCameras)(f,b,l.bike),function(){var o=new THREE.MeshBasicMaterial({wireframe:!0,color:0}),t=new THREE.PlaneGeometry(500,500,20,20),n=new THREE.Mesh(t,o),e=new THREE.Object3D;e.add(n),f.add(e)}(),(0,u.createLight)(f),(0,c.createTown)(),f.add(c.town),(0,l.createBike)(),f.add(l.bike.mesh),l.bike.mesh.add(d.trailingCamera),(0,d.setActiveCamera)(d.trailingCamera);var t;t=(0,a.createPaths)();for(var n=0;n<t.length;n++)f.add(t[n]);(0,p.hideAll)(),function(){var t=o('<div class="welcomeDialog"></div>');t.append('<img src="./images/gameLayout.png" />'),t.append('<video controls width="500" autoplay="true">           <source src="./images/sampleRide.mp4" type="video/mp4">           <source src="./images/sampleScene.png">           Sorry, your browser doesn\'t support embedded videos.           </video>'),t.append("<p> In this level, the user is prompted to choose alternate paths for the cyclist.                         The objective of the game to \n make it to the end without a crash.</p>"),t.append('<div class="row">                           <div class="border col-md-6 boxlayout">                              <ul> Sample Interactions:                                <li> Cyclist stops at intersection. The user has to decide between going straight or turning right.</li>                                <li> Cyclist can and SHOULD check surrounding traffic before deciding on the next move. </li>                                <li> Cyclist can check the View from Behind, Right Side and/or Left Side.</li>                               <li> If the Cyclist does not make a choice when COUNTDOWN reaches 0, A random choice is done.</li>                              </ul>                           </div>                           <div class="border col-md-6 boxlayout">                             <ul> Controls:                               <li> To Choose the Top Hovering Camera, Press 1 (Mobile: Red Camera Icon)</li>                               <li> To Choose the Trailing Camera, Press 2 (Mobile: Black Camera Icon)</li>                               <li> To Zoom in and Out, use middle mouse wheel(Mobile TBD)</li>                               <li> To Rotate around the Z axis, use left mouse button(Mobile TBD)</li>                               <li> To move the TOP Camera around, use right mouse button (Mobile: screen touch)</li>                             </ul>                           </div>                         </div>'),BootstrapDialog.show({title:"Ride Safely Interactive",message:t,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Start Game",cssClass:"btn-success",action:function(o){(0,p.visibilityDuringGame)(),o.close(),O()}},{label:"Quit Game",cssClass:"btn-danger",action:function(o){(0,p.visibilityOutsideGame)(),o.close()}}]})}(),D=!1}window.addEventListener("load",z,!1)}).call(this,n(0))},function(o,t,n){"use strict";function e(o,t,n,e){var s=new THREE.Geometry,a=void 0;a=e?new THREE.LineDashedMaterial({color:n,dashSize:3,gapSize:3}):new THREE.LineBasicMaterial({color:n}),s.vertices.push(o.clone()),s.vertices.push(t.clone());var i=new THREE.Line(s,a,THREE.LineSegments);return i.computeLineDistances(),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o){o=o||200;var t=new THREE.Object3D;return t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(o,0,0),16711680,!1)),t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(-o,0,0),16711680,!0)),t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(0,o,0),65280,!1)),t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(0,-o,0),65280,!0)),t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,o),255,!1)),t.add(e(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-o),255,!0)),t}},function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.selectCameraView=t.infoButton=void 0;var e=n(1);t.infoButton=function(){o("#infoButton").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",position:"fixed",title:"Place Holder for More Game Info."}).append("<img width='42' height='42' src='images/infoButton.png'/>").tooltip({disabled:!0,close:function(t,n){o(this).tooltip("disable")}}),o("#infoButton").on("click",function(){o(this).tooltip("enable").tooltip("open")})},t.selectCameraView=function(){o("#topCamera").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",title:"Click Me for Top Camera View."}).append("<img width='42' height='42' src='images/camera-icon-red.png'/>").tooltip({disabled:!0,close:function(t,n){o(this).tooltip("disable")}}),o("#topCamera").on("click",function(){(0,e.setActiveCamera)(e.hoveringCamera)}),o("#topCamera").hover(function(){o(this).append(o("<span class='cameraDisplay'> Click Me for Top Camera View!</span>"))},function(){o(this).find("span:last").remove()}),o("#chaseCamera").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",title:"Click Me for Trailing Camera View."}).append("<img width='42' height='42' src='images/camera-icon.png'/>").tooltip({disabled:!0,close:function(t,n){o(this).tooltip("disable")}}),o("#chaseCamera").on("click",function(){(0,e.setActiveCamera)(e.trailingCamera)}),o("#chaseCamera").hover(function(){o(this).append(o("<span class='cameraDisplay'> Click Me for Trailing Camera View!</span>"))},function(){o(this).find("span:last").remove()})}}).call(this,n(0))},function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.reward=t.cleanup=t.setPosition=t.getPosition=t.getBikeSpeed=t.resetPosition=t.resetSegment=t.activeSegment=void 0;var e=n(2),s=n(4),a=n(1),i=n(5),r=n(6),l=n(7),c=2e3,d=0,u=0,p=2,w=e.pathList,b=null,f=500,P=100,g=0,y=null,h=null,C=12e3,m=null,D=P,k=10,v=20,E=20,T=5;function B(){t.reward=D=P,g=0}function A(){u=0}function M(o){p=o}function x(){return p}function R(){(0,a.setActiveCamera)(a.trailingCamera),null}function L(){if(b=null,null!==e.pathList&&null!==d)if(null===e.pathList[d].getPoint(u))switch(M(2+5*Math.random()),(0,i.setHLIntensity)(6),s.bike.anim.paused=!0,(0,l.hideCameraSelect)(),(0,a.setActiveCamera)(a.trailingCamera),d){case 0:!function(){y=setTimeout(I,C,1,3,r.town.dpArrows[0],null,10);var n=o("<div > </div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[0].position.z=1;BootstrapDialog.show({title:"DP-1: Limited Time to decide!",cssClass:"decisionPoint1",message:n,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-primary",action:function(o){t.reward=D-=v,H(1,o,null,r.town.dpArrows[0],h)}},{label:"Turn Right",cssClass:"btn-danger",action:function(o){t.reward=D+=E,H(3,o,1,r.town.dpArrows[0],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 1:!function(){y=setTimeout(I,C,2,4,r.town.dpArrows[1],2,2);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[1].position.z=1,BootstrapDialog.show({title:"DP-2: Limited seconds to choose a direction!",cssClass:"decisionPoint1",message:n,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-primary",action:function(o){H(2,o,2,r.town.dpArrows[1],h),t.reward=D+=E}},{label:"Turn Right",cssClass:"btn-danger",action:function(o){t.reward=D-=v,H(4,o,1,r.town.dpArrows[1],h)}},{label:"Look Right",cssClass:"btn-warning lookout",action:function(o){_(0)}}]})}();break;case 3:!function(){y=setTimeout(I,C,6,5,r.town.dpArrows[2],null,null);var n=o("<div ></div>");n.append("Caution: potential car door opening! <br />"),h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[2].position.z=1,BootstrapDialog.show({title:"DP-3: Limited seconds to choose a direction!",cssClass:"decisionPoint1",message:n,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-danger",action:function(o){t.reward=D-=v,H(6,o,null,r.town.dpArrows[2],h)}},{label:"Steer Away",cssClass:"btn-primary",action:function(o){t.reward=D+=E,H(5,o,null,r.town.dpArrows[2],h)}},{label:"Look Back",cssClass:"btn-warning lookout",action:function(o){_(-Math.PI)}}]})}();break;case 4:!function(){y=setTimeout(I,C,9,10,r.town.dpArrows[7],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[7].position.z=1,BootstrapDialog.show({title:"DP-8: Don't take chances!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(9,o,null,r.town.dpArrows[7],h)}},{label:"Continue Straight to Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(10,o,null,r.town.dpArrows[7],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI/2)}}]})}();break;case 8:!function(){y=setTimeout(I,C,10,9,r.town.dpArrows[4],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[4].position.z=1,BootstrapDialog.show({title:"DP-5: Don't Tempt Drivers!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-primary",action:function(o){H(10,o,null,r.town.dpArrows[4],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(9,o,null,r.town.dpArrows[4],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 5:case 6:!function(){y=setTimeout(I,C,8,7,r.town.dpArrows[3],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[3].position.z=1,BootstrapDialog.show({title:"DP-4: Limited seconds to choose a direction!",cssClass:"decisionPoint2",message:t,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(8,o,null,r.town.dpArrows[3],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(7,o,null,r.town.dpArrows[3],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-info lookout2",action:function(o){_(-Math.PI)}}]})}();break;case 7:!function(){y=setTimeout(I,C,13,14,r.town.dpArrows[5],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[5].position.z=1,BootstrapDialog.show({title:"DP-6: Limited seconds to choose a direction",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(13,o,null,r.town.dpArrows[5],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(14,o,null,r.town.dpArrows[5],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout",action:function(o){_(Math.PI)}}]})}();break;case 10:!function(){y=setTimeout(I,C,11,12,r.town.dpArrows[6],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[6].position.z=1,BootstrapDialog.show({title:"DP-7: Don't take chances!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(11,o,null,r.town.dpArrows[6],h)}},{label:"Cross to Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(12,o,null,r.town.dpArrows[6],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI/2)}}]})}();break;case 2:!function(){y=setTimeout(I,C,15,16,r.town.dpArrows[8],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[8].position.z=1,BootstrapDialog.show({title:"DP-9: Heavy Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue on Road",cssClass:"btn-primary",action:function(o){H(15,o,null,r.town.dpArrows[8],h)}},{label:"Cross to Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(16,o,null,r.town.dpArrows[8],h)}},{label:"Look Back",cssClass:"btn-warning lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-success lookout1",action:function(o){_(0)}}]})}();break;case 9:!function(){y=setTimeout(I,C,19,20,r.town.dpArrows[10],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[10].position.z=1,BootstrapDialog.show({title:"DP-11: Pedestrians Alert!!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue on Roadside",cssClass:"btn-primary",action:function(o){H(19,o,null,r.town.dpArrows[10],h)}},{label:"Cross to Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(20,o,null,r.town.dpArrows[10],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 15:!function(){y=setTimeout(I,C,23,24,r.town.dpArrows[12],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[12].position.z=1,BootstrapDialog.show({title:"DP-13: Pedestrians Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue on Roadside",cssClass:"btn-danger",action:function(o){H(23,o,null,r.town.dpArrows[12],h)}},{label:"Cross to Sidewalk",cssClass:"btn-success",action:function(o){t.reward=D-=20,H(24,o,null,r.town.dpArrows[12],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI)}}]})}();break;case 14:!function(){y=setTimeout(I,C,21,22,r.town.dpArrows[11],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[11].position.z=1,BootstrapDialog.show({title:"DP-12: Heavy Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue on Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(21,o,null,r.town.dpArrows[11],h)}},{label:"Cross to Roadside",cssClass:"btn-primary",action:function(o){H(22,o,null,r.town.dpArrows[11],h)}},{label:"Look Back",cssClass:"btn-warning lookout",action:function(o){_(-Math.PI/2)}}]})}();break;case 16:!function(){y=setTimeout(I,C,17,18,r.town.dpArrows[9],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[9].position.z=1,BootstrapDialog.show({title:"DP-10: Pedestrians Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue on Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(17,o,null,r.town.dpArrows[9],h)}},{label:"Cross to Roadside",cssClass:"btn-primary",action:function(o){H(18,o,null,r.town.dpArrows[9],h)}},{label:"Look Back",cssClass:"btn-warning lookout",action:function(o){_(-Math.PI)}}]})}();break;case 13:!function(){y=setTimeout(I,C,26,27,r.town.dpArrows[13],null,null);var n=o("<div ></div>");h=S(C/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[13].position.z=1,BootstrapDialog.show({title:"DP-14: Pedestrians Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue straight",cssClass:"btn-primary",action:function(o){H(25,o,null,r.town.dpArrows[13],h)}},{label:"Cross thru Sidewalk",cssClass:"btn-danger",action:function(o){t.reward=D-=20,H(26,o,null,r.town.dpArrows[13],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(0)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI)}}]})}();break;case 11:case 12:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 26:case 27:!function(){var t=o('<div class="decisionPoint"></div>');d,BootstrapDialog.show({title:"Successful Completion!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart Cycling Journey",cssClass:"btn-success",action:function(o){B(),H(0,o)}},{label:"Go to Level 2",cssClass:"btn-success",action:function(o){H(49,o)}},{label:"Leave Game",cssClass:"btn-danger",action:function(o){(0,l.visibilityOutsideGame)(),(0,l.showCameraSelect)(),o.close()}}]})}();break;case 49:!function(){y=setTimeout(I,C,50,51,r.town.dpArrows[20],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[20].position.z=1,BootstrapDialog.show({title:"DP-21: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(50,o,null,r.town.dpArrows[20],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(51,o,null,r.town.dpArrows[20],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}}]})}();break;case 50:V();break;case 51:!function(){y=setTimeout(I,C,54,55,r.town.dpArrows[21],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[21].position.z=1,BootstrapDialog.show({title:"DP-22: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(55,o,null,r.town.dpArrows[21],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(54,o,null,r.town.dpArrows[21],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 52:j();break;case 53:G();break;case 54:!function(){y=setTimeout(I,C,68,69,r.town.dpArrows[22],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[22].position.z=1,BootstrapDialog.show({title:"DP-23: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(68,o,null,r.town.dpArrows[22],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(69,o,null,r.town.dpArrows[22],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 55:!function(){y=setTimeout(I,C,62,63,r.town.dpArrows[29],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[29].position.z=1,BootstrapDialog.show({title:"DP-30: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-primary",action:function(o){H(63,o,null,r.town.dpArrows[29],h)}},{label:"Cross to Right",cssClass:"btn-danger",action:function(o){H(62,o,null,r.town.dpArrows[29],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI)}}]})}();break;case 56:!function(){y=setTimeout(I,C,84,85,r.town.dpArrows[37],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[37].position.z=1,BootstrapDialog.show({title:"DP-38: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-primary",action:function(o){H(84,o,null,r.town.dpArrows[37],h)}},{label:"Turn Left",cssClass:"btn-danger",action:function(o){H(85,o,null,r.town.dpArrows[37],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}();break;case 57:!function(){y=setTimeout(I,C,58,59,r.town.dpArrows[27],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[27].position.z=1,BootstrapDialog.show({title:"DP-28: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(59,o,null,r.town.dpArrows[27],h)}},{label:"Continue Cross",cssClass:"btn-danger",action:function(o){H(58,o,null,r.town.dpArrows[27],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI/2)}}]})}();break;case 58:O();break;case 59:!function(){y=setTimeout(I,C,60,61,r.town.dpArrows[28],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[28].position.z=1,BootstrapDialog.show({title:"DP-29: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Back",cssClass:"btn-primary",action:function(o){H(60,o,null,r.town.dpArrows[28],h)}},{label:"Turn Right",cssClass:"btn-danger",action:function(o){H(61,o,null,r.town.dpArrows[28],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(0)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(Math.PI)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI/2)}}]})}();break;case 60:K();break;case 61:G();break;case 62:O();break;case 63:W();break;case 64:case 72:F();break;case 65:J();break;case 66:!function(){y=setTimeout(I,C,74,75,r.town.dpArrows[32],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[32].position.z=1,BootstrapDialog.show({title:"DP-33: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(75,o,null,r.town.dpArrows[32],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(74,o,null,r.town.dpArrows[32],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI)}}]})}();break;case 68:!function(){y=setTimeout(I,C,80,81,r.town.dpArrows[35],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[35].position.z=1,BootstrapDialog.show({title:"DP-36: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-primary",action:function(o){H(80,o,null,r.town.dpArrows[35],h)}},{label:"Cross Road",cssClass:"btn-danger",action:function(o){H(81,o,null,r.town.dpArrows[35],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI)}}]})}();break;case 69:!function(){y=setTimeout(I,C,72,73,r.town.dpArrows[31],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[31].position.z=1,BootstrapDialog.show({title:"DP-32: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross Left",cssClass:"btn-primary",action:function(o){H(73,o,null,r.town.dpArrows[31],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(72,o,null,r.town.dpArrows[31],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(0)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI/2)}}]})}();break;case 71:z();break;case 73:J();break;case 74:!function(){y=setTimeout(I,C,76,77,r.town.dpArrows[33],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[33].position.z=1,BootstrapDialog.show({title:"DP-34: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(76,o,null,r.town.dpArrows[33],h)}},{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(77,o,null,r.town.dpArrows[33],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI)}}]})}();break;case 75:K();break;case 76:j();break;case 77:case 85:V();break;case 78:case 86:O();break;case 79:W();break;case 80:J();break;case 81:case 83:case 87:F();break;case 84:G();break;case 88:z();break;case 67:case 70:case 72:case 82:case 89:default:!function(){var t=o('<div class="decisionPoint"></div>');d,BootstrapDialog.show({title:"Successful Return!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart Cycling Journey",cssClass:"btn-success",action:function(o){B(),H(0,o)}},{label:"Leave Game",cssClass:"btn-danger",action:function(o){(0,l.visibilityOutsideGame)(),(0,l.showCameraSelect)(),o.close()}}]})}()}else b=setTimeout(L,c)}function I(n,e,s,a,i){t.reward=D-=k,Math.random()<=.5?H(n,null,a,s):H(e,null,i,s),o.each(BootstrapDialog.dialogs,function(o,t){t.close()})}function H(o,n,e,r,u){t.reward=D+=g,t.activeSegment=d=o,A(),n&&n.close(),b=setTimeout(L,c),y&&(clearTimeout(y),y=null),e&&M(e+x()),r&&(r.position.z=-1),u&&clearInterval(u),s.bike.anim.paused=!1,(0,a.setActiveCamera)(a.trailingCamera),(0,i.setHLIntensity)(4),(0,l.showCameraSelect)()}function S(t){return m=setInterval(function(){g=t,t<=6&&t>0?o(".display_cnt").html("<font color='red'>"+--t+"</font>"):t>0&&o(".display_cnt").html(--t),t<=0&&(clearInterval(m),m=null,t=0)},1e3)}function _(o){(0,a.setActiveCamera)(a.inspectCamera);var n=new THREE.Vector3;n.setFromMatrixPosition(s.bike.mesh.tripod.matrixWorld),a.inspectCamera.position.lerp(n,.2),a.inspectCamera.lookAt(s.bike.mesh.position),a.inspectCamera.rotation.x=0,a.inspectCamera.rotation.y=o,a.inspectCamera.rotation.z=0,setTimeout(R,f),t.reward=D+=T}function O(){y=setTimeout(I,C,64,65,r.town.dpArrows[23],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[23].position.z=1,BootstrapDialog.show({title:"DP-24: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-danger",action:function(o){H(65,o,null,r.town.dpArrows[23],h)}},{label:"Cross Road",cssClass:"btn-primary",action:function(o){H(64,o,null,r.town.dpArrows[23],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}function z(){y=setTimeout(I,C,66,67,r.town.dpArrows[24],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[24].position.z=1,BootstrapDialog.show({title:"DP-25: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(67,o,null,r.town.dpArrows[24],h)}},{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(66,o,null,r.town.dpArrows[24],h)}},{label:"Look Left",cssClass:"btn-danger lookout",action:function(o){_(0)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(Math.PI/2)}}]})}function j(){y=setTimeout(I,C,56,57,r.town.dpArrows[25],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[25].position.z=1,BootstrapDialog.show({title:"DP-26: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Back",cssClass:"btn-primary",action:function(o){H(56,o,null,r.town.dpArrows[25],h)}},{label:"Turn Left",cssClass:"btn-danger",action:function(o){H(57,o,null,r.town.dpArrows[25],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI/2)}}]})}function V(){y=setTimeout(I,C,52,53,r.town.dpArrows[26],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[26].position.z=1,BootstrapDialog.show({title:"DP-27: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross to Roadside",cssClass:"btn-primary",action:function(o){H(53,o,null,r.town.dpArrows[26],h)}},{label:"Along Sidewalk",cssClass:"btn-danger",action:function(o){H(52,o,null,r.town.dpArrows[26],h)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}function G(){y=setTimeout(I,C,70,71,r.town.dpArrows[30],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[30].position.z=1,BootstrapDialog.show({title:"DP-31: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-primary",action:function(o){H(70,o,null,r.town.dpArrows[30],h)}},{label:"Cross Road",cssClass:"btn-danger",action:function(o){H(71,o,null,r.town.dpArrows[30],h)}},{label:"Look Left",cssClass:"btn-danger lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}function K(){y=setTimeout(I,C,78,79,r.town.dpArrows[34],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[34].position.z=1,BootstrapDialog.show({title:"DP-35: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross To Left",cssClass:"btn-primary",action:function(o){H(79,o,null,r.town.dpArrows[34],h)}},{label:"Turn Left",cssClass:"btn-danger",action:function(o){H(78,o,null,r.town.dpArrows[34],h)}},{label:"Look Left",cssClass:"btn-danger lookout",action:function(o){_(-Math.PI)}},{label:"Look Right",cssClass:"btn-success lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI/2)}}]})}function J(){y=setTimeout(I,C,82,83,r.town.dpArrows[36],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[36].position.z=1,BootstrapDialog.show({title:"DP-37: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-primary",action:function(o){H(82,o,null,r.town.dpArrows[36],h)}},{label:"Cross Road",cssClass:"btn-danger",action:function(o){H(83,o,null,r.town.dpArrows[36],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(0)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-danger lookout1",action:function(o){_(Math.PI/2)}}]})}function W(){y=setTimeout(I,C,86,87,r.town.dpArrows[38],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[38].position.z=1,BootstrapDialog.show({title:"DP-39: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross Road",cssClass:"btn-primary",action:function(o){H(86,o,null,r.town.dpArrows[38],h)}},{label:"Turn Left",cssClass:"btn-danger",action:function(o){H(87,o,null,r.town.dpArrows[38],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-danger lookout",action:function(o){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-warning lookout1",action:function(o){_(0)}}]})}function F(){y=setTimeout(I,C,82,83,r.town.dpArrows[39],null,null);var t=o("<div ></div>");h=S(C/1e3),t.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[39].position.z=1,BootstrapDialog.show({title:"DP-40: Stay Alert/Traffic Alert!",message:t,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Continue Straight",cssClass:"btn-danger",action:function(o){H(88,o,null,r.town.dpArrows[39],h)}},{label:"Cross to Finish",cssClass:"btn-success",action:function(o){H(89,o,null,r.town.dpArrows[39],h)}},{label:"Look Left",cssClass:"btn-success lookout",action:function(o){_(0)}},{label:"Look Right",cssClass:"btn-warning lookout1",action:function(o){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-danger lookout1",action:function(o){_(Math.PI/2)}}]})}null!==w&&setTimeout(L,c),t.activeSegment=d,t.resetSegment=function(){t.activeSegment=d=0},t.resetPosition=A,t.getBikeSpeed=x,t.getPosition=function(){return u},t.setPosition=function(o){u=o},t.cleanup=function(){B(),o.each(BootstrapDialog.dialogs,function(o,t){t.close()}),y&&(clearTimeout(y),y=null),b&&clearTimeout(b),h&&clearInterval(h),o.each(r.town.dpArrows,function(o,t){t&&(t.position.z=-1)}),H(0)},t.reward=D}).call(this,n(0))}]);
//# sourceMappingURL=app.bundle.js.map