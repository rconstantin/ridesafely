!function(t){var n={};function o(s){if(n[s])return n[s].exports;var e=n[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,n,s){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)o.d(s,e,function(n){return t[n]}.bind(null,e));return s},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=8)}([function(t,n){t.exports=jQuery},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=null,e=null,a=null,i=null,r=null;n.createCameras=function(t,o){var l=window.innerWidth/window.innerHeight;n.orbitControls=i=new THREE.Object3D,n.trailingCamera=e=new THREE.PerspectiveCamera(45,l,1,1e3),e.position.set(0,-200,50),s=e,i.tcontrols=new THREE.OrbitControls(e,o.domElement),i.tcontrols.maxPolarAngle=2.7,i.tcontrols.minPolarAngle=2.7,i.tcontrols.maxAzimuthAngle=0,i.tcontrols.minAzimuthAngle=0,i.tcontrols.minDistance=50,i.tcontrols.maxDistance=250,i.tcontrols.enableDamping=!0,i.tcontrols.dampingFactor=.25,i.tcontrols.enableZoom=!1,i.tcontrols.enablePan=!1,i.tcontrols.update(),n.hoveringCamera=a=new THREE.PerspectiveCamera(45,l,1,1e3),a.position.set(0,350,450),a.lookAt(t.position),i.hcontrols=new THREE.OrbitControls(a,o.domElement),i.hcontrols.maxPolarAngle=1.4,i.hcontrols.minPolarAngle=Math.PI/4,i.hcontrols.maxAzimuthAngle=Math.PI/2,i.hcontrols.minAzimuthAngle=-Math.PI/2,i.hcontrols.minDistance=50,i.hcontrols.maxDistance=400,i.hcontrols.enableDamping=!0,i.hcontrols.dampingFactor=.25,i.hcontrols.enableZoom=!0,i.hcontrols.update(),n.inspectCamera=r=new THREE.PerspectiveCamera(35,l,.1,1e3),r.position.set(0,2,25)},n.getActiveCamera=function(){return s},n.setActiveCamera=function(t){s=t},n.hoveringCamera=a,n.trailingCamera=e,n.orbitControls=i,n.inspectCamera=r},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PedSegments=n.CarSegments=n.pathList=n.getDP=n.lines=n.createPaths=void 0;var s=function(t){return t&&t.__esModule?t:{default:t}}(o(3));var e=[],a=[],i=0,r=49,l=0,c=[],d={redCar:31,blueCar:32,yellowCar:33,yellowCar1:34,greenCar:35},u={boy1:41,robot1:42},p={DP1:0,DP2:1,DP3:2,DP4:3,DP5:4,DP6:5,DP7:6,DP8:7,DP9:8,DP10:9,DP11:10,DP12:11,DP13:12,DP14:13,DP21:21,DP22:22,DP23:23,DP24:24,DP25:25,DP26:26,DP27:27,DP28:28,DP29:29,DP30:30,DP31:31,DP32:32,DP33:33,DP34:34,DP35:35,DP36:36,DP37:37,DP38:38,DP39:39,DP40:40};function b(t,n,o){e[t]=new THREE.Path,e[t].moveTo(n[0],n[1]);for(var a=0;a<o.length;a++)e[t].lineTo(o[a][0],o[a][1]);i&&(c[l++]=function(t){for(var n=[],o=void 0,a=t<30?s.default.red:t>48?s.default.green:s.default.blue,i=0;i<e[t].curves.length;i++)o=new THREE.Vector3(e[t].curves[i].v1.x,e[t].curves[i].v1.y,0),n[i]=new THREE.Vector3(o.x,o.y,0);o=new THREE.Vector3(e[t].curves[e[t].curves.length-1].v2.x,e[t].curves[e[t].curves.length-1].v2.y,0),n[e[t].curves.length]=new THREE.Vector3(o.x,o.y,0);var r=new THREE.Geometry;r.vertices=n;var l=new THREE.LineDashedMaterial({linewidth:1,color:a,dashSize:3,gapSize:3});return new THREE.Line(r,l)}(t))}n.createPaths=function(){var t=[],n=[];a[p.DP1]=new THREE.Vector3(-160,-175,0),a[p.DP2]=new THREE.Vector3(-160,25,0),a[p.DP3]=new THREE.Vector3(-120,-170,0),a[p.DP4]=new THREE.Vector3(-55,-170,0),a[p.DP5]=new THREE.Vector3(-40,25,0),a[p.DP6]=new THREE.Vector3(100,-170,0),a[p.DP7]=new THREE.Vector3(100,25,0),a[p.DP8]=new THREE.Vector3(-40,25,0),a[p.DP9]=new THREE.Vector3(-160,178,0),a[p.DP10]=new THREE.Vector3(-10,240,0),a[p.DP11]=new THREE.Vector3(-5,178,0),a[p.DP12]=new THREE.Vector3(150,-10,0),a[p.DP13]=new THREE.Vector3(-55,178,0),a[p.DP14]=new THREE.Vector3(135,25,0),a[p.DP21]=new THREE.Vector3(190,220,0),a[p.DP22]=new THREE.Vector3(-10,220,0),a[p.DP23]=new THREE.Vector3(-160,220,0),a[p.DP24]=new THREE.Vector3(-150,20,0),a[p.DP25]=new THREE.Vector3(-195,-170,0),a[p.DP26]=new THREE.Vector3(135,70,0),a[p.DP27]=new THREE.Vector3(135,-170,0),a[p.DP28]=new THREE.Vector3(0,70,0),a[p.DP29]=new THREE.Vector3(-25,-125,0),a[p.DP30]=new THREE.Vector3(-50,65,0),a[p.DP31]=new THREE.Vector3(-148,-130,0),a[p.DP32]=new THREE.Vector3(-195,65,0),a[p.DP33]=new THREE.Vector3(-55,-170,0),a[p.DP34]=new THREE.Vector3(100,-170,0),a[p.DP35]=new THREE.Vector3(-55,15,0),a[p.DP36]=new THREE.Vector3(-160,65,0),a[p.DP37]=new THREE.Vector3(-160,-125,0),a[p.DP38]=new THREE.Vector3(105,-125,0),a[p.DP39]=new THREE.Vector3(-148,50,0),a[p.DP40]=new THREE.Vector3(-195,-125,0),b(0,n=[-155,-240],t=[[-155,-170]]),t=[],b(1,n=[-155,-170],t=[[-155,25]]),t=[],b(2,n=[-155,25],t=[[-155,178]]),t=[],b(3,n=[-155,-170],t=[[-120,-170]]),t=[],b(4,n=[-155,25],t=[[-150,25],[-150,40],[-55,40]]),t=[],b(5,n=[-120,-170],t=[[-110,-160],[-55,-170]]),t=[],b(6,n=[-120,-170],t=[[-55,-170]]),t=[],b(7,n=[-55,-170],t=[[110,-170]]),t=[],b(8,n=[-55,-170],t=[[-25,-170],[-25,25]]),t=[],b(9,n=[-55,25],t=[[-45,25],[-10,25],[-10,178]]),t=[],b(10,n=[-55,25],t=[[-45,25],[110,25]]),t=[],b(11,n=[110,25],t=[[135,25],[135,185],[250,185]]),t=[],b(12,n=[110,25],t=[[150,25],[150,185],[250,185]]),t=[],b(13,n=[100,-170],t=[[135,-170],[135,25]]),t=[],b(14,n=[100,-170],t=[[150,-170],[150,-15]]),t=[],b(15,n=[-160,178],t=[[-55,178]]),t=[],b(16,n=[-160,178],t=[[-160,240],[-5,240]]),t=[],b(17,n=[-10,240],t=[[250,240]]),t=[],b(18,n=[-10,240],t=[[0,178],[250,178]]),t=[],b(19,n=[-5,178],t=[[250,178]]),t=[],b(20,n=[-5,178],t=[[-5,240],[250,240]]),t=[],b(21,n=[150,-10],t=[[150,178],[250,178]]),t=[],b(22,n=[150,-10],t=[[135,-20],[135,178],[250,178]]),t=[],b(23,n=[-55,178],t=[[250,178]]),t=[],b(24,n=[-55,178],t=[[-55,240],[250,240]]),t=[],b(25,n=[a[p.DP14].x,a[p.DP14].y],t=[[135,178],[250,178]]),t=[],b(26,n=[a[p.DP14].x,a[p.DP14].y],t=[[170,a[p.DP14].y],[170,178],[250,178]]),t=[],n=[250,210],t=[[185,210],[185,-165],[115,-165],[115,60],[0,60],[-10,40],[-165,40],[-165,188],[-40,188],[-40,40],[125,40],[125,188],[250,188]],b(d.redCar,n,t),t=[],n=[-250,-160],t=[[128,-160],[128,210],[-185,210],[-185,-250]],b(d.blueCar,n,t),t=[],n=[-250,-160],t=[[-30,-160],[-30,40],[-40,40],[-165,40],[-165,250]],b(d.yellowCar1,n,t),t=[],n=[-30,-250],t=[[-30,25],[-20,210],[-200,210]],b(d.greenCar,n,t);var o=10*Math.random();t=[],n=[160-o,-130],t=[[160-o,170],[159-o,170],[159-o,-130],[160-o,-130]],b(u.boy1,n,t),t=[],n=[-150,245-o],t=[[220,245-o],[220,244-o],[-150,244-o],[-150,245-o]],b(u.robot1,n,t),t=[],n=[250,a[p.DP21].y],t=[[a[p.DP21].x,a[p.DP21].y]],b(r++,n,t),t=[],n=[a[p.DP21].x,a[p.DP21].y],t=[[a[p.DP21].x,a[p.DP27].y],[a[p.DP27].x,a[p.DP27].y]],b(r++,n,t),t=[],n=[a[p.DP21].x,a[p.DP21].y],t=[[a[p.DP22].x,a[p.DP22].y]],b(r++,n,t),t=[],n=[a[p.DP27].x,a[p.DP27].y],t=[[a[p.DP26].x,a[p.DP26].y]],b(r++,n,t),t=[],n=[a[p.DP27].x,a[p.DP27].y],t=[[a[p.DP31].x,a[p.DP31].y]],b(r++,n,t),t=[],n=[a[p.DP22].x,a[p.DP22].y],t=[[a[p.DP23].x,a[p.DP23].y]],b(r++,n,t),t=[],n=[a[p.DP22].x,a[p.DP22].y],t=[[a[p.DP30].x,a[p.DP22].y],[a[p.DP30].x,a[p.DP30].y]],b(r++,n,t),t=[],n=[a[p.DP26].x,a[p.DP26].y],t=[[a[p.DP38].x,a[p.DP26].y],[a[p.DP38].x,a[p.DP38].y]],b(r++,n,t),t=[],n=[a[p.DP26].x,a[p.DP26].y],t=[[a[p.DP28].x,a[p.DP28].y]],b(r++,n,t),t=[],n=[a[p.DP28].x,a[p.DP28].y],t=[[a[p.DP30].x,a[p.DP24].y],[a[p.DP24].x,a[p.DP24].y]],b(r++,n,t),t=[],n=[a[p.DP28].x,a[p.DP28].y],t=[[a[p.DP29].x,a[p.DP28].y],[a[p.DP29].x,a[p.DP29].y]],b(r++,n,t),t=[],n=[a[p.DP29].x,a[p.DP29].y],t=[[a[p.DP35].x,a[p.DP35].y]],b(r++,n,t),t=[],n=[a[p.DP29].x,a[p.DP29].y],t=[[a[p.DP31].x,a[p.DP31].y]],b(r++,n,t),t=[],n=[a[p.DP30].x,a[p.DP30].y],t=[[a[p.DP30].x,a[p.DP24].y],[a[p.DP24].x,a[p.DP24].y]],b(r++,n,t),t=[],n=[a[p.DP30].x,a[p.DP30].y],t=[[a[p.DP30].x,a[p.DP39].y],[a[p.DP39].x,a[p.DP39].y]],b(r++,n,t),t=[],n=[a[p.DP24].x,a[p.DP24].y],t=[[a[p.DP40].x,a[p.DP24].y],[a[p.DP40].x,a[p.DP40].y]],b(r++,n,t),t=[],n=[a[p.DP24].x,a[p.DP24].y],t=[[a[p.DP37].x,a[p.DP24].y],[a[p.DP37].x,a[p.DP37].y]],b(r++,n,t),t=[],n=[a[p.DP25].x,a[p.DP25].y],t=[[a[p.DP33].x,a[p.DP33].y]],b(r++,n,t),t=[],n=[a[p.DP25].x,a[p.DP25].y],t=[[a[p.DP25].x,-250]],b(r++,n,t),t=[],n=[a[p.DP23].x,a[p.DP23].y],t=[[a[p.DP36].x,a[p.DP36].y]],b(r++,n,t),t=[],n=[a[p.DP23].x,a[p.DP23].y],t=[[a[p.DP32].x,a[p.DP23].y],[a[p.DP32].x,a[p.DP32].y]],b(r++,n,t),t=[],n=[a[p.DP31].x,a[p.DP31].y],b(r++,n,t=[[-155,-250]]),t=[],n=[a[p.DP31].x,a[p.DP31].y],t=[[a[p.DP25].x,a[p.DP25].y]],b(r++,n,t),t=[],n=[a[p.DP32].x,a[p.DP32].y],t=[[a[p.DP40].x,a[p.DP40].y]],b(r++,n,t),t=[],n=[a[p.DP32].x,a[p.DP32].y],t=[[a[p.DP24].x,a[p.DP37].y]],b(r++,n,t),t=[],n=[a[p.DP33].x,a[p.DP33].y],t=[[a[p.DP34].x,a[p.DP34].y]],b(r++,n,t),t=[],n=[a[p.DP33].x,a[p.DP33].y],t=[[a[p.DP33].x,a[p.DP35].y],[a[p.DP35].x,a[p.DP35].y]],b(r++,n,t),t=[],n=[a[p.DP34].x,a[p.DP34].y],t=[[a[p.DP26].x,a[p.DP34].y],[a[p.DP26].x,a[p.DP26].y]],b(r++,n,t),t=[],n=[a[p.DP34].x,a[p.DP34].y],t=[[a[p.DP27].x,a[p.DP34].y],[a[p.DP27].x,a[p.DP27].y]],b(r++,n,t),t=[],n=[a[p.DP35].x,a[p.DP35].y],t=[[a[p.DP24].x,a[p.DP24].y]],b(r++,n,t),t=[],n=[a[p.DP35].x,a[p.DP35].y],t=[[a[p.DP39].x,a[p.DP39].y]],b(r++,n,t),t=[],n=[a[p.DP36].x,a[p.DP36].y],t=[[a[p.DP37].x,a[p.DP37].y]],b(r++,n,t),t=[],n=[a[p.DP36].x,a[p.DP36].y],t=[[a[p.DP40].x,a[p.DP36].y],[a[p.DP40].x,a[p.DP40].y]],b(r++,n,t),t=[],n=[a[p.DP37].x,a[p.DP37].y],t=[[a[p.DP37].x,-250]],b(r++,n,t),t=[],n=[a[p.DP37].x,a[p.DP37].y],t=[[a[p.DP40].x,a[p.DP40].y]],b(r++,n,t),t=[],n=[a[p.DP38].x,a[p.DP38].y],t=[[a[p.DP38].x,a[p.DP31].y],[a[p.DP31].x,a[p.DP31].y]],b(r++,n,t),t=[],n=[a[p.DP38].x,a[p.DP38].y],t=[[a[p.DP27].x,a[p.DP27].y]],b(r++,n,t),t=[],n=[a[p.DP39].x,a[p.DP39].y],t=[[a[p.DP24].x,a[p.DP24].y]],b(r++,n,t),t=[],n=[a[p.DP39].x,a[p.DP39].y],t=[[a[p.DP40].x,a[p.DP39].y],[a[p.DP40].x,a[p.DP40].y]],b(r++,n,t),t=[],n=[a[p.DP40].x,a[p.DP40].y],t=[[a[p.DP25].x,a[p.DP25].y]],b(r++,n,t),t=[],n=[a[p.DP40].x,a[p.DP40].y],t=[[a[p.DP40].x,-250]],b(r++,n,t)},n.lines=c,n.getDP=function(t){return t>=1&&t<p.DP21?a[t-1]:a[t]},n.pathList=e,n.CarSegments=d,n.PedSegments=u},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={red:12982789,white:14209233,brown:5845806,pink:16097522,brownDark:2300175,lightblue:8445951,blue:255,orange:16540977,beige:15453604,grey:3158064,yellow:16776986,green:2263842}},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=null;n.createBike=function(){n.bike=s=new THREE.Object3D,s.mesh=new THREE.Object3D;var t=new THREE.MTLLoader,o=new THREE.JSONLoader;t.setTexturePath("assets/"),t.load("assets/Wheel_back1.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/Wheel_back1.obj",function(t){t.scale.set(5,5,5),t.rotation.y=Math.PI/2,t.position.y=-26,t.position.z=-5.5,s.back_wheel=t,s.mesh.add(t)})}),t.load("assets/Wheel_front1.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/Wheel_front1.obj",function(t){t.scale.set(5,5,5),t.rotation.y=Math.PI/2,t.position.y=-9.5,t.position.z=-5.5,s.mesh.add(t),s.front_wheel=t})}),t.load("assets/frame-nopedals.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/frame-nopedals.obj",function(t){t.scale.set(5,5,5),t.rotation.z=Math.PI/2,t.position.set(0,-10,-5.5),s.mesh.add(t)})}),o.load("./assets/low-poly-cycle.json",function(t,n){n.forEach(function(t){t.skinning=!0}),s.rider=new THREE.SkinnedMesh(t,n),s.rider.scale.set(8,8,8),s.rider.position.set(0,-19,-10),s.rider.rotation.y=Math.PI,s.rider.rotation.x=Math.PI/2,s.mesh.add(s.rider),s.mixer=new THREE.AnimationMixer(s.rider),s.anim=s.mixer.clipAction(t.animations[1]),s.anim.setEffectiveWeight(1),s.anim.enabled=!0,s.anim.play(),s.anim.paused=!0,s.anim.timeScale=2,s.anim.paused=!1}),s.mesh.wide=1,s.mesh.long=3,s.mesh.position.z=2.2,s.mesh.scale.set(.2,.2,.2),s.mesh.tripod=new THREE.Object3D,s.mesh.add(s.mesh.tripod),s.mesh.tripod.position.set(0,2,25)},n.bike=s},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=null;n.createLight=function(t){var n,o;s=new THREE.HemisphereLight(11184810,0,4),n=new THREE.AmbientLight(1118481,6),o=new THREE.DirectionalLight(16777215,.9),t.add(s),t.add(o),t.add(n)},n.setHLIntensity=function(t){s.intensity=t}},function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pedestrians=n.cars=n.parkedCarDoor=n.town=n.createTown=void 0;var s=o(2),e=null,a=null,i=void 0,r=null,l=null,c=.1;function d(t,n,o){var a=t.clone(),i=(0,s.getDP)(n);a.position.set(i.x,i.y,-1),a.rotation.y=o,e.dpArrows[n-1]=a,e.add(a)}function u(t,n,o){return t.mixer=new THREE.AnimationMixer(t),t.anim=t.mixer.clipAction(n),t.anim.setEffectiveWeight(1),t.anim.enabled=!0,t.anim.play(),t.anim.timeScale=o,t.anim.paused=!1,t}n.createTown=function(){n.town=e=new THREE.Object3D,e.dpArrows=[],n.cars=i=new THREE.Object3D,n.pedestrians=l=new THREE.Object3D;var t=new THREE.MTLLoader,o=new THREE.ColladaLoader;t.setTexturePath("assets/"),t.load("assets/road-design.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/road-design.obj",function(t){t.scale.set(24,24,24),t.rotation.x=Math.PI/2,e.add(t)})}),t.setTexturePath("assets/"),t.load("assets/houses-layout.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/houses-layout.obj",function(t){t.scale.set(2,2,2),t.rotation.x=Math.PI/2,e.add(t)})}),function(){var t=new THREE.MTLLoader;t.load("assets/dp1-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp1-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-160,-165,-1),e.dpArrows[0]=t,e.add(t),d(t,2,-Math.PI/2),d(t,14,-Math.PI/2)})}),t.load("assets/dp10-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp10-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-10,240,-1),e.dpArrows[9]=t,e.add(t)})}),t.load("assets/dp12-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp12-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=0,t.position.set(140,-10,-1),e.dpArrows[11]=t,e.add(t)})}),t.load("assets/dp13-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp13-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-55,178,-1),e.dpArrows[12]=t,e.add(t)})}),t.load("assets/dp3-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp3-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-120,-170,-1),e.dpArrows[2]=t,e.add(t)})}),t.load("assets/dp10-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp10-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-10,240,-1),e.dpArrows[9]=t,e.add(t)})}),t.load("assets/dp9-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp9-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-160,178,-1),e.dpArrows[8]=t;var n=t.clone();n.position.set(-5,178,-1),e.dpArrows[10]=n;var o=t.clone();o.position.set(-40,25,-1),e.dpArrows[4]=o,e.add(t),e.add(n),e.add(o)})}),t.load("assets/dpr-r-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dpr-r-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=Math.PI/2;var n=(0,s.getDP)(30);t.position.set(n.x,n.y,-1),e.dpArrows[29]=t,e.add(t)})}),t.load("assets/dpl-l-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dpl-l-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=Math.PI;var n=(0,s.getDP)(24);t.position.set(n.x,n.y,-1),e.dpArrows[23]=t,e.add(t),d(t,35,Math.PI/2)})}),t.load("assets/dp38-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp38-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2;var n=(0,s.getDP)(38);t.position.set(n.x,n.y,-1),e.dpArrows[37]=t,e.add(t)})}),t.load("assets/dpr-rev-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dpr-rev-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=Math.PI/2;var n=(0,s.getDP)(29);t.position.set(n.x,n.y,-1),e.dpArrows[28]=t,e.add(t)})}),t.load("assets/dp36-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp36-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2;var n=(0,s.getDP)(36);t.position.set(n.x,n.y,-1),e.dpArrows[35]=t,e.add(t),d(t,37,-Math.PI/2),d(t,27,Math.PI/1.3),d(t,31,-Math.PI/2),d(t,39,-Math.PI/2)})}),t.load("assets/dp40-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp40-arrows.obj",function(t){t.scale.set(1,1,1),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2;var n=(0,s.getDP)(40);t.position.set(n.x,n.y,-1),e.dpArrows[39]=t,e.add(t)})}),t.load("assets/dp4-arrows.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/dp4-arrows.obj",function(t){t.scale.set(.8,.8,.8),t.rotation.x=Math.PI/2,t.rotation.y=-Math.PI/2,t.position.set(-55,-165,-1),e.dpArrows[3]=t,e.add(t);var n=t.clone();n.position.set(100,25,-1),e.dpArrows[6]=n,e.add(n),(n=t.clone()).position.set(100,-165,-1),e.dpArrows[5]=n,e.add(n),(n=t.clone()).position.set(-60,35,-1),e.dpArrows[7]=n,e.add(n),d(t,21,Math.PI/2),d(t,22,Math.PI/2),d(t,23,Math.PI/2),d(t,25,Math.PI),d(t,26,Math.PI/2),d(t,28,Math.PI/2),d(t,32,Math.PI),d(t,33,-Math.PI/2),d(t,34,-Math.PI/2)})})}(),t.load("assets/start.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/start.obj",function(t){t.scale.set(20,20,10),t.rotation.x=0,t.rotation.y=-Math.PI/2,t.rotation.z=-Math.PI/2,t.position.set(-190,-250,1),e.add(t)})}),t.load("assets/finish-line.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/finish-line.obj",function(t){t.scale.set(10,10,10),t.rotation.x=0,t.rotation.y=-Math.PI/2,t.rotation.z=-Math.PI/2,t.position.set(240,200,1),e.add(t)})}),t.load("assets/one-way.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/one-way.obj",function(t){t.scale.set(8,8,8),t.rotation.x=Math.PI/2,t.rotation.y=0,t.position.set(-110,35,0);var n=t.clone();n.position.set(-40,-60,.5),n.rotation.y=-Math.PI/2,e.add(t),e.add(n)})}),o.load("assets/car-low-poly6.dae",function(t){(r=t.scene).scale.set(3,3,3),r.traverse(function(t){if(t instanceof THREE.SkinnedMesh){n.parkedCarDoor=a=t,a.bone=t.skeleton.bones[0];var o=new THREE.CubeGeometry(.5,4,5,1,1,1,1),s=new THREE.MeshBasicMaterial({color:65280,wireframe:!0}),e=new THREE.Mesh(o,s);e.position.set(-110,-172,3),e.long=.5,e.wide=1,a.doorCollider=e}t.traverse(function(t){t.castShadow=!0,t.receiveShadow=!0,t.material instanceof THREE.MeshPhongMaterial&&(t.material.needsUpdate=!0)})}),r.updateMatrix(),r.rotation.z=Math.PI/2,r.rotation.x=0,r.position.set(-110,-175,0),e.add(r)}),t.setTexturePath("assets/"),t.load("assets/yellow2.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/yellow2.obj",function(t){t.scale.set(5,5,5),i.yellowCar=t,i.yellowCar.speed=(Math.random()+1)*c,i.yellowCar.rotation.x=Math.PI/2,i.yellowCar.rotation.y=Math.PI,i.yellowCar.rotation.z=0,i.yellowCar.position.set(-4,100,0),e.add(t)})}),t.setTexturePath("assets/"),t.load("assets/car-yellow1.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/car-yellow1.obj",function(t){t.scale.set(3,3,3),i.yellowCar1=t,i.yellowCar1.rotation.x=0,i.yellowCar1.rotation.y=0,i.yellowCar1.rotation.z=0,i.yellowCar1.long=6,i.yellowCar1.wide=4,i.yellowCar1.speed=(Math.random()+1)*c,e.add(i.yellowCar1)})}),t.setTexturePath("assets/"),t.load("assets/car-green1.mtl",function(t){t.preload();var n=new THREE.OBJLoader;n.setMaterials(t),n.load("assets/car-green1.obj",function(t){t.scale.set(3,3,3),i.greenCar=t,i.greenCar.rotation.x=0,i.greenCar.rotation.y=0,i.greenCar.rotation.z=Math.PI/2,i.greenCar.long=6,i.greenCar.wide=4,i.greenCar.speed=(Math.random()+1)*c,e.add(i.greenCar)})}),o.load("assets/car-low-red.dae",function(t){i.redCar=t.scene,i.redCar.scale.x=i.redCar.scale.y=i.redCar.scale.z=5,i.redCar.traverse(function(t){t.traverse(function(t){t.castShadow=!0,t.receiveShadow=!0,t.material instanceof THREE.MeshPhongMaterial&&(t.material.needsUpdate=!0)})}),i.redCar.updateMatrix(),i.redCar.rotation.y=Math.PI,i.redCar.rotation.z=0,i.redCar.position.set(250,250,0),i.redCar.long=6,i.redCar.wide=5,i.redCar.speed=(Math.random()+1)*c,e.add(i.redCar)}),o.load("assets/car-low-blue.dae",function(t){i.blueCar=t.scene,i.blueCar.scale.x=i.blueCar.scale.y=i.blueCar.scale.z=5,i.blueCar.traverse(function(t){t.traverse(function(t){t.castShadow=!0,t.receiveShadow=!0,t.material instanceof THREE.MeshPhongMaterial&&(t.material.needsUpdate=!0)})}),i.blueCar.updateMatrix(),i.blueCar.rotation.y=Math.PI,i.blueCar.rotation.z=0,i.blueCar.position.set(250,250,0),i.blueCar.long=6,i.blueCar.wide=5,i.blueCar.speed=(Math.random()+1)*c,e.add(i.blueCar)}),function(){var t=new THREE.JSONLoader;t.load("./assets/dooring.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(2,2,2),o.position.set(-110,-180,0),o.rotation.x=Math.PI/2,o.rotation.y=-Math.PI,e.add(o),e.billBoard=u(o,t.animations[1],.5)}),t.load("./assets/low-poly-boy-walk.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(1,1,1),o.position.set(160,0,1),o.rotation.y=Math.PI,o.rotation.x=Math.PI/2,o.wide=2,o.long=2,e.add(o),l.walkingBoy=u(o,t.animations[0],2);var s=o.clone();s.position.set(-115,-110,0),s.rotation.y=-Math.PI,s.wide=2,s.long=2,e.add(s),l.walkingBoy1=u(s,t.animations[0],.12)}),t.load("./assets/low-poly-girl-walk.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(1,1,1),o.position.set(155,0,1),o.rotation.y=Math.PI,o.rotation.x=Math.PI/2,o.wide=2,o.long=2,e.add(o),l.walkingGirl=u(o,t.animations[0],2)}),t.load("./assets/low-poly-girl-walk2.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(1.2,1.2,1.2),o.position.set(165,0,1),o.rotation.y=Math.PI,o.rotation.x=Math.PI/2,o.wide=2,o.long=2,e.add(o),l.walkingGirl1=u(o,t.animations[0],2)}),t.load("./assets/robot-rig3.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(5,5,5),o.position.set(0,240,1),o.rotation.y=Math.PI/2,o.rotation.x=Math.PI/2,o.wide=2,o.long=2,e.add(o),l.runningRobot=u(o,t.animations[3],1)}),t.load("./assets/robot-rig4.json",function(t,n){n.forEach(function(t){t.skinning=!0});var o=new THREE.SkinnedMesh(t,n);o.scale.set(5,5,5),o.position.set(0,245,1),o.rotation.y=Math.PI/2,o.rotation.x=Math.PI/2,o.wide=2,o.long=2,e.add(o),l.runningRobot1=u(o,t.animations[3],1.2)})}()},n.town=e,n.parkedCarDoor=a,n.cars=i,n.pedestrians=l},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.visibilityDuringGame=function(){t(".meta").hide(),t("#infoButton").hide(),t("#topCamera").show(),t("#chaseCamera").show(),t("#score").show()},n.visibilityOutsideGame=function(){t(".meta").show(),t("#infoButton").show(),t("#topCamera").hide(),t("#chaseCamera").hide(),t("#score").hide()},n.hideCameraSelect=function(){t("#topCamera").hide(),t("#chaseCamera").hide()},n.showCameraSelect=function(){t("#topCamera").show(),t("#chaseCamera").show()},n.hideAll=function(){t(".meta").hide(),t("#infoButton").hide(),t("#topCamera").hide(),t("#chaseCamera").hide(),t("#score").hide()}}).call(this,o(0))},function(t,n,o){"use strict";!function(t){t&&t.__esModule}(o(9))},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.init=_;p(o(10));var s=o(11),e=o(2),a=p(o(3)),i=o(12),r=o(4),l=o(6),c=o(1),d=o(5),u=o(7);function p(t){return t&&t.__esModule?t:{default:t}}var b=void 0,w=void 0,m=0,f=0,g=0,P=.05,y=null,h=!1,C=new THREE.Clock,D=null,k=null,v=!1,E=!1,T=!0,B=!0,A=0,M=0,x=0;function R(t,n){return null!==t&&null!==n&&(t.position.x<n.position.x+n.wide&&t.position.x+t.wide>n.position.x&&t.position.y<n.position.y+n.long&&t.long+t.position.y>n.position.y)}function L(){t.each(BootstrapDialog.dialogs,function(t,n){n.close()}),(0,i.cleanup)(),(0,u.hideCameraSelect)(),BootstrapDialog.show({title:"Game Over!",message:"Ready to Restart the Game?",cssClass:"smaller-modal",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart Game",cssClass:"btn-sm btn-lg btn-success",action:function(t){(0,i.cleanup)(),h=!1,S()}},{label:"Leave Game",cssClass:"btn-sm btn-lg btn-danger",action:function(t){(0,u.visibilityOutsideGame)(),cancelAnimationFrame(y),t.close(),h=!0}}]}),h=!0}function I(t,n){if(null!==n){m+=.0015*n.speed;var o=e.pathList[t].getPoint(m);if(null!==o){if(!0!==function(t,n){if(t===e.CarSegments.blueCar&&-160===n.y){if(A>0&&A<80)return A++,!0;if(A>=80&&(A=0),n.x+60<1&&n.x+60>0)return A=1,!0}else if(t===e.CarSegments.yellowCar1&&-160===n.y){if(x>0&&x<80)return x++,!0;if(x>=80&&(x=0),n.x+60<1&&n.x+60>0)return x=1,!0}else if(t===e.CarSegments.yellowCar1&&-165===n.x){if(M>0&&M<80)return M++,!0;if(M>=80&&(M=0),n.y-170<1&&n.y-170>0)return M=1,!0}return!1}(t,o)){n.position.x=o.x,n.position.y=o.y;var s=new THREE.Vector3(0,0,1),a=H(t,m);a=a>0?-Math.PI+a:Math.PI+a,n.quaternion.setFromAxisAngle(s,a)}}else m=0}}function H(t,n){var o=e.pathList[t].getTangent(n).normalize();return-Math.atan(o.x/o.y)}function S(){if(!0!==h){var n=i.activeSegment;I(e.CarSegments.redCar,l.cars.redCar),I(e.CarSegments.blueCar,l.cars.blueCar),I(e.CarSegments.yellowCar1,l.cars.yellowCar1),I(e.CarSegments.greenCar,l.cars.greenCar),function(t){var n=new THREE.Vector3;if(null!==e.pathList){var o=(0,i.getPosition)();o+=.002*(0,i.getBikeSpeed)(),(0,i.setPosition)(o);var s=e.pathList[t].getPoint((0,i.getPosition)());if(null!==s&&null!==r.bike&&null!==r.bike.mesh){D.destroy(),k.destroy(),r.bike.mesh.position.x=s.x,r.bike.mesh.position.y=s.y,n.setFromMatrixPosition(r.bike.mesh.tripod.matrixWorld),c.inspectCamera.position.lerp(n,.2),c.inspectCamera.lookAt(r.bike.mesh.position);var a=H(t,(0,i.getPosition)());a>0&&(a=-Math.PI+a),t>40&&52!==t&&66!==t&&73!==t&&74!==t&&75!==t&&76!==t&&77!==t&&85!==t&&(a-=Math.PI);var l=new THREE.Vector3(0,0,1);r.bike.mesh.quaternion.setFromAxisAngle(l,a),r.bike.mesh.children.length>4&&(r.bike.front_wheel.rotation.x-=.1,r.bike.back_wheel.rotation.x-=.1)}}}(n),t("#score").text("SCORE: "+i.reward),function(){var t=e.PedSegments.boy1,n=e.PedSegments.robot1;if(null!==l.pedestrians){f+=.002*P,g+=.005*P;var o=e.pathList[t].getPoint(f),s=e.pathList[n].getPoint(g);if(null!==o)if(null!==s){var a=l.pedestrians.walkingBoy.position.y,i=l.pedestrians.runningRobot.position.x;0!=a&&(a>o.y&&!1===v?(l.pedestrians.walkingBoy.rotation.y=0,l.pedestrians.walkingGirl.rotation.y=0,l.pedestrians.walkingGirl1.rotation.y=0,v=!0,T=!1):a<o.y&&!1===T&&(l.pedestrians.walkingBoy.rotation.y=Math.PI,l.pedestrians.walkingGirl.rotation.y=Math.PI,l.pedestrians.walkingGirl1.rotation.y=Math.PI,v=!1,T=!0)),0!=i&&(i>s.x&&!1===E?(l.pedestrians.runningRobot.rotation.y=3*Math.PI/2,l.pedestrians.runningRobot1.rotation.y=3*Math.PI/2,E=!0,B=!1):i<s.x&&!1===B&&(l.pedestrians.runningRobot.rotation.y=Math.PI/2,l.pedestrians.runningRobot1.rotation.y=Math.PI/2,E=!1,B=!0)),l.pedestrians.walkingBoy.position.x=o.x,l.pedestrians.walkingGirl.position.x=o.x-5,l.pedestrians.walkingGirl1.position.x=o.x+5,l.pedestrians.walkingBoy.position.y=l.pedestrians.walkingGirl.position.y=o.y,l.pedestrians.walkingGirl1.position.y=o.y-5,l.pedestrians.runningRobot.position.x=s.x,l.pedestrians.runningRobot1.position.x=s.x,l.pedestrians.runningRobot.position.y=s.y,l.pedestrians.runningRobot1.position.y=s.y-5}else g=0;else f=0}}(),function(t){0!==t&&(!0===R(r.bike.mesh,l.cars.redCar)&&(console.log("Hit Red Car!"),L()),!0===R(r.bike.mesh,l.cars.blueCar)&&(console.log("Hit Blue Car!"),L()),!0===R(r.bike.mesh,l.cars.greenCar)&&(console.log("Hit Blue Car!"),L()),!0===R(r.bike.mesh,l.cars.yellowCar1)&&(console.log("Hit Blue Car!"),L()),!0===R(r.bike.mesh,l.pedestrians.walkingBoy)&&(console.log("Hit Boy!"),L()),!0===R(r.bike.mesh,l.pedestrians.walkingGirl)&&(console.log("Hit Girl!"),L()),!0===R(r.bike.mesh,l.pedestrians.walkingGirl1)&&(console.log("Hit Girl 1!"),L()),!0===R(r.bike.mesh,l.pedestrians.runningRobot)&&(console.log("Hit Running Robot!"),L()),!0===R(r.bike.mesh,l.pedestrians.runningRobot1)&&(console.log("Hit Running Robot1!"),L()),null!==l.parkedCarDoor&&(6===t?(Math.random()<.025&&(l.parkedCarDoor.bone.rotation.z=-1.5,l.parkedCarDoor.doorCollider.position.y=-170),R(r.bike.mesh,l.parkedCarDoor.doorCollider)&&(console.log("Hit Car Door!"),L())):(l.parkedCarDoor.bone.rotation.z=0,l.parkedCarDoor.doorCollider.position.y=-172)))}(n),y=requestAnimationFrame(S),function(){c.orbitControls.hcontrols.update(),c.orbitControls.tcontrols.update();var t=(0,c.getActiveCamera)();t&&b.render(w,t);var n=C.getDelta();r.bike.mixer&&r.bike.mixer.update(n),l.town.billBoard&&l.town.billBoard.mixer&&l.town.billBoard.mixer.update(n),l.pedestrians.walkingBoy&&l.pedestrians.walkingBoy.mixer&&l.pedestrians.walkingBoy.mixer.update(n),l.pedestrians.walkingBoy1&&l.pedestrians.walkingBoy1.mixer&&l.pedestrians.walkingBoy1.mixer.update(n),l.pedestrians.walkingGirl&&l.pedestrians.walkingGirl.mixer&&l.pedestrians.walkingGirl.mixer.update(n),l.pedestrians.walkingGirl1&&l.pedestrians.walkingGirl1.mixer&&l.pedestrians.walkingGirl1.mixer.update(n),l.pedestrians.runningRobot&&l.pedestrians.runningRobot.mixer&&l.pedestrians.runningRobot.mixer.update(n),l.pedestrians.runningRobot1&&l.pedestrians.runningRobot1.mixer&&l.pedestrians.runningRobot1.mixer.update(n)}()}}function _(){!function(){var t=window.innerHeight,n=window.innerWidth;(w=new THREE.Scene).fog=new THREE.Fog(a.default.white,100,1e3),w.rotation.z+=Math.PI/2,w.rotation.x-=Math.PI/2,(b=new THREE.WebGLRenderer({alpha:!0,antialias:!0})).setSize(n,t),b.shadowMap.enabled=!0,b.setPixelRatio(window.devicePixelRatio),document.getElementById("townId").appendChild(b.domElement),D=lottie.loadAnimation({container:document.getElementById("logo"),renderer:"svg",loop:!0,autoplay:!0,path:"js/data_rs.json"}),k=lottie.loadAnimation({container:document.getElementById("bike"),renderer:"svg",loop:!0,autoplay:!0,path:"js/data_bike.json"}),(0,s.infoButton)(),(0,s.selectCameraView)()}(),(0,c.createCameras)(w,b,r.bike),(0,d.createLight)(w),(0,l.createTown)(),w.add(l.town),(0,r.createBike)(),w.add(r.bike.mesh),r.bike.mesh.add(c.trailingCamera),(0,c.setActiveCamera)(c.trailingCamera);var n;n=(0,e.createPaths)();for(var o=0;o<n&&n.length;o++)w.add(n[o]);(0,u.hideAll)(),function(){var n=t('<div class="welcomeDialog"></div>');n.append('<img src="./images/gameLayout.png" />'),n.append('<video controls width="500" autoplay="true">           <source src="./images/sampleRide.mp4" type="video/mp4">           <source src="./images/sampleScene.png">           Sorry, your browser doesn\'t support embedded videos.           </video>'),n.append('<div class="description"> <p> The user is prompted to choose alternate paths for the cyclist.       The objective of the game to practice defensive riding habits and to navigate through town without crashing.</p>       <div class="row">                           <div class="border iphone-hidden col-md-6 col-sm-12 boxlayout">                              <ul> <strong>Sample Interactions:</strong>                                <li> Cyclist stops at intersections and other key locations. The user has to decide between going straight or turning right.</li>                                <li> Cyclist can and SHOULD check surrounding traffic before deciding on the next move. </li>                                <li> Cyclist can check the View from Behind, Right Side and/or Left Side.</li>                               <li> If the Cyclist does not make a choice when COUNTDOWN reaches 0, A random choice is executed.</li>                              </ul>                           </div>                           <div class="border col-md-6 col-sm-12 boxlayout">                             <ul> <strong>Controls:</strong>                               <li> Click (Mobile Touch) on RED Camera Icon To activate Top View Camera</li>                               <li> Click (Mobile Touch) on BLACK Camera Icon To activate Trailing Camera</li>                               <li> Zoom/PAN/Rotate only enabled for Top View Camera. Use middle mouse wheel, 2 fingers Touch to Zoom In/Out</li>                               <li> To Rotate around the Z axis the Top View (Red) Camera , use left mouse button, 1 fingers Touch</li>                               <li> To Pan the TOP Camera around, use right mouse button and 2 fingers touch</li>                             </ul>                           </div>                         </div>'),BootstrapDialog.show({title:"Ride Safely Interactive - Watch for Moving Cars. Be Mindful of Pedestrians!",message:n,cssClass:"landing-modal",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Start Game",cssClass:"btn btn-lg btn-success",action:function(t){(0,u.visibilityDuringGame)(),t.close(),S()}},{label:"Quit Game",cssClass:"btn btn-lg btn-danger",action:function(t){(0,u.visibilityOutsideGame)(),t.close()}}]})}(),h=!1}window.addEventListener("resize",function(){b&&b.setSize(window.innerWidth,window.innerHeight)}),window.addEventListener("orientationchange",function(){b&&b.setSize(window.innerWidth,window.innerHeight)},!1),window.addEventListener("load",_,!1)}).call(this,o(0))},function(t,n,o){"use strict";function s(t,n,o,s){var e=new THREE.Geometry,a=void 0;a=s?new THREE.LineDashedMaterial({color:o,dashSize:3,gapSize:3}):new THREE.LineBasicMaterial({color:o}),e.vertices.push(t.clone()),e.vertices.push(n.clone());var i=new THREE.Line(e,a,THREE.LineSegments);return i.computeLineDistances(),i}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t=t||200;var n=new THREE.Object3D;return n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(t,0,0),16711680,!1)),n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(-t,0,0),16711680,!0)),n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(0,t,0),65280,!1)),n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(0,-t,0),65280,!0)),n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,t),255,!1)),n.add(s(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-t),255,!0)),n}},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.selectCameraView=n.infoButton=void 0;var s=o(1);n.infoButton=function(){t("#infoButton").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",position:"fixed",title:"This Interactive Game represents my Fall 2018 HES Capstone Project."}).append("<img width='42' height='42' src='images/infoButton.png'/>").tooltip({disabled:!0,close:function(n,o){t(this).tooltip("disable")}}),t("#infoButton").on("click",function(){t(this).tooltip("enable").tooltip("open")})},n.selectCameraView=function(){t("#topCamera").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",title:"Click Me for Top Camera View."}).append("<img width='42' height='42' src='images/camera-icon-red.png'/>").tooltip({disabled:!0,close:function(n,o){t(this).tooltip("disable")}}),t("#topCamera").on("click",function(){(0,s.setActiveCamera)(s.hoveringCamera)}),t("#topCamera").hover(function(){t(this).append(t("<span class='cameraDisplay'> Click Me for Top Camera View!</span>"))},function(){t(this).find("span:last").remove()}),t("#chaseCamera").css({"z-index":"2",background:"rgba(0,0,0,0)",opacity:"0.9",title:"Click Me for Trailing Camera View."}).append("<img width='42' height='42' src='images/camera-icon.png'/>").tooltip({disabled:!0,close:function(n,o){t(this).tooltip("disable")}}),t("#chaseCamera").on("click",function(){(0,s.setActiveCamera)(s.trailingCamera)}),t("#chaseCamera").hover(function(){t(this).append(t("<span class='cameraDisplay'> Click Me for Trailing Camera View!</span>"))},function(){t(this).find("span:last").remove()})}}).call(this,o(0))},function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.reward=n.cleanup=n.setPosition=n.getPosition=n.getBikeSpeed=n.resetPosition=n.resetSegment=n.activeSegment=void 0;var s=o(2),e=o(4),a=o(1),i=o(5),r=o(6),l=o(7),c=2e3,d=0,u=0,p=2,b=s.pathList,w=null,m=500,f=100,g=0,P=null,y=null,h=12e3,C=null,D=f,k=10,v=20,E=20,T=5;function B(){n.reward=D=f,g=0}function A(){u=0}function M(t){p=t}function x(){return p}function R(){(0,a.setActiveCamera)(a.trailingCamera),null}function L(){if(w=null,null!==s.pathList&&null!==d)if(null===s.pathList[d].getPoint(u))switch(M(2+5*Math.random()),(0,i.setHLIntensity)(6),e.bike.anim.paused=!0,(0,l.hideCameraSelect)(),(0,a.setActiveCamera)(a.trailingCamera),d){case 0:!function(){P=setTimeout(I,h,1,3,r.town.dpArrows[0],null,10);var o=t("<div > </div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[0].position.z=1;BootstrapDialog.show({title:"DP-1: Limited Time to decide!",cssClass:"decisionPoint1",message:o,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-primary",action:function(t){n.reward=D+=E,H(1,t,null,r.town.dpArrows[0],y)}},{label:"Turn Right",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D+=E,H(3,t,1,r.town.dpArrows[0],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(0)}}]})}();break;case 1:!function(){P=setTimeout(I,h,2,4,r.town.dpArrows[1],2,2);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[1].position.z=1,BootstrapDialog.show({title:"DP-2: Limited seconds to choose a direction!",cssClass:"decisionPoint1",message:o,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-primary",action:function(t){H(2,t,2,r.town.dpArrows[1],y),n.reward=D+=E}},{label:"Turn Right",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=v,H(4,t,1,r.town.dpArrows[1],y)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout",action:function(t){_(0)}}]})}();break;case 3:!function(){P=setTimeout(I,h,6,5,r.town.dpArrows[2],null,null);var o=t("<div ></div>");o.append("Caution: potential car door opening! <br />"),y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[2].position.z=1,BootstrapDialog.show({title:"DP-3: Limited seconds to choose a direction!",cssClass:"decisionPoint1",message:o,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=v,H(6,t,null,r.town.dpArrows[2],y)}},{label:"Steer Away",cssClass:"btn-sm btn-primary",action:function(t){n.reward=D+=E,H(5,t,null,r.town.dpArrows[2],y)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout",action:function(t){_(-Math.PI)}}]})}();break;case 4:!function(){P=setTimeout(I,h,9,10,r.town.dpArrows[7],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[7].position.z=1,BootstrapDialog.show({title:"DP-8: Don't take chances!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(9,t,null,r.town.dpArrows[7],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(10,t,null,r.town.dpArrows[7],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(-Math.PI/2)}}]})}();break;case 8:!function(){P=setTimeout(I,h,10,9,r.town.dpArrows[4],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[4].position.z=1,BootstrapDialog.show({title:"DP-5: Don't Tempt Drivers!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-sm btn-primary",action:function(t){H(10,t,null,r.town.dpArrows[4],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(9,t,null,r.town.dpArrows[4],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(0)}}]})}();break;case 5:case 6:!function(){P=setTimeout(I,h,8,7,r.town.dpArrows[3],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[3].position.z=1,BootstrapDialog.show({title:"DP-4: Limited seconds to choose a direction!",cssClass:"decisionPoint2",message:n,closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(8,t,null,r.town.dpArrows[3],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(7,t,null,r.town.dpArrows[3],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-info lookout2",action:function(t){_(-Math.PI)}}]})}();break;case 7:!function(){P=setTimeout(I,h,13,14,r.town.dpArrows[5],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[5].position.z=1,BootstrapDialog.show({title:"DP-6: Limited seconds to choose a direction",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(13,t,null,r.town.dpArrows[5],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(14,t,null,r.town.dpArrows[5],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout",action:function(t){_(Math.PI)}}]})}();break;case 10:!function(){P=setTimeout(I,h,11,12,r.town.dpArrows[6],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[6].position.z=1,BootstrapDialog.show({title:"DP-7: Don't take chances!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(11,t,null,r.town.dpArrows[6],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(12,t,null,r.town.dpArrows[6],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(-Math.PI/2)}}]})}();break;case 2:!function(){P=setTimeout(I,h,15,16,r.town.dpArrows[8],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[8].position.z=1,BootstrapDialog.show({title:"DP-9: Heavy Traffic Alert!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Roadside",cssClass:"btn-sm btn-primary",action:function(t){H(15,t,null,r.town.dpArrows[8],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(16,t,null,r.town.dpArrows[8],y)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout",action:function(t){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-success lookout1",action:function(t){_(0)}}]})}();break;case 9:!function(){P=setTimeout(I,h,19,20,r.town.dpArrows[10],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[10].position.z=1,BootstrapDialog.show({title:"DP-11: Pedestrians Alert!!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Roadside",cssClass:"btn-sm btn-primary",action:function(t){H(19,t,null,r.town.dpArrows[10],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(20,t,null,r.town.dpArrows[10],y)}},{label:"Look Left",cssClass:"btn-sm btn-success lookout",action:function(t){_(Math.PI)}},{label:"Look Right",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(0)}}]})}();break;case 15:!function(){P=setTimeout(I,h,23,24,r.town.dpArrows[12],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[12].position.z=1,BootstrapDialog.show({title:"DP-13: Pedestrians Alert/Traffic Alert!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Roadside",cssClass:"btn-sm btn-danger",action:function(t){H(23,t,null,r.town.dpArrows[12],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-success",action:function(t){n.reward=D-=20,H(24,t,null,r.town.dpArrows[12],y)}},{label:"Look Right",cssClass:"btn-sm btn-success lookout",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(Math.PI)}}]})}();break;case 14:!function(){P=setTimeout(I,h,21,22,r.town.dpArrows[11],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[11].position.z=1,BootstrapDialog.show({title:"DP-12: Heavy Traffic Alert!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(21,t,null,r.town.dpArrows[11],y)}},{label:"Cross to Roadside",cssClass:"btn-sm btn-primary",action:function(t){H(22,t,null,r.town.dpArrows[11],y)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout",action:function(t){_(-Math.PI/2)}}]})}();break;case 16:!function(){P=setTimeout(I,h,17,18,r.town.dpArrows[9],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[9].position.z=1,BootstrapDialog.show({title:"DP-10: Pedestrians Alert!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(17,t,null,r.town.dpArrows[9],y)}},{label:"Roadside",cssClass:"btn-sm btn-primary",action:function(t){H(18,t,null,r.town.dpArrows[9],y)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout",action:function(t){_(-Math.PI)}}]})}();break;case 13:!function(){P=setTimeout(I,h,26,27,r.town.dpArrows[13],null,null);var o=t("<div ></div>");y=S(h/1e3),o.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[13].position.z=1,BootstrapDialog.show({title:"DP-14: Pedestrians Alert/Traffic Alert!",message:o,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"straight",cssClass:"btn-sm btn-primary",action:function(t){H(25,t,null,r.town.dpArrows[13],y)}},{label:"Cross",cssClass:"btn-sm btn-danger",action:function(t){n.reward=D-=20,H(26,t,null,r.town.dpArrows[13],y)}},{label:"Look Right",cssClass:"btn-sm btn-success lookout",action:function(t){_(0)}},{label:"Look Back",cssClass:"btn-sm btn-warning lookout1",action:function(t){_(-Math.PI)}}]})}();break;case 11:case 12:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:!function(){var n=t('<div class="decisionPoint"></div>');d,BootstrapDialog.show({title:"Successful Completion!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart",cssClass:"btn-sm btn-success",action:function(t){B(),H(0,t)}},{label:"Go to Level 2",cssClass:"btn-sm btn-success",action:function(t){H(49,t)}},{label:"Leave Game",cssClass:"btn-sm btn-danger",action:function(t){(0,l.visibilityOutsideGame)(),(0,l.showCameraSelect)(),t.close()}}]})}();break;case 49:!function(){P=setTimeout(I,h,50,51,r.town.dpArrows[20],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[20].position.z=1,BootstrapDialog.show({title:"DP-21: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(50,t,null,r.town.dpArrows[20],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(51,t,null,r.town.dpArrows[20],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}}]})}();break;case 50:V();break;case 51:!function(){P=setTimeout(I,h,54,55,r.town.dpArrows[21],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[21].position.z=1,BootstrapDialog.show({title:"DP-22: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(55,t,null,r.town.dpArrows[21],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(54,t,null,r.town.dpArrows[21],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}();break;case 52:j();break;case 53:G();break;case 54:!function(){P=setTimeout(I,h,68,69,r.town.dpArrows[22],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[22].position.z=1,BootstrapDialog.show({title:"DP-23: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(68,t,null,r.town.dpArrows[22],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(69,t,null,r.town.dpArrows[22],y)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}();break;case 55:!function(){P=setTimeout(I,h,62,63,r.town.dpArrows[29],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[29].position.z=1,BootstrapDialog.show({title:"DP-30: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-sm btn-primary",action:function(t){H(63,t,null,r.town.dpArrows[29],y)}},{label:"Cross to Right",cssClass:"btn-sm btn-danger",action:function(t){H(62,t,null,r.town.dpArrows[29],y)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI)}}]})}();break;case 56:!function(){P=setTimeout(I,h,84,85,r.town.dpArrows[37],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[37].position.z=1,BootstrapDialog.show({title:"DP-38: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Right",cssClass:"btn-sm btn-primary",action:function(t){H(84,t,null,r.town.dpArrows[37],y)}},{label:"Turn Left",cssClass:"btn-sm btn-danger",action:function(t){H(85,t,null,r.town.dpArrows[37],y)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}();break;case 57:!function(){P=setTimeout(I,h,58,59,r.town.dpArrows[27],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[27].position.z=1,BootstrapDialog.show({title:"DP-28: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(59,t,null,r.town.dpArrows[27],y)}},{label:"Cross",cssClass:"btn-sm btn-danger",action:function(t){H(58,t,null,r.town.dpArrows[27],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI/2)}}]})}();break;case 58:z();break;case 59:!function(){P=setTimeout(I,h,60,61,r.town.dpArrows[28],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[28].position.z=1,BootstrapDialog.show({title:"DP-29: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Back",cssClass:"btn-sm btn-danger",action:function(t){H(60,t,null,r.town.dpArrows[28],y)}},{label:"Turn Right",cssClass:"btn-sm btn-primary",action:function(t){H(61,t,null,r.town.dpArrows[28],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(0)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI/2)}}]})}();break;case 60:K();break;case 61:G();break;case 62:z();break;case 63:W();break;case 64:case 72:F();break;case 65:J();break;case 66:!function(){P=setTimeout(I,h,74,75,r.town.dpArrows[32],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[32].position.z=1,BootstrapDialog.show({title:"DP-33: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(75,t,null,r.town.dpArrows[32],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(74,t,null,r.town.dpArrows[32],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI)}}]})}();break;case 68:!function(){P=setTimeout(I,h,80,81,r.town.dpArrows[35],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[35].position.z=1,BootstrapDialog.show({title:"DP-36: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-primary",action:function(t){H(80,t,null,r.town.dpArrows[35],y)}},{label:"Cross Road",cssClass:"btn-sm btn-danger",action:function(t){H(81,t,null,r.town.dpArrows[35],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI)}}]})}();break;case 69:!function(){P=setTimeout(I,h,72,73,r.town.dpArrows[31],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[31].position.z=1,BootstrapDialog.show({title:"DP-32: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross Left",cssClass:"btn-sm btn-primary",action:function(t){H(73,t,null,r.town.dpArrows[31],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(72,t,null,r.town.dpArrows[31],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(0)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI/2)}}]})}();break;case 71:O();break;case 73:J();break;case 74:!function(){P=setTimeout(I,h,76,77,r.town.dpArrows[33],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[33].position.z=1,BootstrapDialog.show({title:"DP-34: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(76,t,null,r.town.dpArrows[33],y)}},{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(77,t,null,r.town.dpArrows[33],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI)}}]})}();break;case 75:K();break;case 76:j();break;case 77:case 85:V();break;case 78:case 86:z();break;case 79:W();break;case 80:J();break;case 81:case 83:case 87:F();break;case 84:G();break;case 88:O();break;case 67:case 70:case 72:case 82:case 89:default:!function(){var n=t('<div class="decisionPoint"></div>');d,BootstrapDialog.show({title:"Successful Return!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Restart",cssClass:"btn-sm btn-lg btn-success",action:function(t){B(),H(0,t)}},{label:"Leave Game",cssClass:"btn-sm btn-lg btn-danger",action:function(t){(0,l.visibilityOutsideGame)(),(0,l.showCameraSelect)(),t.close()}}]})}()}else w=setTimeout(L,c)}function I(o,s,e,a,i){n.reward=D-=k,Math.random()<=.5?H(o,null,a,e):H(s,null,i,e),t.each(BootstrapDialog.dialogs,function(t,n){n.close()})}function H(t,o,s,r,u){n.reward=D+=g,n.activeSegment=d=t,A(),o&&o.close(),w=setTimeout(L,c),P&&(clearTimeout(P),P=null),s&&M(s+x()),r&&(r.position.z=-1),u&&clearInterval(u),e.bike.anim.paused=!1,(0,a.setActiveCamera)(a.trailingCamera),(0,i.setHLIntensity)(4),(0,l.showCameraSelect)()}function S(n){return C=setInterval(function(){g=n,n<=6&&n>0?t(".display_cnt").html("<font color='red'>"+--n+"</font>"):n>0&&t(".display_cnt").html(--n),n<=0&&(clearInterval(C),C=null,n=0)},1e3)}function _(t){(0,a.setActiveCamera)(a.inspectCamera);var o=new THREE.Vector3;o.setFromMatrixPosition(e.bike.mesh.tripod.matrixWorld),a.inspectCamera.position.lerp(o,.2),a.inspectCamera.lookAt(e.bike.mesh.position),a.inspectCamera.rotation.x=0,a.inspectCamera.rotation.y=t,a.inspectCamera.rotation.z=0,setTimeout(R,m),n.reward=D+=T}function z(){P=setTimeout(I,h,64,65,r.town.dpArrows[23],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[23].position.z=1,BootstrapDialog.show({title:"DP-24: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-danger",action:function(t){H(65,t,null,r.town.dpArrows[23],y)}},{label:"Cross Road",cssClass:"btn-sm btn-primary",action:function(t){H(64,t,null,r.town.dpArrows[23],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}function O(){P=setTimeout(I,h,66,67,r.town.dpArrows[24],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[24].position.z=1,BootstrapDialog.show({title:"DP-25: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(67,t,null,r.town.dpArrows[24],y)}},{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(66,t,null,r.town.dpArrows[24],y)}},{label:"Look Left",cssClass:"btn-sm btn-danger",action:function(t){_(0)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(Math.PI/2)}}]})}function j(){P=setTimeout(I,h,56,57,r.town.dpArrows[25],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[25].position.z=1,BootstrapDialog.show({title:"DP-26: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Back",cssClass:"btn-sm btn-primary",action:function(t){H(56,t,null,r.town.dpArrows[25],y)}},{label:"Turn Left",cssClass:"btn-sm btn-danger",action:function(t){H(57,t,null,r.town.dpArrows[25],y)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI/2)}}]})}function V(){P=setTimeout(I,h,52,53,r.town.dpArrows[26],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[26].position.z=1,BootstrapDialog.show({title:"DP-27: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross to Roadside",cssClass:"btn-sm btn-primary",action:function(t){H(53,t,null,r.town.dpArrows[26],y)}},{label:"Sidewalk",cssClass:"btn-sm btn-danger",action:function(t){H(52,t,null,r.town.dpArrows[26],y)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}function G(){P=setTimeout(I,h,70,71,r.town.dpArrows[30],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[30].position.z=1,BootstrapDialog.show({title:"DP-31: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Turn Left",cssClass:"btn-sm btn-primary",action:function(t){H(70,t,null,r.town.dpArrows[30],y)}},{label:"Cross Road",cssClass:"btn-sm btn-danger",action:function(t){H(71,t,null,r.town.dpArrows[30],y)}},{label:"Look Left",cssClass:"btn-sm btn-danger",action:function(t){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}function K(){P=setTimeout(I,h,78,79,r.town.dpArrows[34],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[34].position.z=1,BootstrapDialog.show({title:"DP-35: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross To Left",cssClass:"btn-sm btn-primary",action:function(t){H(79,t,null,r.town.dpArrows[34],y)}},{label:"Turn Left",cssClass:"btn-sm btn-danger",action:function(t){H(78,t,null,r.town.dpArrows[34],y)}},{label:"Look Left",cssClass:"btn-sm btn-danger",action:function(t){_(-Math.PI)}},{label:"Look Right",cssClass:"btn-sm btn-success",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI/2)}}]})}function J(){P=setTimeout(I,h,82,83,r.town.dpArrows[36],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[36].position.z=1,BootstrapDialog.show({title:"DP-37: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-primary",action:function(t){H(82,t,null,r.town.dpArrows[36],y)}},{label:"Cross Road",cssClass:"btn-sm btn-danger",action:function(t){H(83,t,null,r.town.dpArrows[36],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(0)}},{label:"Look Right",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-sm btn-danger",action:function(t){_(Math.PI/2)}}]})}function W(){P=setTimeout(I,h,86,87,r.town.dpArrows[38],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[38].position.z=1,BootstrapDialog.show({title:"DP-39: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Cross Road",cssClass:"btn-sm btn-primary",action:function(t){H(86,t,null,r.town.dpArrows[38],y)}},{label:"Turn Left",cssClass:"btn-sm btn-danger",action:function(t){H(87,t,null,r.town.dpArrows[38],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(-Math.PI/2)}},{label:"Look Right",cssClass:"btn-sm btn-danger",action:function(t){_(Math.PI/2)}},{label:"Look Back",cssClass:"btn-sm btn-warning",action:function(t){_(0)}}]})}function F(){P=setTimeout(I,h,82,83,r.town.dpArrows[39],null,null);var n=t("<div ></div>");y=S(h/1e3),n.append("<strong>CountDown: </strong> <span class=display_cnt> </span>"),d,r.town.dpArrows[39].position.z=1,BootstrapDialog.show({title:"DP-40: Stay Alert/Traffic Alert!",message:n,cssClass:"decisionPoint2",closeByBackdrop:!1,closeByKeyboard:!1,buttons:[{label:"Straight",cssClass:"btn-sm btn-danger",action:function(t){H(88,t,null,r.town.dpArrows[39],y)}},{label:"Cross to Finish",cssClass:"btn-sm btn-success",action:function(t){H(89,t,null,r.town.dpArrows[39],y)}},{label:"Look Left",cssClass:"btn-sm btn-success",action:function(t){_(0)}},{label:"Look Right",cssClass:"btn-sm btn-warning",action:function(t){_(-Math.PI)}},{label:"Look Back",cssClass:"btn-sm btn-danger",action:function(t){_(Math.PI/2)}}]})}null!==b&&setTimeout(L,c),n.activeSegment=d,n.resetSegment=function(){n.activeSegment=d=0},n.resetPosition=A,n.getBikeSpeed=x,n.getPosition=function(){return u},n.setPosition=function(t){u=t},n.cleanup=function(){B(),t.each(BootstrapDialog.dialogs,function(t,n){n.close()}),P&&(clearTimeout(P),P=null),w&&clearTimeout(w),y&&clearInterval(y),t.each(r.town.dpArrows,function(t,n){n&&(n.position.z=-1)}),H(0)},n.reward=D}).call(this,o(0))}]);
//# sourceMappingURL=app.bundle.js.map