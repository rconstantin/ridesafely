{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/bikePaths.js","webpack:///./js/colors.js","webpack:///./js/main.js","webpack:///./js/scene3d.js","webpack:///./js/dbg_3d_coord.js","webpack:///./js/decisionTree.js","webpack:///external \"jQuery\"","webpack:///./js/bikeLoad.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","pathList","createPath","pId","src","dst","THREE","Path","moveTo","x","y","length","lineTo","Line","segment","vertices","getSpacedPoints","point","Vector3","lineGeometry","Geometry","lineMaterial","LineDashedMaterial","linewidth","color","Colors","red","dashSize","gapSize","drawPath","createPaths","destP","lines","white","brown","pink","brownDark","lightblue","blue","orange","beige","grey","yellow","init","_bikePaths","_decisionTree","_bikeLoad","renderer","scene","camera","controls","hemisphereLight","shadowLight","up","Clock","move","pos","getPosition","speed","setPosition","getPoint","bike","mesh","position","angle","aPosition","tangent","getTangent","normalize","Math","atan","getAngle","PI","quaternion","setFromAxisAngle","children","pedals","rotation","front_wheel","back_wheel","animate","activeSegment","requestAnimationFrame","update","render","height","window","innerHeight","width","innerWidth","Scene","fog","Fog","add","_dbg_3d_coord2","default","z","WebGLRenderer","alpha","antialias","setSize","shadowMap","enabled","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","domElement","aspectRatio","PerspectiveCamera","set","OrbitControls","enableDamping","dampingFactor","enableZoom","createScene","material","MeshBasicMaterial","wireframe","geometry","PlaneGeometry","floor","Mesh","container","Object3D","createFloor","HemisphereLight","DirectionalLight","castShadow","shadow","left","right","top","bottom","near","far","mapSize","createBike","addEventListener","setupAxis","colorHex","dashed","LineBasicMaterial","push","clone","axis","LineSegments","computeLineDistances","axes3d","$","period","resetPosition","setSpeed","check","$textAndPic","append","BootstrapDialog","show","title","message","buttons","label","action","dialogRef","close","setTimeout","decisionPoint1","decisionPoint2","esetPosition","decisionPoint3","decisionPoint8","decisionPoint5","decisionPoint4","decisionPoint6","decisionPoint7","jQuery","mtlLoader","MTLLoader","setTexturePath","load","mtl","preload","objLoader","OBJLoader","setMaterials","scale"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,mHChFA,wDAAAnC,EAAA,IAEA,IAAIoC,KAEJ,SAASC,EAAWC,EAAKC,EAAKC,GAE5BJ,EAASE,GAAO,IAAIG,MAAMC,KAC1BN,EAASE,GAAKK,OAAOJ,EAAIK,EAAGL,EAAIM,GAChC,IAAK,IAAIzC,EAAI,EAAGA,EAAIoC,EAAIM,OAAQ1C,IAC9BgC,EAASE,GAAKS,OAAOP,EAAIpC,GAAGwC,EAAGJ,EAAIpC,GAAGyC,GAG7B,IAAIJ,MAAMO,KAErB,OA+IF,SAAmBC,GAIjB,IAHA,IAAIC,EAAWd,EAASa,GAASE,gBAAgB,IAGxC/C,EAAI,EAAGA,EAAI8C,EAASJ,OAAQ1C,IAAK,CACxC,IAAIgD,EAAQF,EAAS9C,GACrB8C,EAAS9C,GAAK,IAAIqC,MAAMY,QAAQD,EAAMR,EAAGQ,EAAMP,EAAG,GAEpD,IAAIS,EAAe,IAAIb,MAAMc,SAC7BD,EAAaJ,SAAWA,EACxB,IAAIM,EAAe,IAAIf,MAAMgB,oBAAqBC,UAAW,EAAGC,MAAOC,UAAOC,IAAKC,SAAU,EAAGC,QAAS,IAYzG,OAPW,IAAItB,MAAMO,KAAKM,EAAcE,GA/JjCQ,CAAS1B,KA0KV2B,YAtKR,WAGE,IAAIC,KAAY3B,SACZ4B,KAoIJ,OAhIA5B,EAAM,IAAIE,MAAMY,SAAS,KAAK,IAAI,GAClCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,KAAK,IAAI,GACvCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,KAAK,IAAI,GACvCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,KAAK,IAAI,GAClCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,GAAG,GACrCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9B3B,EAAM,IAAIE,MAAMY,SAAS,IAAI,GAAG,GAChCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,IAAI,GACtCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,KAAK,IAAI,GAClCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,KAAK,IAAI,GAEvCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,IAAI,GAAG,GAChCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,GAAG,GAAG,GAEpCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,KAAK,IAAI,GAClCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,IAAI,GACtCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,IAAI,GAEtCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,KAAK,IAAI,GAClCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,IAAI,GACtCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,IAAI,IAAI,GAEtCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,IAAI,IAAI,GACjCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,KAAK,IAAI,GAEtCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,IAAI,IAAI,GACjCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,GAAG,GAAG,GAEpCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,GAAG,GAAG,GAC/Ba,EAAM,GAAK,IAAIzB,MAAMY,SAAS,GAAG,GAAG,GACpCa,EAAM,GAAK,IAAIzB,MAAMY,SAAS,GAAG,IAAI,GACrCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,GAAK,IAAI1B,MAAMO,KACrBmB,EAAM,GAAK9B,EAAW,EAAGE,EAAK2B,GAG9BA,KACA3B,EAAM,IAAIE,MAAMY,SAAS,GAAG,GAAG,GAC/Ba,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,GAAG,GAEpCc,EAAM,IAAM,IAAI1B,MAAMO,KACtBmB,EAAM,IAAM9B,EAAW,GAAIE,EAAK2B,GAGhCA,KACA3B,EAAM,IAAIE,MAAMY,QAAQ,IAAI,GAAG,GAC/Ba,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GACrCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,IAAM,IAAI1B,MAAMO,KACtBmB,EAAM,IAAM9B,EAAW,GAAIE,EAAK2B,GAGhCA,KACA3B,EAAM,IAAIE,MAAMY,QAAQ,IAAI,GAAG,GAC/Ba,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,GAAG,GACpCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GACrCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,IAAM,IAAI1B,MAAMO,KACtBmB,EAAM,IAAM9B,EAAW,GAAIE,EAAK2B,GAGhCA,KACA3B,EAAM,IAAIE,MAAMY,QAAQ,KAAK,IAAI,GACjCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,GAAG,GACpCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GACrCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,IAAM,IAAI1B,MAAMO,KACtBmB,EAAM,IAAM9B,EAAW,GAAIE,EAAK2B,GAGhCA,KACA3B,EAAM,IAAIE,MAAMY,QAAQ,KAAK,IAAI,GACjCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,KAAK,IAAI,GACtCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GACrCa,EAAM,GAAK,IAAIzB,MAAMY,QAAQ,IAAI,IAAI,GAErCc,EAAM,IAAM,IAAI1B,MAAMO,KACtBmB,EAAM,IAAM9B,EAAW,GAAIE,EAAK2B,GAEzBC,KA8BY/B,qGCtLnByB,IAAI,SACJO,MAAM,SACNC,MAAM,QACNC,KAAK,SACLC,UAAU,QACVC,UAAW,QACXC,KAAK,IACLC,OAAO,SACPC,MAAO,SACPC,KAAM,QACNC,OAAQ,sECTV7E,EAAA,qFCuNgB8E,OAtNhB,QAAA9E,EAAA,IACA+E,EAAA/E,EAAA,OACAA,EAAA,IACAgF,EAAAhF,EAAA,GACAiF,EAAAjF,EAAA,sDAGA,IAAIkF,SAAUC,SAAOC,SAAQC,SAGzBC,SAAiBC,SAEjBC,GADQ,IAAI/C,MAAMgD,MACb,IAAIhD,MAAMY,QAAS,EAAG,EAAG,IACvB,IAAIZ,MAAMY,QAqIrB,SAASqC,EAAMzC,GACb,GAAiB,OAAbb,WAAJ,CAIA,IAAIuD,GAAM,EAAAX,EAAAY,eACVD,GAAO,KAAQE,SACf,EAAAb,EAAAc,aAAYH,GAEZ,IAAIvC,EAAQhB,WAASa,GAAS8C,UAAU,EAAAf,EAAAY,gBACxC,GAAc,OAAVxC,GAIS,OAAT4C,QAGc,OAAdA,OAAKC,KAAT,CAIAD,OAAKC,KAAKC,SAAStD,EAAIQ,EAAMR,EAAE,EAC/BoD,OAAKC,KAAKC,SAASrD,EAAIO,EAAMP,EAAE,EAG/B,IAAIsD,EAiBN,SAAmBlD,EAASmD,GAE1B,IAAIC,EAAUjE,WAASa,GAASqD,WAAWF,GAAWG,YAKtD,OAFcC,KAAKC,KAAMJ,EAAQzD,EAAIyD,EAAQxD,GAtBjC6D,CAASzD,GAAS,EAAA+B,EAAAY,gBAC1BO,EAAQ,IACVA,GAAUK,KAAKG,GAAKR,GAGtBH,OAAKC,KAAKW,WAAWC,iBAAkBrB,EAAIW,GAEvCH,OAAKC,KAAKa,SAAShE,OAAS,IAC5BiE,SAAOC,SAASpE,GAAI,GACpBqE,cAAYD,SAASpE,GAAI,GACzBsE,aAAWF,SAASpE,GAAI,MA0B9B,SAASuE,IAEPzB,EADc0B,iBAEdC,sBAAsBF,GATtB9B,EAASiC,SACTpC,EAASqC,OAAOpC,EAAOC,GAYlB,SAASN,KAnKhB,WAKE,IAAI0C,EAASC,OAAOC,YAChBC,EAAQF,OAAOG,YACnBzC,EAAQ,IAAI1C,MAAMoF,OACZC,IAAM,IAAIrF,MAAMsF,IAAInE,UAAOQ,MAAO,IAAK,KAE7Ce,EAAM6C,KAAI,EAAAC,EAAAC,SAAY,MAEtB/C,EAAM6B,SAASmB,GAAK3B,KAAKG,GAAG,EAC5BxB,EAAM6B,SAASpE,GAAK4D,KAAKG,GAAG,GAE5BzB,EAAW,IAAIzC,MAAM2F,eAEnBC,OAAO,EAEPC,WAAW,KAEJC,QAASZ,EAAOH,GAEzBtC,EAASsD,UAAUC,SAAU,EAC7BvD,EAASwD,cAAcjB,OAAOkB,kBAGdC,SAASC,eAAe,UAC9BC,YAAY5D,EAAS6D,YAG/B,IAAIC,EAAcrB,EAAMH,GAKxBpC,EAAS,IAAI3C,MAAMwG,kBAJD,GAMhBD,EALc,EACD,MASR9C,SAASgD,KAAK,GAAI,IAAK,MAG9B7D,EAAW,IAAI5C,MAAM0G,cAAc/D,EAAQF,EAAS6D,aAC3CK,eAAgB,EACzB/D,EAASgE,cAAgB,IACzBhE,EAASiE,YAAa,EACtBjE,EAASiC,SAoHTiC,GAlFF,WAEE,IAAIC,EAAW,IAAI/G,MAAMgH,mBAAmBC,WAAU,EAAM/F,MAAO,IAC/DgG,EAAW,IAAIlH,MAAMmH,cAAc,IAAK,IAAK,GAAI,IACjDC,EAAQ,IAAIpH,MAAMqH,KAAKH,EAAUH,GACjCO,EAAY,IAAItH,MAAMuH,SAC1BD,EAAU/B,IAAI6B,GACd1E,EAAM6C,IAAI+B,GA6EVE,GAvMA3E,EAAkB,IAAI7C,MAAMyH,gBAAgB,SAAS,EAAU,KAI/D3E,EAAc,IAAI9C,MAAM0H,iBAAiB,SAAU,KAGvCjE,SAASgD,IAAI,IAAK,IAAK,KAGnC3D,EAAY6E,YAAa,EAGzB7E,EAAY8E,OAAOjF,OAAOkF,MAAQ,IAClC/E,EAAY8E,OAAOjF,OAAOmF,MAAQ,IAClChF,EAAY8E,OAAOjF,OAAOoF,IAAM,IAChCjF,EAAY8E,OAAOjF,OAAOqF,QAAU,IACpClF,EAAY8E,OAAOjF,OAAOsF,KAAO,EACjCnF,EAAY8E,OAAOjF,OAAOuF,IAAM,IAIhCpF,EAAY8E,OAAOO,QAAQjD,MAAQ,KACnCpC,EAAY8E,OAAOO,QAAQpD,OAAS,KAGpCrC,EAAM6C,IAAI1C,GACVH,EAAM6C,IAAIzC,IAiLV,EAAAN,EAAA4F,cAEA1F,EAAM6C,IAAIhC,OAAKC,MAEf,IAAI9B,EAEJA,GAAQ,EAAAY,EAAAd,eAER,IAAK,IAAI7D,EAAI,EAAGA,EAAI+D,EAAMrB,OAAQ1C,IAE/B+E,EAAM6C,IAAI7D,EAAM/D,IASnB+G,IAaFM,OAAOqD,iBAAiB,OAAQhG,GAAM,iCC1OtC,SAASiG,EAAWxI,EAAKC,EAAKwI,EAAUC,GACtC,IAAItB,EAAW,IAAIlH,MAAMc,SACvBiG,SAGAA,EADCyB,EACU,IAAIxI,MAAMgB,oBAAqBE,MAAOqH,EAAUlH,SAAU,EAAGC,QAAS,IAEtE,IAAItB,MAAMyI,mBAAoBvH,MAAOqH,IAGlDrB,EAASzG,SAASiI,KAAM5I,EAAI6I,SAC5BzB,EAASzG,SAASiI,KAAM3I,EAAI4I,SAG5B,IAAIC,EAAO,IAAI5I,MAAMO,KAAM2G,EAAUH,EAAU/G,MAAM6I,cAErD,OADAD,EAAKE,uBACEF,6DA/BT,SAAqBvI,GACpBA,EAASA,GAAU,IACnB,IAAK0I,EAAS,IAAI/I,MAAMuH,SASvB,OAPDwB,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,QAASP,EAAQ,EAAG,GAAK,UAAU,IAClG0I,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,SAAUP,EAAQ,EAAG,GAAK,UAAU,IACnG0I,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,QAAS,EAAGP,EAAQ,GAAK,OAAU,IAClG0I,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,QAAS,GAAIP,EAAQ,GAAK,OAAU,IACnG0I,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,QAAS,EAAG,EAAGP,GAAU,KAAU,IAClG0I,EAAOxD,IAAK+C,EAAW,IAAItI,MAAMY,QAAS,EAAG,EAAG,GAAK,IAAIZ,MAAMY,QAAS,EAAG,GAAIP,GAAU,KAAU,IAE3F0I,kCCvBT,SAAAC,+GAIA,IAAA1G,EAAA/E,EAAA,GAEI0L,EAAS,IACTtE,EAAgB,EAChBlB,EAAW,EACXL,EAAQ,EAGZ,SAAS8F,IACPzF,EAAW,EAoBb,SAAS0F,EAASzJ,GACfjC,EA4ToB2F,MA5TpBA,EAAQ1D,EAOX,SAAS0J,IACP,GAAiB,OAAbzJ,YAIkB,OAAlBgF,EAOJ,GAAmD,OAA/ChF,WAASgF,GAAerB,SAASG,GAGlC,OADAhG,EAuSkB2F,MAvSlBA,EAAQ,EACAuB,GACL,KAAK,GA2Cb,WAEI,IAAI0E,EAAcL,EAAE,eACpBK,EAAYC,OAAO,8CACnBD,EAAYC,OAAO,oCAEnBC,gBAAgBC,MACZC,MAAO,wBACPC,QAASL,EACTM,UACIC,MAAO,oBACPC,OAAQ,SAASC,GACbrM,EA8ORkH,cA9OQA,EAAgB,EAEhBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,aACPC,OAAQ,SAASC,GACbrM,EAqORkH,cArOQA,EAAgB,EAChBuE,IACAC,EAAS,IACTW,EAAUC,QACVC,WAAWZ,EAAOH,QAnExBgB,GACA,MACF,KAAK,GAwEb,WAEI,IAAIZ,EAAcL,EAAE,eACpBK,EAAYC,OAAO,8CACnBD,EAAYC,OAAO,oCACnBD,EAAYC,OAAO,4DACnBD,EAAYC,OAAO,6FAEnBC,gBAAgBC,MACZC,MAAO,wBACPC,QAASL,EACTM,UACIC,MAAO,oBACPC,OAAQ,SAASC,GACbrM,EA4MRkH,cA5MQA,EAAgB,EAChBuE,IACAC,EAAS,GACTW,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,aACPC,OAAQ,SAASC,GACbrM,EAmMRkH,cAnMQA,EAAgB,EAChBuE,IACAC,EAAS,GACTW,EAAUC,QACVC,WAAWZ,EAAOH,QAlGxBiB,GACA,MACF,KAAK,GAuGb,WAEI,IAAIb,EAAcL,EAAE,eACpBK,EAAYC,OAAO,sDACnBD,EAAYC,OAAO,sCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,aACPC,OAAQ,SAASC,GACbrM,EA4KRkH,cA5KQA,EAAgB,EAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,aACPC,OAAQ,SAASC,GACbrM,EAoKRkH,cApKQA,EAAgB,EAChBwF,eACAL,EAAUC,QACVC,WAAWZ,EAAOH,QA7HxBmB,GACA,MACF,KAAK,GA0Pb,WAEI,IAAIf,EAAcL,EAAE,eACpBK,EAAYC,OAAO,0DACnBD,EAAYC,OAAO,mCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,mCACPC,OAAQ,SAASC,GACbrM,EAsBRkH,cAtBQA,EAAgB,EAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,4CACPC,OAAQ,SAASC,GACbrM,EAcRkH,cAdQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,QAhRxBoB,GACA,MACF,KAAK,GA6Jb,WAEI,IAAIhB,EAAcL,EAAE,eACpBK,EAAYC,OAAO,oEACnBD,EAAYC,OAAO,oCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,oCACPC,OAAQ,SAASC,GACbrM,EAgHRkH,cAhHQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,2CACPC,OAAQ,SAASC,GACbrM,EAwGRkH,cAxGQA,EAAgB,EAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,QAnLxBqB,GACA,MACF,KAAK,EACL,KAAK,GA2Hb,WAEI,IAAIjB,EAAcL,EAAE,eACpBK,EAAYC,OAAO,oEACnBD,EAAYC,OAAO,mCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,mCACPC,OAAQ,SAASC,GACbrM,EA8IRkH,cA9IQA,EAAgB,EAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,2CACPC,OAAQ,SAASC,GACbrM,EAsIRkH,cAtIQA,EAAgB,EAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,QAjJxBsB,GACA,MACF,KAAK,GAoLb,WAEI,IAAIlB,EAAcL,EAAE,eACpBK,EAAYC,OAAO,wEACnBD,EAAYC,OAAO,mCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,mCACPC,OAAQ,SAASC,GACbrM,EAkFRkH,cAlFQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,4CACPC,OAAQ,SAASC,GACbrM,EA0ERkH,cA1EQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,QA1MxBuB,GACA,MACF,KAAK,IA+Mb,WAEI,IAAInB,EAAcL,EAAE,eACpBK,EAAYC,OAAO,uEACnBD,EAAYC,OAAO,mCAEnBC,gBAAgBC,MACZC,MAAO,uCACPC,QAASL,EACTM,UACIC,MAAO,mCACPC,OAAQ,SAASC,GACbrM,EAoDRkH,cApDQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,MAGtBW,MAAO,4CACPC,OAAQ,SAASC,GACbrM,EA4CRkH,cA5CQA,EAAgB,GAChBuE,IACAY,EAAUC,QACVC,WAAWZ,EAAOH,QArOxBwB,QAcNT,WAAWZ,EAAOH,GAzDT,OA3BFtJ,YA4BTqK,WAAWZ,EAAOH,KAwTZtE,kBAAevB,UAAOD,YA/U9B,WACE,OAAOM,KA8UkCJ,YA5U3C,SAAqBH,GACnBO,EAAWP,oCCnBbxF,EAAAD,QAAAiN,sFCEA,IAAIjG,EAAa,KACbD,EAAc,KAEdF,EAAS,KACTf,EAAO,OA8GH6E,WA1GR,WACE3K,EAyGkB8F,KAzGlBA,EAAO,IAAIvD,MAAMuH,SACjBhE,EAAKC,KAAO,IAAIxD,MAAMuH,SAGtB,IAAIoD,EAAY,IAAI3K,MAAM4K,UAC1BD,EAAUE,eAAe,WACzBF,EAAUG,KAAK,yBAA0B,SAAUC,GAEjDA,EAAIC,UAEJ,IAAIC,EAAY,IAAIjL,MAAMkL,UAC1BD,EAAUE,aAAaJ,GACvBE,EAAUH,KAAK,yBAA0B,SAAUzL,GAC/CA,EAAO+L,MAAM3E,IAAI,EAAG,EAAG,GACvBpH,EAAOkF,SAASnE,EAAI2D,KAAKG,GAAG,EAG5B7E,EAAOoE,SAASrD,GAAK,GACrBf,EAAOoE,SAASiC,GAAK,IACrBjI,EAsFuCgH,WAtFvCA,EAAapF,EACbkE,EAAKC,KAAK+B,IAAIlG,OAQlBsL,EAAUG,KAAK,0BAA2B,SAAUC,GAEpDA,EAAIC,UAEJ,IAAIC,EAAY,IAAIjL,MAAMkL,UAC1BD,EAAUE,aAAaJ,GACnBE,EAAUH,KAAK,0BAA2B,SAAUzL,GAClDA,EAAO+L,MAAM3E,IAAI,EAAG,EAAG,GACvBpH,EAAOkF,SAASnE,EAAI2D,KAAKG,GAAG,EAC5B7E,EAAOoE,SAASrD,GAAK,IACrBf,EAAOoE,SAASiC,GAAK,IAErBnC,EAAKC,KAAK+B,IAAIlG,GACd5B,EAgEwB+G,YAhExBA,EAAcnF,MAMtBsL,EAAUG,KAAK,4BAA6B,SAAUC,GAEpDA,EAAIC,UAEJ,IAAIC,EAAY,IAAIjL,MAAMkL,UAC1BD,EAAUE,aAAaJ,GACpBE,EAAUH,KAAK,4BAA6B,SAAUzL,GACnDA,EAAO+L,MAAM3E,IAAI,EAAG,EAAG,GACvBpH,EAAOkF,SAASmB,EAAI3B,KAAKG,GAAG,EAC5B7E,EAAOoE,SAASgD,IAAI,GAAG,IAAI,KAC3BlD,EAAKC,KAAK+B,IAAIlG,GACNA,MAMhBsL,EAAUG,KAAK,6BAA8B,SAAUC,GAErDA,EAAIC,UAEJ,IAAIC,EAAY,IAAIjL,MAAMkL,UAC1BD,EAAUE,aAAaJ,GACnBE,EAAUH,KAAK,6BAA8B,SAAUzL,GACrDA,EAAO+L,MAAM3E,IAAI,GAAK,GAAK,IAE3BpH,EAAOoE,SAASgD,IAAI,IAAK,IAAI,GAG7BhJ,EA6BgB6G,OA7BhBA,EAASjF,EACTkE,EAAKC,KAAK+B,IAAIlG,OAKtBsL,EAAUG,KAAK,wBAAyB,SAAUC,GAEhDA,EAAIC,UAEJ,IAAIC,EAAY,IAAIjL,MAAMkL,UAC1BD,EAAUE,aAAaJ,GACpBE,EAAUH,KAAK,wBAAyB,SAAUzL,GAC/CA,EAAO+L,MAAM3E,IAAI,EAAG,EAAG,GACvBpH,EAAOkF,SAASnE,EAAI2D,KAAKG,GACzB7E,EAAOkF,SAASpE,EAAI4D,KAAKG,GACzB7E,EAAOkF,SAASpE,EAAE4D,KAAKG,GAAG,EAE1B7E,EAAOoE,SAASgD,IAAI,GAAG,IAAI,GACnBpH,EAERkE,EAAKC,KAAK+B,IAAIlG,OAItBkE,EAAKC,KAAKC,SAASiC,EAAI,MAILnC,SAAMe,WAAQE,gBAAaC","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","'use strict';\n\nimport Colors from './colors';\n\nvar pathList = [];\n\nfunction createPath(pId, src, dst) {\n\n  pathList[pId] = new THREE.Path();\n  pathList[pId].moveTo(src.x, src.y);\n  for (let i = 0; i < dst.length; i++) {\n    pathList[pId].lineTo(dst[i].x, dst[i].y);\n    // pathList[pId].quadraticCurveTo( dst[i].x-1, dst[i].y-1, dst[i].x, dst[i].y );\n  }\n  let line = new THREE.Line();\n  line = drawPath(pId);\n  return line;\n}\n\nfunction createPaths() {  \n\n  // the pathList\n  let destP = [], src;\n  let lines = [];\n  \n  // P1 with 0 based indices\n  \n  src = new THREE.Vector3(-250,-240,0);\n  destP[0] = new THREE.Vector3(-160,-240,0);\n  destP[1] = new THREE.Vector3(-160,-185,0); \n  lines[0] = new THREE.Line();\n  lines[0] = createPath(0, src, destP);\n\n  // P2 with 0 based indices\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-160,-185,0);\n  destP[0] = new THREE.Vector3(-160,35,0);\n  lines[1] = new THREE.Line();\n  lines[1] = createPath(1, src, destP);\n  \n  // P3\n  src = new THREE.Vector3(-160,35,0);\n  destP[0] = new THREE.Vector3(-160,185,0);\n  destP[1] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[2] = new THREE.Line();\n  lines[2] = createPath(2, src, destP);\n \n  // P4\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-160,-185,0);\n  destP[0] = new THREE.Vector3(-135,-185,0);\n  // 0 based indices\n  lines[3] = new THREE.Line();\n  lines[3] = createPath(3, src, destP);\n  \n  // P5\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-160,35,0);\n  destP[0] = new THREE.Vector3(-40,35,0);\n  // 0 based indices\n  lines[4] = new THREE.Line();\n  lines[4] = createPath(4, src, destP);\n\n  // P6\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-135,-185,0);\n  destP[0] = new THREE.Vector3(-80,-150,0);\n  destP[1] = new THREE.Vector3(-40,-185,0); \n  // 0 based indices\n  lines[5] = new THREE.Line();\n  lines[5] = createPath(5, src, destP);\n\n  // P7\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-135,-185,0);\n  destP[0] = new THREE.Vector3(-80,-170,0);\n  destP[1] = new THREE.Vector3(-40,-185,0); \n  // 0 based indices\n  lines[6] = new THREE.Line();\n  lines[6] = createPath(6, src, destP);\n\n  // P8\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-40,-185,0);\n  destP[0] = new THREE.Vector3(110,-185,0);\n  // 0 based indices\n  lines[7] = new THREE.Line();\n  lines[7] = createPath(7, src, destP);\n\n  // P9\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-40,-185,0);\n  destP[0] = new THREE.Vector3(-40,35,0); // 35 instead of 10 to reach DP5\n  // 0 based indices\n  lines[8] = new THREE.Line();\n  lines[8] = createPath(8, src, destP);\n\n  // P10\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-40,35,0);\n  destP[0] = new THREE.Vector3(-10,35,0);\n  destP[1] = new THREE.Vector3(-10,185,0);\n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[9] = new THREE.Line();\n  lines[9] = createPath(9, src, destP);\n  \n  // P11\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-40,35,0);\n  destP[0] = new THREE.Vector3(110,35,0);\n  // 0 based indices\n  lines[10] = new THREE.Line();\n  lines[10] = createPath(10, src, destP);\n\n  // P12\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,35,0);\n  destP[0] = new THREE.Vector3(110,185,0);\n  destP[1] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[11] = new THREE.Line();\n  lines[11] = createPath(11, src, destP);\n\n  // P13\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,35,0);\n  destP[0] = new THREE.Vector3(185,35,0);\n  destP[1] = new THREE.Vector3(185,185,0); \n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[12] = new THREE.Line();\n  lines[12] = createPath(12, src, destP);\n\n  // P14\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,-185,0);\n  destP[0] = new THREE.Vector3(110,35,0);\n  destP[1] = new THREE.Vector3(110,185,0); \n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[13] = new THREE.Line();\n  lines[13] = createPath(13, src, destP);\n\n  // P15\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,-185,0);\n  destP[0] = new THREE.Vector3(185,-185,0);\n  destP[1] = new THREE.Vector3(185,185,0); \n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[14] = new THREE.Line();\n  lines[14] = createPath(14, src, destP);\n  \n  return lines;\n}\n\n\nfunction drawPath( segment ) {\n  let vertices = pathList[segment].getSpacedPoints(20);\n\n  // Change 2D points to 3D points\n  for (let i = 0; i < vertices.length; i++) {\n    let point = vertices[i];\n    vertices[i] = new THREE.Vector3(point.x, point.y, 0);\n  }\n  let lineGeometry = new THREE.Geometry();\n  lineGeometry.vertices = vertices;\n  let lineMaterial = new THREE.LineDashedMaterial({ linewidth: 1, color: Colors.red, dashSize: 3, gapSize: 3 });\n \n  // let lineMaterial = new THREE.LineBasicMaterial({\n  //   color: Colors.red\n  // });\n  let line = new THREE.Line(lineGeometry, lineMaterial);\n  // Move this to calling function and back to scene3D\n  //scene.add(line);\n  // Start angle and point\n  // previousAngle = getAngle( segment, position );\n  // previousPoint = pathList[segment].getPoint( position );\n\n  return line;\n\n}\n\nexport {createPaths, pathList};\n","'use strict';\n\nlet Colors = {\n  red:0xC61A05,\n  white:0xd8d0d1,\n  brown:0x59332e,\n  pink:0xF5A0F2,\n  brownDark:0x23190f,\n  lightblue: 0x80DFFF,\n  blue:0x0000FF,\n  orange:0xFC6531,\n  beige: 0xEBCDA4,\n  grey: 0x303030,\n  yellow: 0xFFFF1A\n};\n\nexport default Colors;","'use strict';\n\n// require('babelify/polyfill');\n\nimport scene3d from './scene3d';\n\n// window.onload = function(){\n\n//   scene3d.init();\n\n// };\n\n// HANDLE MOUSE EVENTS\n\n// let mousePos = { x: 0, y: 0 };\n\n// function handleMouseMove(event) {\n//   let tx = -1 + (event.clientX / WIDTH)*2;\n//   let ty = 1 - (event.clientY / HEIGHT)*2;\n//   mousePos = {x:tx, y:ty};\n// }\n\n// window.addEventListener('load', scene3d.init, false);\n","/*\n  Create a 3D Scene for our town and cycling routes\n*/\n'use strict';\n\nimport debug3dAxes from './dbg_3d_coord';\nimport {createPaths, pathList} from './bikePaths';\nimport Colors from './colors';\nimport {activeSegment, speed, getPosition, setPosition} from './decisionTree';\nimport {createBike, bike, pedals, front_wheel, back_wheel} from './bikeLoad';\n\n\nlet renderer, scene, camera, controls;\n\n\nlet hemisphereLight, shadowLight;\nlet clock = new THREE.Clock();\nlet up = new THREE.Vector3( 0, 0, 1 );\nlet axis = new THREE.Vector3( );\nlet radians, tangent;\n\nfunction createLights() {\n  // A hemisphere light is a gradient colored light; \n  // the first parameter is the sky color, the second parameter is the ground color, \n  // the third parameter is the intensity of the light\n  hemisphereLight = new THREE.HemisphereLight(0xaaaaaa,0x000000, 0.9);\n  \n  // A directional light shines from a specific direction. \n  // It acts like the sun, that means that all the rays produced are parallel. \n  shadowLight = new THREE.DirectionalLight(0xffffff, 0.9);\n\n  // Set the direction of the light  \n  shadowLight.position.set(150, 350, 350);\n  \n  // Allow shadow casting \n  shadowLight.castShadow = true;\n\n  // define the visible area of the projected shadow\n  shadowLight.shadow.camera.left = -400;\n  shadowLight.shadow.camera.right = 400;\n  shadowLight.shadow.camera.top = 400;\n  shadowLight.shadow.camera.bottom = -400;\n  shadowLight.shadow.camera.near = 1;\n  shadowLight.shadow.camera.far = 1000;\n\n  // define the resolution of the shadow; the higher the better, \n  // but also the more expensive and less performant\n  shadowLight.shadow.mapSize.width = 2048;\n  shadowLight.shadow.mapSize.height = 2048;\n  \n  // to activate the lights, just add them to the scene\n  scene.add(hemisphereLight);  \n  scene.add(shadowLight);\n}\n\n\nfunction createScene() {\n  //This function will create the scene, the camera and the renderer\n  // for this project\n  //The aspect ratio of the camera will be derived from the window's height\n  // width. the same parameters will be used for the renderer\n  let height = window.innerHeight;\n  let width = window.innerWidth;\n  scene = new THREE.Scene(); // for now scene is declared as a global variable\n  scene.fog = new THREE.Fog(Colors.white, 100, 1000);\n\n  scene.add(debug3dAxes(100));\n \n  scene.rotation.z += Math.PI/2;\n  scene.rotation.x -= Math.PI/2;\n\n  renderer = new THREE.WebGLRenderer({ \n    \n    alpha: true, \n\n    antialias: false // will experiment with turning this on\n  });\n  renderer.setSize( width, height );\n  // Enable shadow rendering for now\n  renderer.shadowMap.enabled = true;\n  renderer.setPixelRatio(window.devicePixelRatio);\n  // Add the DOM element of the renderer to the \n  // div townId container \n  let container = document.getElementById('townId');\n  container.appendChild(renderer.domElement);\n\n \n  let aspectRatio = width/height;\n  let fieldOfView = 45;\n  let nearPlane = 1,\n      farPlane = 10000;\n  // Camera setup: Do not add to scene to avoid rotation problems   \n  camera = new THREE.PerspectiveCamera(\n    fieldOfView,\n    aspectRatio,\n    nearPlane,\n    farPlane\n    );\n \n  camera.position.set(-50, 250, 450 );\n\n \n  controls = new THREE.OrbitControls(camera, renderer.domElement);\n  controls.enableDamping = true;\n  controls.dampingFactor = 0.25;\n  controls.enableZoom = true;\n  controls.update();\n\n\n}\n\n\nlet Sky = function(){\n  this.mesh = new THREE.Object3D();\n  // Should add some birds and other flying objects\n  \n}\n\n\nfunction createSky(){\n  sky = new Sky();\n  sky.mesh.position.y = -600;\n  scene.add(sky.mesh);\n}\n\nlet Road = function(){\n  // this.mesh = new THREE.Object3D();\n  let geometry = new THREE.PlaneGeometry( 1000, 2000);\n  let material = new THREE.MeshBasicMaterial( {color: Colors.red, side: THREE.DoubleSide} );\n  this.mesh = new THREE.Mesh( geometry, material );\n  this.mesh.castShadow = true;\n  this.mesh.position.set(0,0,-5);\n}\n\nfunction createRoad() {\n  let road = new Road();\n  road.mesh.position.y = -600;\n  scene.add(road.mesh);\n}\n\nfunction createFloor() {\n  // create floor\n  let material = new THREE.MeshBasicMaterial({wireframe:true, color: 0x000000});\n  let geometry = new THREE.PlaneGeometry(500, 500, 20, 20);\n  let floor = new THREE.Mesh(geometry, material);\n  let container = new THREE.Object3D();\n  container.add(floor);\n  scene.add(container);\n\n}\n\nfunction move( segment ) {\n  if (pathList === null) {\n    return;\n  }\n  // add up position for movement\n  let pos = getPosition();\n  pos += 0.002 * speed ;\n  setPosition(pos);\n  \n  let point = pathList[segment].getPoint( getPosition());\n  if (point === null) {\n    \n     return;\n  }\n  if (bike === null) {\n    return;\n  }\n  if (bike.mesh === null) {\n    return;\n  }\n  \n  bike.mesh.position.x = point.x-4;\n  bike.mesh.position.y = point.y+4;\n\n\n  let angle = getAngle(segment, getPosition());\n  if (angle > 0) {\n    angle = - Math.PI + angle;\n  }\n  // set the quaternion\n  bike.mesh.quaternion.setFromAxisAngle( up, angle );\n\n  if (bike.mesh.children.length > 3) {\n      pedals.rotation.x -=0.1;\n      front_wheel.rotation.x -=0.1;\n      back_wheel.rotation.x -=0.1;\n      \n  }\n  \n\n}\n\nfunction getAngle( segment, aPosition ){\n// get the 2Dtangent to the curve\n  let tangent = pathList[segment].getTangent(aPosition).normalize();\n\n  // change tangent to 3D\n  let angle = - Math.atan( tangent.x / tangent.y);\n  \n  return angle;\n}\n\n// render\nfunction render() {\n\n  controls.update();\n  renderer.render(scene, camera);\n  \n}\n\n// animate\nfunction animate() {\n  let segment = activeSegment;\n  move(segment);\n  requestAnimationFrame(animate);\n  render();\n}\n\nexport function init() {\n\n  // set up the scene, the camera and the renderer\n  createScene();\n\n  createFloor();\n  // add the lights\n  createLights();\n\n  // add the objects\n  createBike();\n  \n  scene.add(bike.mesh);\n\n  let lines = [];\n\n  lines = createPaths();\n\n  for (let i = 0; i < lines.length; i++) \n  {\n     scene.add(lines[i]);\n  }\n  // pathList = list;\n  // createRoad();\n\n  // createSky();\n\n  // start a loop that will update the objects' positions \n  // and render the scene on each frame\n  animate();\n}\n\n// HANDLE MOUSE EVENTS\n\nlet mousePos = { x: 0, y: 0 };\n\nfunction handleMouseMove(event) {\n  let tx = -1 + (event.clientX / WIDTH)*2;\n  let ty = 1 - (event.clientY / HEIGHT)*2;\n  mousePos = {x:tx, y:ty};\n}\n\nwindow.addEventListener('load', init, false);\n\n\n","/*\n  Add a left hand cartesian system with RED x-axis, GREEN y-axis and BLUE z-axis\n*/\n\n'use strict';\n\n// let THREE =  require('three');\n\n// alternative syntax from es6\n// import * as THREE from 'three';\n// const scene = new THREE.Scene();\n\nfunction build3dAxes(length) {\n\tlength = length || 200; // 200 default if length not provided\n\tlet  axes3d = new THREE.Object3D();\n\t// build solid lines for positive axes and dashed for neg\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( length, 0, 0 ), 0xFF0000, false ) ); // +X red\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( -length, 0, 0 ), 0xFF0000, true) ); // -X red dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, length, 0 ), 0x00FF00, false ) ); // +Y green\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, -length, 0 ), 0x00FF00, true ) ); // -Y green dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, length ), 0x0000FF, false ) ); // +Z blue\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, -length ), 0x0000FF, true ) ); // -Z blue dashed\n\n  return axes3d;\n}\n\n\nfunction setupAxis( src, dst, colorHex, dashed ) {\n  let geometry = new THREE.Geometry(),\n    material;\n\n  if(dashed) {\n    material = new THREE.LineDashedMaterial({ color: colorHex, dashSize: 3, gapSize: 3 });\n  } else {\n    material = new THREE.LineBasicMaterial({ color: colorHex });\n  }\n\n  geometry.vertices.push( src.clone() );\n  geometry.vertices.push( dst.clone() );\n  // geometry.computeLineDistances(); // This one is SUPER important, otherwise dashed lines will appear as simple plain lines\n\n  let axis = new THREE.Line( geometry, material, THREE.LineSegments );\n  axis.computeLineDistances();\n  return axis;\n}\n\nexport default build3dAxes;","'use strict';\n\n// import {resetPosition, setSpeed} from './scene3d';\n// import {createPaths, pathList} from './bikePaths';\nimport {pathList} from './bikePaths';\nlet decisionPoints = [];\nlet period = 2000; // periodic timer\nvar activeSegment = 0;\nvar position = 0;\nvar speed = 1;\nlet list = pathList;\n\nfunction resetPosition() {\n  position = 0;\n}\nfunction getPosition() {\n  return position;\n}\nfunction setPosition(pos) {\n  position = pos;\n}\n\nfunction createDecisionPoints() {\n  decisionPoint[0] = new THREE.Vector3(-160, -185, 0);\n  decisionPoint[1] = new THREE.Vector3(-160,35, 0);\n  decisionPoint[2] = new THREE.Vector3(-135, -185,0);\n  decisionPoint[3] = new THREE.Vector3(-40,-185,0);\n  decisionPoint[4] = new THREE.Vector3(-40,35,0);\n  decisionPoint[5] = new THREE.Vector3(110,-185,0);\n  decisionPoint[6] = new THREE.Vector3(110,35,0);\n  decisionPoint[7] = new THREE.Vector3(-40,35,0);\n}\n\nfunction setSpeed(s) {\n   speed = s;\n}\n\nif (list !== null) {\n  setTimeout(check, period);\n}\n\nfunction check() {\n  if (pathList === null) \n  {\n    return;\n  }\n  if (activeSegment === null) {\n    return;\n  }\n  // if (pathList.length === 0) {\n  //   return;\n  // }\n  // if (pathList[activeSegment] !== null && pathList[activeSegment].getPoint(position) === null) \n  if (pathList[activeSegment].getPoint(position) === null)\n  {\n     speed = 1;\n     switch (activeSegment) {\n        case 0:\n          decisionPoint1();\n          break;\n        case 1:\n          decisionPoint2();\n          break;\n        case 3:\n          decisionPoint3();\n          break;\n        case 4:\n          decisionPoint8();\n          break;\n        case 8:\n          decisionPoint5();\n          break;\n        case 5:\n        case 6:\n          decisionPoint4();\n          break;\n        case 7:\n          decisionPoint6();\n          break;\n        case 10:\n          decisionPoint7();\n          break;\n        case 2:\n        case 9:\n        case 11:\n        case 12:\n        case 13:\n        case 14:\n        default:\n          break;\n     }\n     \n  }\n  else {\n    setTimeout(check, period);\n  }\n\n}\n\n\nfunction decisionPoint1()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('What\\'s this cycling sign stand for? <br />');\n    $textAndPic.append('<img src=\"./images/right.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Guess what this means',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Continue Straight',\n            action: function(dialogRef){\n                activeSegment = 1; // P2\n                // position = 0;\n                resetPosition();\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Turn Right',\n            action: function(dialogRef){\n                activeSegment = 3;  //P4\n                resetPosition(); //position = 0;\n                setSpeed(10); //speed=10;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n    \n}      \n\nfunction decisionPoint2()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('What\\'s this cycling sign stand for? <br />');\n    $textAndPic.append('<img src=\"./images/stop1.png\" />');\n    $textAndPic.append('Cautious going straight: busy traffic road ahead! <br />');\n    $textAndPic.append('Cautious turning right: traffic violation - entering one-way road against traffic! <br />');\n    \n    BootstrapDialog.show({\n        title: 'Guess what this means',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Continue Straight',\n            action: function(dialogRef){\n                activeSegment = 2; // P3\n                resetPosition(); //position = 0;\n                setSpeed(2); // speed=2;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Turn Right',\n            action: function(dialogRef){\n                activeSegment = 4;  //P5\n                resetPosition(); //position = 0;\n                setSpeed(2); // speed=2;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n    \n}\n\nfunction decisionPoint3()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: don\\'t crash into car door opening! <br />');\n    $textAndPic.append('<img src=\"./images/dooring.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'ride close',\n            action: function(dialogRef){\n                activeSegment = 6; // P7\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'steer away',\n            action: function(dialogRef){\n                activeSegment = 5;  //P6\n                esetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint4()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: Obey Traffic signs - Stop and check for traffic! <br />');\n    $textAndPic.append('<img src=\"./images/left.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Full stop - turn left when clear',\n            action: function(dialogRef){\n                activeSegment = 8; // P9\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Full stop - continue straight when clear',\n            action: function(dialogRef){\n                activeSegment = 7;  //P8\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint5()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: Obey Traffic signs - Stop and check for traffic! <br />');\n    $textAndPic.append('<img src=\"./images/right.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Full stop - turn right when clear',\n            action: function(dialogRef){\n                activeSegment = 10; // P11\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Full stop - continue straight when clear',\n            action: function(dialogRef){\n                activeSegment = 9;  //P10\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint6()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: Obey Traffic signs - Avoid Riding on busy sidewalks! <br />');\n    $textAndPic.append('<img src=\"./images/left.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Full stop - turn left when clear',\n            action: function(dialogRef){\n                activeSegment = 13; // P14\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Full stop - continue straight to sidewalk',\n            action: function(dialogRef){\n                activeSegment = 14;  //P15\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint7()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: Obey Traffic laws - Avoid Riding on busy sidewalks! <br />');\n    $textAndPic.append('<img src=\"./images/left.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Full stop - turn left when clear',\n            action: function(dialogRef){\n                activeSegment = 11; // P12\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Full stop - continue straight to sidewalk',\n            action: function(dialogRef){\n                activeSegment = 12;  //P13\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint8()\n{\n    let $textAndPic = $('<div></div>');\n    $textAndPic.append('Caution: Obey Traffic laws - Get Back on Track! <br />');\n    $textAndPic.append('<img src=\"./images/left.png\" />');\n    \n    BootstrapDialog.show({\n        title: 'Defensive Riding: Don\\'t take chances',\n        message: $textAndPic,\n        buttons: [{\n            label: 'Full stop - turn left when clear',\n            action: function(dialogRef){\n                activeSegment = 9; // P10\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }, {\n            label: 'Full stop - continue straight to sidewalk',\n            action: function(dialogRef){\n                activeSegment = 10;  //P11\n                resetPosition(); //position = 0;\n                dialogRef.close();\n                setTimeout(check, period);\n            }\n        }]\n    });\n   \n}\n\n// function getActiveSegment(){\n//     return activeSegment;\n// }\n\nexport {activeSegment, speed, getPosition, setPosition};\n","module.exports = jQuery;","'use strict';\n\nvar back_wheel = null,\n    front_wheel = null,\n    rider = null,\n    pedals = null,\n    bike = null;\nlet frame = null;\n\n\nfunction createBike() {\n  bike = new THREE.Object3D();\n  bike.mesh = new THREE.Object3D();\n  // bike.backWheel = new THREE.Object3D();\n  // bike.frontWheel = new THREE.Object3D();\n  let mtlLoader = new THREE.MTLLoader();\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/Wheel_back1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/Wheel_back1.obj', function (object) {\n        object.scale.set(5, 5, 5);\n        object.rotation.y = Math.PI/2;\n        // object.position.z = 0;\n        // bike.backWheel.add(object);\n        object.position.y = -26;\n        object.position.z = -5.5;\n        back_wheel = object;\n        bike.mesh.add(object);\n        // move to scene3d\n        // scene.add(bike.mesh);\n      });\n    });\n\n    // Front Wheel loading\n     \n    mtlLoader.load('assets/Wheel_front1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n        objLoader.load('assets/Wheel_front1.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.y = Math.PI/2;\n          object.position.y = -9.5;\n          object.position.z = -5.5;\n          // bike.frontWheel.add(object);\n          bike.mesh.add(object);\n          front_wheel = object;\n       });\n  });\n   \n\n\n  mtlLoader.load('assets/frame-nopedals.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n       objLoader.load('assets/frame-nopedals.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.z = Math.PI/2;\n          object.position.set(0,-10,-5.5);\n          bike.mesh.add(object);\n          frame = object;\n       });\n  });\n\n  // Pedals+crankArm\n\n  mtlLoader.load('assets/pedalsCrankArms.mtl', function (mtl) {\n\n    mtl.preload();\n\n    var objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n        objLoader.load('assets/pedalsCrankArms.obj', function (object) {\n          object.scale.set(0.5, 0.5, 0.5);\n          // object.rotation.z = Math.PI/2;\n          object.position.set(0.5,-19,-5.0);\n          // object.position.z = 0;\n          // bike.frontWheel.add(object);\n          pedals = object;\n          bike.mesh.add(object);\n\n       });\n  });\n\n  mtlLoader.load('assets/riderinpos.mtl', function (mtl) {\n\n    mtl.preload();\n\n    var objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n       objLoader.load('assets/riderinpos.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.y = Math.PI;\n          object.rotation.x = Math.PI;\n          object.rotation.x=Math.PI/2;\n          // object.rotation.z=Math.PI/2;\n          object.position.set(0,-21,-9);\n          rider = object;\n      \n          bike.mesh.add(object);\n       });\n  });\n\n  bike.mesh.position.z = 10;\n\n}\n\nexport {createBike, bike, pedals, front_wheel, back_wheel}; //{createBike, bike, pedals, front_wheel, back_wheel, rider};\n"],"sourceRoot":""}