{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./js/cameraControls.js","webpack:///./js/bikePaths.js","webpack:///./js/colors.js","webpack:///./js/bikeLoad.js","webpack:///./js/createLights.js","webpack:///./js/townLoad.js","webpack:///./js/hide.js","webpack:///./js/main.js","webpack:///./js/scene3d.js","webpack:///./js/dbg_3d_coord.js","webpack:///./js/info.js","webpack:///./js/decisionTree.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","activeCamera","trailingCamera","hoveringCamera","orbitControls","inspectCamera","createCameras","scene","renderer","aspectRatio","window","innerWidth","innerHeight","THREE","Object3D","PerspectiveCamera","position","set","tcontrols","OrbitControls","domElement","maxPolarAngle","minPolarAngle","maxAzimuthAngle","minAzimuthAngle","minDistance","maxDistance","enableDamping","dampingFactor","enableZoom","enablePan","update","lookAt","hcontrols","Math","PI","getActiveCamera","setActiveCamera","aCamera","pathList","decisionPoint","DEBUG","segmentLevel2","counter","lines","CarSegments","redCar","blueCar","yellowCar","yellowCar1","greenCar","PedSegments","boy1","robot1","DP","DP1","DP2","DP3","DP4","DP5","DP6","DP7","DP8","DP9","DP10","DP11","DP12","DP13","DP14","DP21","DP22","DP23","DP24","DP25","DP26","DP27","DP28","DP29","DP30","DP31","DP32","DP33","DP34","DP35","DP36","DP37","DP38","DP39","DP40","createPath","pId","src","dst","Path","moveTo","length","lineTo","segment","vertices","point","mycolor","Colors","red","green","blue","curves","Vector3","v1","x","y","v2","lineGeometry","Geometry","lineMaterial","LineDashedMaterial","linewidth","color","dashSize","gapSize","Line","drawPath","createPaths","destP","randPos","random","getDP","dp","white","brown","pink","brownDark","lightblue","orange","beige","grey","yellow","bike","createBike","mesh","mtlLoader","MTLLoader","jloader","JSONLoader","setTexturePath","load","mtl","preload","objLoader","OBJLoader","setMaterials","scale","rotation","z","back_wheel","add","front_wheel","geometry","materials","forEach","material","skinning","rider","SkinnedMesh","mixer","AnimationMixer","anim","clipAction","animations","setEffectiveWeight","enabled","play","paused","timeScale","wide","long","tripod","hemisphereLight","createLight","ambientLight","shadowLight","HemisphereLight","AmbientLight","DirectionalLight","setHLIntensity","intensity","_bikePaths","town","parkedCarDoor","cars","parkedCar","pedestrians","carSpeed","cloneArrow","yRotation","clone","pos","dpArrows","animCommons","animation","createTown","loader","ColladaLoader","clone1","createHelperArrows","collada","traverse","child","bone","skeleton","bones","colliderGeometry","CubeGeometry","wireMaterial","MeshBasicMaterial","wireframe","doorCollider","Mesh","e","castShadow","receiveShadow","MeshPhongMaterial","needsUpdate","updateMatrix","speed","billBoard","walkingBoy","walkingBoy1","walkingGirl","walkingGirl1","runningRobot","runningRobot1","createAnimChar","$","visibilityDuringGame","hide","show","visibilityOutsideGame","hideCameraSelect","showCameraSelect","hideAll","init","_info","_decisionTree","_bikeLoad","_townLoad","_cameraControls","_createLights","_hide","carPosition","boy1Position","robot1Position","pedSpeed","animId","gameEnd","clock","Clock","rs_logo","bike_anim","backReset","backReset1","forwardReset","forwardReset1","pauseCount","pauseCount1","pauseCount2","simpleCollision","obj1","obj2","crashBike","each","BootstrapDialog","dialogs","id","dialog","close","cleanup","title","message","cssClass","closeByBackdrop","closeByKeyboard","buttons","label","action","dialogRef","animate","cancelAnimationFrame","updateCar","car","getPoint","obeySignLaw","up","angle","getAngle","quaternion","setFromAxisAngle","aPosition","tangent","getTangent","normalize","atan","activeSegment","temp","getPosition","getBikeSpeed","setPosition","destroy","setFromMatrixPosition","matrixWorld","lerp","children","updateBike","text","reward","segment1","point1","prevPosition","prevPosition1","updatePedestrians","console","log","collisionTests","requestAnimationFrame","render","delta","getDelta","height","width","Scene","fog","Fog","WebGLRenderer","alpha","antialias","setSize","shadowMap","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","lottie","loadAnimation","container","loop","autoplay","path","infoButton","selectCameraView","createScene","$textAndPic","append","welcomeDialog","addEventListener","setupAxis","colorHex","dashed","LineBasicMaterial","push","axis","LineSegments","computeLineDistances","axes3d","css","z-index","background","opacity","tooltip","disabled","event","ui","this","on","hover","find","remove","period","bikeSpeed","list","timer_id","inspect_period","initReward","bonus","choose_timer_id","countdown_interval_id","choose_period","interval","timeoutLoss","badDecision","goodDecision","goodHabit","resetReward","resetPosition","setBikeSpeed","resetCamera","check","setTimeout","chooseForRider","displayCountdown","restartCycling","setInspectCamera","decisionPoint1","decisionPoint2","decisionPoint3","decisionPoint8","decisionPoint5","decisionPoint4","decisionPoint6","decisionPoint7","decisionPoint9","decisionPoint11","decisionPoint13","decisionPoint12","decisionPoint10","decisionPoint14","journeyCompleted","decisionPoint21","decisionPoint27","decisionPoint22","decisionPoint26","decisionPoint31","decisionPoint23","decisionPoint30","decisionPoint38","decisionPoint28","decisionPoint24","decisionPoint29","decisionPoint35","decisionPoint39","decisionPoint40","decisionPoint37","decisionPoint33","decisionPoint36","decisionPoint32","decisionPoint25","decisionPoint34","gameFinishLine2","segment2","arrowObj","speed1","speed2","curInterval","clearTimeout","clearInterval","seconds_left","setInterval","html","rotateY","resetSegment","dpArrow"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = jQuery;","'use strict';\n\nlet activeCamera = null, trailingCamera = null, hoveringCamera = null, orbitControls = null;\nlet inspectCamera = null;\n\n\nfunction createCameras( scene , renderer) {\n\n \n  let aspectRatio = window.innerWidth/window.innerHeight;\n  let fieldOfView = 45, fieldOfView1 = 45;  //45;\n  let nearPlane = 1, //1,\n      farPlane = 1000; //10000;\n\n\n  orbitControls = new THREE.Object3D();\n  // Camera setup: Do not add to scene to avoid rotation problems   \n  trailingCamera = new THREE.PerspectiveCamera(\n    fieldOfView,\n    aspectRatio,\n    nearPlane,\n    farPlane\n    );\n \n\n  trailingCamera.position.set(0, -200, 50);\n\n  // Default ActiveCamera to be the trailingCamera\n  activeCamera = trailingCamera;\n\n // Limit orbit controls for the trailing camera: No real need.\n  orbitControls.tcontrols = new THREE.OrbitControls(trailingCamera, renderer.domElement);\n  orbitControls.tcontrols.maxPolarAngle = 2.7; \n  orbitControls.tcontrols.minPolarAngle = 2.7; //Disable Rotation around\n  orbitControls.tcontrols.maxAzimuthAngle=0;//Math.PI/6;\n  orbitControls.tcontrols.minAzimuthAngle=0;//-Math.PI/6;\n  orbitControls.tcontrols.minDistance = 50;\n  orbitControls.tcontrols.maxDistance = 250; \n  orbitControls.tcontrols.enableDamping = true;\n  orbitControls.tcontrols.dampingFactor = 0.25;\n  orbitControls.tcontrols.enableZoom = false;\n  orbitControls.tcontrols.enablePan = false;\n  orbitControls.tcontrols.update();\n\n  // hovering camera\n  hoveringCamera = new THREE.PerspectiveCamera(\n    fieldOfView1,\n    aspectRatio,\n    nearPlane,\n    farPlane\n    );\n  hoveringCamera.position.set(0, 350, 450); \n  hoveringCamera.lookAt(scene.position);\n\n  orbitControls.hcontrols = new THREE.OrbitControls(hoveringCamera, renderer.domElement);\n  orbitControls.hcontrols.maxPolarAngle = 1.4; // limiting angle\n  orbitControls.hcontrols.minPolarAngle = Math.PI/4; // limiting angle\n  orbitControls.hcontrols.maxAzimuthAngle=Math.PI/2;\n  orbitControls.hcontrols.minAzimuthAngle=-Math.PI/2;\n  orbitControls.hcontrols.minDistance = 50;\n  orbitControls.hcontrols.maxDistance = 400; \n  orbitControls.hcontrols.enableDamping = true;\n  orbitControls.hcontrols.dampingFactor = 0.25;\n  orbitControls.hcontrols.enableZoom = true;\n  orbitControls.hcontrols.update();\n\n  inspectCamera = new THREE.PerspectiveCamera(\n    35,\n    aspectRatio,\n    0.1,\n    1000\n    );\n  inspectCamera.position.set(0,2,25);\n\n}\n\nfunction setActiveCamera (aCamera) {\n    activeCamera = aCamera;\n}\nfunction getActiveCamera() {\n\treturn activeCamera;\n}\n\nexport {createCameras, getActiveCamera, setActiveCamera, hoveringCamera, trailingCamera, orbitControls, inspectCamera};","// This is the most important file in this project. It creates the different paths for the bike,\n// the cars and the pedestrians. it uses the THREE.js Path() functions to create paths (segments) from \n// a source 2D position to an end destination while going through intermediate points\n//              SOURCE POINT (DECISION POINT x)\n//                  |\n//                  | (sub-segment 1)\n//                  |             (sub-segment 2)\n//                DEST 1 --------------------------DEST2\n//                                                   |\n//                                                   | (sub-segment 3)\n//                                                   |\n//                                                 DEST (DECISION POINT y)\n//                        Path z: starting at DP x and ending at DPy\n//\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n'use strict';\n\nimport Colors from './colors';\n\n\nlet pathList = [], decisionPoint = [];\nlet DEBUG = 0;\nlet segmentLevel2 = 49;\nlet counter = 0;\nlet lines = [];\n\nlet CarSegments = {\n  redCar: 31,\n  blueCar: 32,\n  yellowCar: 33,\n  yellowCar1: 34,\n  greenCar: 35\n};\n\nlet PedSegments = {\n  boy1: 41,\n  robot1: 42\n};\n// Level 1: DP1 to DP13\nlet DP = {\n  DP1: 0,\n  DP2: 1,\n  DP3: 2,\n  DP4: 3,\n  DP5: 4,\n  DP6: 5,\n  DP7: 6,\n  DP8: 7,\n  DP9: 8,\n  DP10: 9,\n  DP11: 10,\n  DP12: 11,\n  DP13: 12,\n  DP14: 13,   // Last DP from Level 1\n  DP21: 21,   // start of level 2 decision points\n  DP22: 22,   \n  DP23: 23,\n  DP24: 24,\n  DP25: 25,\n  DP26: 26,\n  DP27: 27,\n  DP28: 28,\n  DP29: 29,\n  DP30: 30,\n  DP31: 31,\n  DP32: 32, \n  DP33: 33,\n  DP34: 34,\n  DP35: 35,\n  DP36: 36,\n  DP37: 37,\n  DP38: 38,\n  DP39: 39,\n  DP40: 40\n}\n\n\nfunction createDecisionPoints() {\n  // Level 1: Decision Points creation\n  decisionPoint[DP.DP1] = new THREE.Vector3(-160, -175, 0); // DP1\n  decisionPoint[DP.DP2] = new THREE.Vector3(-160, 25, 0);   // DP2\n  decisionPoint[DP.DP3] = new THREE.Vector3(-120, -170,0);  // DP3\n  decisionPoint[DP.DP4] = new THREE.Vector3(-55,-170,0);    // DP4\n  decisionPoint[DP.DP5] = new THREE.Vector3(-40,25,0);      // DP5\n  decisionPoint[DP.DP6] = new THREE.Vector3(100,-170,0);    // DP6\n  decisionPoint[DP.DP7] = new THREE.Vector3(100,25,0);      // DP7\n  decisionPoint[DP.DP8] = new THREE.Vector3(-40,25,0);      // DP8\n  decisionPoint[DP.DP9] = new THREE.Vector3(-160,178,0);    // DP9\n  decisionPoint[DP.DP10] = new THREE.Vector3(-10, 240, 0);   // DP10\n  decisionPoint[DP.DP11] = new THREE.Vector3(-5, 178, 0);   // DP11\n  decisionPoint[DP.DP12] = new THREE.Vector3(150, -10, 0);  // DP12\n  decisionPoint[DP.DP13] = new THREE.Vector3(-55, 178, 0);  // DP13\n  decisionPoint[DP.DP14] = new THREE.Vector3(135,25, 0);  // DP14\n  // Level 2: Decision Points creation starting at DP21\n  decisionPoint[DP.DP21] = new THREE.Vector3(190, 220, 0); // DP21\n  decisionPoint[DP.DP22] = new THREE.Vector3(-10, 220, 0); // DP22\n  decisionPoint[DP.DP23] = new THREE.Vector3(-160, 220, 0); // DP23\n  decisionPoint[DP.DP24] = new THREE.Vector3(-150, 20, 0); // DP24\n  decisionPoint[DP.DP25] = new THREE.Vector3(-195, -170, 0); // DP25\n  decisionPoint[DP.DP26] = new THREE.Vector3(135, 70, 0); // DP26\n  decisionPoint[DP.DP27] = new THREE.Vector3(135, -170, 0); // DP27\n  decisionPoint[DP.DP28] = new THREE.Vector3(0, 70, 0); // DP28\n  decisionPoint[DP.DP29] = new THREE.Vector3(-25, -125, 0); // DP29\n  decisionPoint[DP.DP30] = new THREE.Vector3(-50, 65, 0); // DP30\n  decisionPoint[DP.DP31] = new THREE.Vector3(-148, -130, 0); // DP31\n  decisionPoint[DP.DP32] = new THREE.Vector3(-195, 65, 0); // DP32\n  decisionPoint[DP.DP33] = new THREE.Vector3(-55,-170,0); // DP33\n  decisionPoint[DP.DP34] = new THREE.Vector3(100,-170,0); // DP34\n  decisionPoint[DP.DP35] = new THREE.Vector3(-55,15,0); // DP35\n  decisionPoint[DP.DP36] = new THREE.Vector3(-160,65,0); // DP36\n  decisionPoint[DP.DP37] = new THREE.Vector3(-160,-125,0); // DP37\n  decisionPoint[DP.DP38] = new THREE.Vector3(105,-125,0); // DP38\n  decisionPoint[DP.DP39] = new THREE.Vector3(-148,50,0); // DP39\n  decisionPoint[DP.DP40] = new THREE.Vector3(-195,-125,0); // DP40\n  \n  \n}\n\nfunction getDP(dp) \n{\n  // DP is 1 based: range DP1 tp DP1\n  if ((dp>= 1 && dp < DP.DP21))  {\n    return decisionPoint[dp-1];\n  }\n  else  {\n    return decisionPoint[dp];\n  }\n  return null;\n}\n\n// Level 1: Segment 1 to segment 24 for level 1 Bike paths from Start to Finish lines\n// Level 2: Segment 50 to segment TBD for level 2 Bike paths from new Start to new Finish\n// lines are only needed for DEBUG purposes. paths drawn by setting DEBUG = 1;\n\n\nfunction createPath(pId, src, dst) {\n\n  pathList[pId] = new THREE.Path();\n  pathList[pId].moveTo(src[0], src[1]);\n  for (let i = 0; i < dst.length; i++) {\n    pathList[pId].lineTo(dst[i][0], dst[i][1]);\n  \n  }\n  // let line = null;\n  if (DEBUG) {\n     // visible lines drawing the paths are only needed for debugging purposes\n     lines[counter++] = drawPath(pId);\n  }\n  // return line;\n}\n\nfunction createPaths() {  \n\n  // the pathList\n  let destP = [], src = [];\n  \n  \n  \n  createDecisionPoints();\n\n  // P1 with 0 based indices\n  \n  src = [-155,-240];\n  destP = [[-155,-170]];\n  createPath(0, src, destP);\n\n  // P2 with 0 based indices\n  destP  = []; // reset destP array\n  src = [-155,-170];\n  destP = [[-155,25]];\n  createPath(1, src, destP);\n  \n  // P3 starts at DP2 and goes to DP9\n  destP  = []; // reset destP array\n  src = [-155,25];\n  destP = [[-155,178]];\n  // 0 based indices\n  createPath(2, src, destP);\n \n  // P4 DP1 to DP3\n  destP  = []; // reset destP array\n  src = [-155,-170];\n  destP = [[-120,-170]];\n  // 0 based indices\n  createPath(3, src, destP);\n  \n  // P5\n  destP  = []; // reset destP array\n  src = [-155,25];\n  destP = [[-150,25], [-150,40], [-55,40]];\n  // 0 based indices\n  createPath(4, src, destP);\n\n  // P6 from DP3 to DP4\n  destP  = []; // reset destP array\n  src = [-120,-170];\n  destP = [[-110,-160], [-55,-170]];\n  // 0 based indices\n  createPath(5, src, destP);\n\n  // P7 from DP3 to DP4\n  destP  = []; // reset destP array\n  src = [-120,-170];\n  destP = [[-55,-170]];\n  // 0 based indices\n  createPath(6, src, destP);\n\n  // P8\n  destP  = []; // reset destP array\n  src = [-55,-170];\n  destP = [[110,-170]];\n  // 0 based indices\n  createPath(7, src, destP);\n\n  // P9\n  destP  = []; // P9 starts at DP4\n  src = [-55,-170];\n  destP = [[-25,-170], [-25,25]];\n  // 0 based indices\n  createPath(8, src, destP);\n\n  // P10 starts at DP5 continue to DP11\n  destP  = []; // reset destP array\n  src = [-55,25];\n  destP = [[-45,25], [-10,25], [-10,178]];\n  // 0 based indices\n  createPath(9, src, destP);\n  \n  // P11\n  destP  = []; // reset destP array\n  src = [-55,25];\n  destP = [[-45,25], [110,25]];\n  // 0 based indices\n  createPath(10, src, destP);\n\n  // P12\n  destP  = []; // reset destP array\n  src = [110,25];\n  destP = [[135,25], [135,185], [250,185]];\n  // 0 based indices\n  createPath(11, src, destP);\n\n  // P13\n  destP  = []; // reset destP array\n  src = [110,25];\n  destP = [[150,25], [150,185], [250,185]];\n  // 0 based indices\n  createPath(12, src, destP);\n\n  // P14 from DP6 to DP14\n  destP  = []; // reset destP array\n  src = [100,-170];\n  destP = [[135,-170], [135,25]]; \n  // 0 based indices\n  createPath(13, src, destP);\n\n  // P15 starts at DP6 to DP12\n  destP  = []; // reset destP array\n  src = [100,-170];\n  destP = [[150,-170], [150,-15]];\n  // 0 based indices\n  createPath(14, src, destP);\n\n  // P16 - starts at DP9 towards DP13\n  destP  = []; // reset destP array\n  src = [-160,178];\n  destP = [[-55,178]];\n  \n  // 0 based indices\n  createPath(15, src, destP);\n  \n  // P17 - starts at DP9 towards DP10\n  destP  = []; // reset destP array\n  src = [-160,178];\n  destP = [[-160, 240], [-5, 240]];\n  \n  \n  // 0 based indices\n  createPath(16, src, destP);\n\n  // P18 - starts at DP10 towards endline\n  destP  = []; // reset destP array\n  src = [-10, 240];\n  destP = [[250, 240]];\n  \n  // 0 based indices\n  createPath(17, src, destP);\n\n  // P19 - starts at DP10 towards endline\n  destP  = []; // reset destP array\n  src = [-10, 240];\n  destP = [[0, 178], [250, 178]];\n  \n  // 0 based indices\n  createPath(18, src, destP);\n\n   // P20 - starts at DP11 towards endline\n  destP  = []; // reset destP array\n  src = [-5, 178];\n  destP = [[250, 178]];\n  \n  // 0 based indices\n  createPath(19, src, destP);\n\n  // P21 - starts at DP11 towards endline\n  destP  = []; // reset destP array\n  src = [-5, 178];\n  destP = [[-5, 240], [250, 240]];\n  \n  // 0 based indices\n  createPath(20, src, destP);\n\n  // P22 - starts at DP12 towards endline\n  destP  = []; // reset destP array\n  src = [150, -10];\n  destP = [[150, 178], [250, 178]];\n  \n  // 0 based indices\n  createPath(21, src, destP);\n\n  // P23 - starts at DP12 towards endline\n  destP  = []; // reset destP array\n  src = [150, -10];\n  destP = [[135, -20], [135, 178], [250, 178]];\n  \n  // 0 based indices\n  createPath(22, src, destP);\n\n  // P24 - starts at DP13 towards endline\n  destP  = []; // reset destP array\n  src = [-55, 178];\n  destP = [[250, 178]];\n  // 0 based indices\n  createPath(23, src, destP);\n\n  // P25 - starts at DP13 towards endline\n  destP  = []; // reset destP array\n  src = [-55, 178];\n  destP = [[-55, 240], [250, 240]];\n  // 0 based indices\n  createPath(24, src, destP);\n\n  // P26 - starts at DP14 towards finish line\n  destP  = []; // reset destP array\n  src = [decisionPoint[DP.DP14].x, decisionPoint[DP.DP14].y];\n  destP = [[135,178], [250,178]];\n  // 0 based indices\n  createPath(25, src, destP);\n\n  // P27 - starts at DP14 towards finish line 135,25\n  destP  = []; // reset destP array\n  src = [decisionPoint[DP.DP14].x, decisionPoint[DP.DP14].y];\n  destP = [[170,decisionPoint[DP.DP14].y], [170,178], [250, 178]];\n  // 0 based indices\n  createPath(26, src, destP);\n  \n\n  ///////////////////////////////////////////////\n  // Cars Section\n  // Red Car Path\n  // P31 === CarSegments.redCar\n  destP = []; // reset destP array\n  src = [250,210];\n  \n  destP = [[185, 210], [185, -165], [115, -165], [115, 60], [0, 60], [-10, 40], [-165, 40], [-165, 188], [-40, 188], [-40, 40], [125, 40], [125, 188], [250, 188]];\n  createPath(CarSegments.redCar, src, destP);\n\n  // P32 === CarSegments.blueCar\n  destP = []; // reset destP array\n  \n  src = [-250,-160];\n  \n  destP = [[128, -160], [128, 210], [-185, 210], [-185, -250]];\n\n  \n  createPath(CarSegments.blueCar, src, destP); \n\n// P33 === CarSegments.yellowCar1\n  destP = []; // reset destP array\n  src = [-250,-160];\n  \n  destP = [[-30, -160], [-30, 40], [-40, 40], [-165, 40], [-165, 250]];\n\n  \n  createPath(CarSegments.yellowCar1, src, destP); \n\n// P35 === CarSegments.greenCar\n  destP = []; // reset destP array\n  src = [-30,-250];\n  destP = [[-30, 25], [-20, 210], [-200, 210]];\n  \n  \n  createPath(CarSegments.greenCar, src, destP); \n\n\n\n  // Pedestrians on sidewalk1 starting at P41\n  let randPos = Math.random() * 10;\n  destP = []; // reset destP array\n  src = [160-randPos,-130];\n  destP = [[160-randPos, 170], [159-randPos, 170], [159-randPos, -130], [160-randPos, -130]];\n  createPath(PedSegments.boy1, src, destP);  \n\n  destP = []; // reset destP array\n  src = [-150, 245-randPos];\n  destP = [[220, 245-randPos], [220, 244-randPos], [-150, 244-randPos], [-150, 245-randPos]];\n  createPath(PedSegments.robot1, src, destP);  \n  //////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////\n  // Level 2 bike paths starting at segment P49\n  //////////////////////////////////////////////\n  destP = []; // reset destP array P49 start at previous FINISH LINE to DP21\n  src = [250,decisionPoint[DP.DP21].y];\n  destP = [[decisionPoint[DP.DP21].x, decisionPoint[DP.DP21].y]];\n  createPath(segmentLevel2++, src, destP); \n\n \n  destP = []; // reset destP array P50 start at DP21  to DP27\n  src = [decisionPoint[DP.DP21].x, decisionPoint[DP.DP21].y];\n  destP = [[decisionPoint[DP.DP21].x, decisionPoint[DP.DP27].y], [decisionPoint[DP.DP27].x, decisionPoint[DP.DP27].y]];\n  createPath(segmentLevel2++, src, destP); \n\n\n  destP = []; // reset destP array P51: starts DP21 to DP22\n  src = [decisionPoint[DP.DP21].x, decisionPoint[DP.DP21].y];\n  destP = [[decisionPoint[DP.DP22].x, decisionPoint[DP.DP22].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P52: starts DP27 to DP26\n  src = [decisionPoint[DP.DP27].x, decisionPoint[DP.DP27].y];\n  destP = [[decisionPoint[DP.DP26].x, decisionPoint[DP.DP26].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P53: starts DP27 to DP31\n  src = [decisionPoint[DP.DP27].x, decisionPoint[DP.DP27].y];\n  destP = [[decisionPoint[DP.DP31].x, decisionPoint[DP.DP31].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P54: starts DP22 to DP23\n  src = [decisionPoint[DP.DP22].x, decisionPoint[DP.DP22].y];\n  destP = [[decisionPoint[DP.DP23].x, decisionPoint[DP.DP23].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P55: starts DP22 to DP30\n  src = [decisionPoint[DP.DP22].x, decisionPoint[DP.DP22].y];\n  destP = [[decisionPoint[DP.DP30].x, decisionPoint[DP.DP22].y], [decisionPoint[DP.DP30].x, decisionPoint[DP.DP30].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P56: starts DP26 to DP38\n  src = [decisionPoint[DP.DP26].x, decisionPoint[DP.DP26].y];\n  destP = [[decisionPoint[DP.DP38].x, decisionPoint[DP.DP26].y], [decisionPoint[DP.DP38].x, decisionPoint[DP.DP38].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P57: starts DP26 to DP28\n  src = [decisionPoint[DP.DP26].x, decisionPoint[DP.DP26].y];\n  destP = [[decisionPoint[DP.DP28].x, decisionPoint[DP.DP28].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P58: starts DP28 to DP24\n  src = [decisionPoint[DP.DP28].x, decisionPoint[DP.DP28].y];\n  destP = [[decisionPoint[DP.DP30].x, decisionPoint[DP.DP24].y], [decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P59: starts DP28 to DP29\n  src = [decisionPoint[DP.DP28].x, decisionPoint[DP.DP28].y];\n  destP = [[decisionPoint[DP.DP29].x, decisionPoint[DP.DP28].y], [decisionPoint[DP.DP29].x, decisionPoint[DP.DP29].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P60: starts DP29 to DP35\n  src = [decisionPoint[DP.DP29].x, decisionPoint[DP.DP29].y];\n  destP = [[decisionPoint[DP.DP35].x, decisionPoint[DP.DP35].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P61: starts DP29 to DP31\n  src = [decisionPoint[DP.DP29].x, decisionPoint[DP.DP29].y];\n  destP = [[decisionPoint[DP.DP31].x, decisionPoint[DP.DP31].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P62: starts DP30 to DP24\n  src = [decisionPoint[DP.DP30].x, decisionPoint[DP.DP30].y];\n  destP = [[decisionPoint[DP.DP30].x, decisionPoint[DP.DP24].y],[decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P63: starts DP30 to DP39\n  src = [decisionPoint[DP.DP30].x, decisionPoint[DP.DP30].y];\n  destP = [[decisionPoint[DP.DP30].x, decisionPoint[DP.DP39].y],[decisionPoint[DP.DP39].x, decisionPoint[DP.DP39].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P64: starts DP24 to DP40\n  src = [decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y];\n  destP = [[decisionPoint[DP.DP40].x, decisionPoint[DP.DP24].y], [decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y]];\n  createPath(segmentLevel2++, src, destP); \n\n\n  destP = []; // reset destP array P65: starts DP24 to DP37\n  src = [decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y];\n  destP = [[decisionPoint[DP.DP37].x, decisionPoint[DP.DP24].y], [decisionPoint[DP.DP37].x, decisionPoint[DP.DP37].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P66: starts DP25 to DP33\n  src = [decisionPoint[DP.DP25].x, decisionPoint[DP.DP25].y];\n  destP = [[decisionPoint[DP.DP33].x, decisionPoint[DP.DP33].y]]; //, [decisionPoint[DP.DP33].x, decisionPoint[DP.DP33].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P67: starts DP25 to FINISH LINE\n  src = [decisionPoint[DP.DP25].x, decisionPoint[DP.DP25].y];\n  destP = [[decisionPoint[DP.DP25].x,-250]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P68: starts DP23 to DP36\n  src = [decisionPoint[DP.DP23].x, decisionPoint[DP.DP23].y];\n  destP = [[decisionPoint[DP.DP36].x, decisionPoint[DP.DP36].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P69: starts DP23 to DP32\n  src = [decisionPoint[DP.DP23].x, decisionPoint[DP.DP23].y];\n  destP = [[decisionPoint[DP.DP32].x, decisionPoint[DP.DP23].y], [decisionPoint[DP.DP32].x, decisionPoint[DP.DP32].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P70: starts DP31 to FINISH\n  src = [decisionPoint[DP.DP31].x, decisionPoint[DP.DP31].y];\n  destP = [[-155,-250]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P71: starts DP31 to DP25\n  src = [decisionPoint[DP.DP31].x, decisionPoint[DP.DP31].y];\n  destP = [[decisionPoint[DP.DP25].x, decisionPoint[DP.DP25].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P72: starts DP32 to DP40\n  src = [decisionPoint[DP.DP32].x, decisionPoint[DP.DP32].y];\n  destP = [[decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P73: starts DP32 to DP37 \n  src = [decisionPoint[DP.DP32].x, decisionPoint[DP.DP32].y];\n  // removed intermediate: decisionPoint[DP.DP24].y], [decisionPoint[DP.DP37].x,\n  destP = [[decisionPoint[DP.DP24].x,  decisionPoint[DP.DP37].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P74: starts DP33 to DP34\n  src = [decisionPoint[DP.DP33].x, decisionPoint[DP.DP33].y];\n  destP = [[decisionPoint[DP.DP34].x, decisionPoint[DP.DP34].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P75: starts DP33 to DP35\n  src = [decisionPoint[DP.DP33].x, decisionPoint[DP.DP33].y];\n  destP = [[decisionPoint[DP.DP33].x, decisionPoint[DP.DP35].y], [decisionPoint[DP.DP35].x, decisionPoint[DP.DP35].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P76: starts DP34 to DP26\n  src = [decisionPoint[DP.DP34].x, decisionPoint[DP.DP34].y];\n  destP = [[decisionPoint[DP.DP26].x, decisionPoint[DP.DP34].y], [decisionPoint[DP.DP26].x, decisionPoint[DP.DP26].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P77: starts DP34 to DP27\n  src = [decisionPoint[DP.DP34].x, decisionPoint[DP.DP34].y];\n  destP = [[decisionPoint[DP.DP27].x,decisionPoint[DP.DP34].y], [decisionPoint[DP.DP27].x, decisionPoint[DP.DP27].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P78: starts DP35 to DP24\n  src = [decisionPoint[DP.DP35].x, decisionPoint[DP.DP35].y];\n  destP = [[decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P79: starts DP35 to DP39\n  src = [decisionPoint[DP.DP35].x, decisionPoint[DP.DP35].y];\n  destP = [[decisionPoint[DP.DP39].x, decisionPoint[DP.DP39].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P80: starts DP36 to DP37\n  src = [decisionPoint[DP.DP36].x, decisionPoint[DP.DP36].y];\n  destP = [[decisionPoint[DP.DP37].x, decisionPoint[DP.DP37].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P81: starts DP36 to DP40\n  src = [decisionPoint[DP.DP36].x, decisionPoint[DP.DP36].y];\n  destP = [[decisionPoint[DP.DP40].x, decisionPoint[DP.DP36].y], [decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P82: starts DP37 to FINISH\n  src = [decisionPoint[DP.DP37].x, decisionPoint[DP.DP37].y];\n  destP = [[decisionPoint[DP.DP37].x,-250]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P83: starts DP37 to DP40\n  src = [decisionPoint[DP.DP37].x, decisionPoint[DP.DP37].y];\n  destP = [[decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  \n  destP = []; // reset destP array P84: starts DP38 to 31\n  src = [decisionPoint[DP.DP38].x, decisionPoint[DP.DP38].y];\n  destP = [[decisionPoint[DP.DP38].x, decisionPoint[DP.DP31].y],[decisionPoint[DP.DP31].x, decisionPoint[DP.DP31].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P85: starts DP38 to DP27\n  src = [decisionPoint[DP.DP38].x, decisionPoint[DP.DP38].y];\n  destP = [[decisionPoint[DP.DP27].x, decisionPoint[DP.DP27].y]];\n  createPath(segmentLevel2++, src, destP); \n\n\n  destP = []; // reset destP array P86: starts DP39 to 24\n  src = [decisionPoint[DP.DP39].x, decisionPoint[DP.DP39].y];\n  destP = [[decisionPoint[DP.DP24].x, decisionPoint[DP.DP24].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P87: starts DP39 to DP40\n  src = [decisionPoint[DP.DP39].x, decisionPoint[DP.DP39].y];\n  destP = [[decisionPoint[DP.DP40].x, decisionPoint[DP.DP39].y], [decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P88: starts DP40 to DP25\n  src = [decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y];\n  destP = [[decisionPoint[DP.DP25].x, decisionPoint[DP.DP25].y]];\n  createPath(segmentLevel2++, src, destP); \n\n  destP = []; // reset destP array P89: starts DP40 to Finish\n  src = [decisionPoint[DP.DP40].x, decisionPoint[DP.DP40].y];\n  destP = [[decisionPoint[DP.DP40].x, -250]];\n  createPath(segmentLevel2++, src, destP); \n\n  // return lines;\n}\n\n// This is mainly a debug function for paths accuracy verification. It draws colors lines denoting\n// the paths created. It has potential for special effects but that could be an enhancement.\nfunction drawPath( segment ) {\n  let vertices = [], point;\n  let mycolor = (segment < 30) ? Colors.red : ((segment > 48) ? Colors.green : Colors.blue);\n\n  \n  for (var i = 0; i < pathList[segment].curves.length; i++) {\n    // Change 2D points to 3D points\n    point = new THREE.Vector3(pathList[segment].curves[i].v1.x, \n                            pathList[segment].curves[i].v1.y, 0);\n    vertices[i] = new THREE.Vector3(point.x, point.y, 0);\n    \n  }\n  point = new THREE.Vector3(pathList[segment].curves[pathList[segment].curves.length-1].v2.x, \n                            pathList[segment].curves[pathList[segment].curves.length-1].v2.y, 0);\n  vertices[pathList[segment].curves.length] = new THREE.Vector3(point.x, point.y, 0);\n  let lineGeometry = new THREE.Geometry();\n  lineGeometry.vertices = vertices;\n  let lineMaterial = new THREE.LineDashedMaterial({ linewidth: 1, color: mycolor, dashSize: 3, gapSize: 3 });\n \n  let line = new THREE.Line(lineGeometry, lineMaterial);\n\n  return line;\n\n}\n\nexport {createPaths, lines, getDP, pathList, CarSegments, PedSegments};\n","'use strict';\n\nlet Colors = {\n  red:0xC61A05,\n  white:0xd8d0d1,\n  brown:0x59332e,\n  pink:0xF5A0F2,\n  brownDark:0x23190f,\n  lightblue: 0x80DFFF,\n  blue:0x0000FF,\n  orange:0xFC6531,\n  beige: 0xEBCDA4,\n  grey: 0x303030,\n  yellow: 0xFFFF1A, \n  green: 0x228B22\n};\n\nexport default Colors;","'use strict';\n\nlet bike = null;\n\nfunction createBike() {\n  bike = new THREE.Object3D();\n  bike.mesh = new THREE.Object3D();\n \n  let mtlLoader = new THREE.MTLLoader();\n  let jloader = new THREE.JSONLoader();\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/Wheel_back1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/Wheel_back1.obj', function (object) {\n        object.scale.set(5, 5, 5);\n        object.rotation.y = Math.PI/2;\n      \n        object.position.y = -26;\n        object.position.z = -5.5;\n        bike.back_wheel = object;\n        bike.mesh.add(object);\n  \n      });\n    });\n\n    // Front Wheel loading\n     \n    mtlLoader.load('assets/Wheel_front1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n        objLoader.load('assets/Wheel_front1.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.y = Math.PI/2;\n          object.position.y = -9.5;\n          object.position.z = -5.5;\n          bike.mesh.add(object);\n          bike.front_wheel = object;\n       });\n  });\n   \n\n\n  mtlLoader.load('assets/frame-nopedals.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n       objLoader.load('assets/frame-nopedals.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.z = Math.PI/2;\n          object.position.set(0,-10,-5.5);\n          bike.mesh.add(object);\n          // frame = object;\n       });\n  });\n\n   // From Blender Model: low-poly-cycle-enzo9-9.json\n   jloader.load('./assets/low-poly-cycle.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      bike.rider = new THREE.SkinnedMesh(\n        geometry,\n        materials\n      );\n      bike.rider.scale.set(8,8,8);\n      bike.rider.position.set(0,-19,-10);\n      bike.rider.rotation.y = Math.PI;\n      bike.rider.rotation.x = Math.PI/2;\n      bike.mesh.add(bike.rider);\n      \n      bike.mixer = new THREE.AnimationMixer(bike.rider);\n      bike.anim = bike.mixer.clipAction(geometry.animations[1]);\n      bike.anim.setEffectiveWeight(1);\n      bike.anim.enabled = true;\n      bike.anim.play();\n      bike.anim.paused = true;\n      bike.anim.timeScale = 2;\n      \n      \n      bike.anim.paused = false;\n    });\n    \n    \n    bike.mesh.wide = 1;\n    bike.mesh.long = 3;\n    bike.mesh.position.z = 2.2;\n    bike.mesh.scale.set(0.2,0.2,0.2);\n\n    // tripod for inspection camera\n    bike.mesh.tripod = new THREE.Object3D;\n    bike.mesh.add(bike.mesh.tripod);\n    bike.mesh.tripod.position.set(0,2,25);\n\n}\n\nexport {createBike, bike}; //{createBike, bike, pedals, front_wheel, back_wheel, rider};\n","'use strict';\n\nlet hemisphereLight = null;\n\n\nfunction createLight(scene) {\n\n  let ambientLight, shadowLight;\n\n  // A hemisphere light is a gradient colored light; \n  // the first parameter is the sky color, the second parameter is the ground color, \n  // the third parameter is the intensity of the light\n  hemisphereLight = new THREE.HemisphereLight(0xaaaaaa,0x000000, 4.0);\n  ambientLight = new THREE.AmbientLight(0x111111, 6);\n  // A directional light shines from a specific direction. \n  // It acts like the sun, that means that all the rays produced are parallel. \n  shadowLight = new THREE.DirectionalLight(0xffffff, 0.9);\n  \n  // to activate tohe lights, just add them to the scene\n  scene.add(hemisphereLight);  \n  scene.add(shadowLight);\n  scene.add(ambientLight);\n  // scene.add(shadowLight);\n}\nfunction setHLIntensity(value) {\n  hemisphereLight.intensity = value;\n}\n\nexport {createLight, setHLIntensity};","'use strict';\n\nimport {getDP} from './bikePaths';\n\nlet town = null, parkedCarDoor = null;\nlet cars, parkedCar = null, doorCollider = null;\nlet pedestrians = null;\nlet carSpeed = 0.1;\n\nfunction cloneArrow(object, dp, yRotation) {\n  let clone = object.clone(); // ex: DP21\n        let pos = getDP(dp); //\n        clone.position.set(pos.x, pos.y, -1);\n        clone.rotation.y = yRotation; // ex: Math.PI/2;\n        town.dpArrows[dp-1] = clone;\n        town.add(clone);\n}\nfunction createHelperArrows()\n{\n  let mtlLoader = new THREE.MTLLoader();\n\n  mtlLoader.load('assets/dp1-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp1-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-160, -165, -1); //DP1\n        town.dpArrows[0] = object;\n        town.add(object);\n\n        // let clone = object.clone();\n        // clone.position.set(-160, 25, -1); //DP2\n        // town.dpArrows[1] = clone;\n        // town.add(clone);\n        cloneArrow(object, 2, -Math.PI/2); //DP2\n        cloneArrow(object, 14, -Math.PI/2); //DP14\n      });\n  });\n\n mtlLoader.load('assets/dp10-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp10-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-10, 240, -1); //DP10\n        town.dpArrows[9] = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp12-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp12-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = 0; \n        object.position.set(140, -10, -1); //DP12\n        town.dpArrows[11] = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp13-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp13-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-55, 178, -1); //DP13 \n        town.dpArrows[12] = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp3-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp3-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-120, -170, -1); //DP3\n        town.dpArrows[2] = object;\n        town.add(object);\n        \n      });\n  });\n\n\n\nmtlLoader.load('assets/dp10-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp10-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-10, 240, -1); //DP10\n        town.dpArrows[9] = object;\n        town.add(object);\n        \n      });\n  });\n\n  mtlLoader.load('assets/dp9-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp9-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-160,178, -1); //DP9\n        town.dpArrows[8] = object;\n        let clone = object.clone(); // DP11\n        clone.position.set(-5, 178, -1);\n        town.dpArrows[10] = clone;\n        let clone1 = object.clone(); // DP5\n        clone1.position.set(-40,25, -1);\n        town.dpArrows[4] = clone1;\n        \n        town.add(object);\n        town.add(clone);\n        town.add(clone1);\n       \n      });\n  });\n\n\n  mtlLoader.load('assets/dpr-r-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dpr-r-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = Math.PI/2;\n        let pos = getDP(30);\n        object.position.set(pos.x,pos.y,-1); //DP30\n        town.dpArrows[29] = object;\n        \n        town.add(object);\n       \n      });\n  });\n\n  mtlLoader.load('assets/dpl-l-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dpl-l-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = Math.PI;\n        let pos = getDP(24);\n        object.position.set(pos.x,pos.y,-1); //DP24\n        town.dpArrows[23] = object;\n        \n        town.add(object);\n\n        cloneArrow(object, 35, Math.PI/2);\n       \n      });\n  });\n\n  mtlLoader.load('assets/dp38-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp38-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        let pos = getDP(38);\n        object.position.set(pos.x,pos.y, -1); //DP38\n        town.dpArrows[37] = object;\n        \n        town.add(object);\n      });\n  });\n\n\n  mtlLoader.load('assets/dpr-rev-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dpr-rev-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = Math.PI/2;\n        let pos = getDP(29);\n        object.position.set(pos.x,pos.y, -1); //DP29\n        town.dpArrows[28] = object;\n        \n        town.add(object);\n       \n      });\n  });\n\n  mtlLoader.load('assets/dp36-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp36-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        let pos = getDP(36);\n        object.position.set(pos.x,pos.y, -1); //DP36\n        town.dpArrows[35] = object;\n        \n        town.add(object);\n        cloneArrow(object, 37, -Math.PI/2);\n        cloneArrow(object, 27, Math.PI/1.3);\n        cloneArrow(object, 31, -Math.PI/2);\n        cloneArrow(object, 39, -Math.PI/2);\n        \n      });\n  });\n\n  mtlLoader.load('assets/dp40-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp40-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        let pos = getDP(40);\n        object.position.set(pos.x,pos.y, -1); //DP36\n        town.dpArrows[39] = object;\n        \n        town.add(object);\n                \n      });\n  });\n  mtlLoader.load('assets/dp4-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp4-arrows.obj', function (object) {\n        object.scale.set(0.8, 0.8, 0.8);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-55,-165, -1); //DP4\n        town.dpArrows[3] = object;\n        town.add(object);\n\n        let clone = object.clone(); // DP7\n        clone.position.set(100,25, -1);\n        town.dpArrows[6] = clone;\n        town.add(clone);\n        clone = object.clone(); // DP6\n        clone.position.set(100,-165, -1);\n        town.dpArrows[5] = clone;\n        town.add(clone);\n        clone = object.clone(); // DP8\n        clone.position.set(-60,35, -1);\n        town.dpArrows[7] = clone;\n        town.add(clone);\n        ///////////////\n        // Level 2\n        ///////////////\n        cloneArrow(object, 21, Math.PI/2);\n        cloneArrow(object,22,Math.PI/2);\n        cloneArrow(object,23,Math.PI/2);\n        cloneArrow(object,25,Math.PI);\n        cloneArrow(object,26,Math.PI/2);\n        cloneArrow(object,28,Math.PI/2);\n        cloneArrow(object,32,Math.PI);\n        cloneArrow(object,33,-Math.PI/2);  \n        cloneArrow(object,34,-Math.PI/2);\n        \n\n      });\n  });\n\n}\nfunction createTown() \n{\n\n\ttown = new THREE.Object3D();\n  town.dpArrows = [];\n\tcars = new THREE.Object3D();\n\tpedestrians = new THREE.Object3D();\n\n  let mtlLoader = new THREE.MTLLoader();\n  let loader = new THREE.ColladaLoader();\n \t\n  \n  // let bbox = null;\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/road-design.mtl', function (mtl) {\n\n    mtl.preload();\n    \n    let objLoader = new THREE.OBJLoader();\n    \n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/road-design.obj', function (object) {\n        object.scale.set(24, 24, 24);\n        object.rotation.x = Math.PI/2;\n        // road = object;\n        town.add(object);\n      });\n  });\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/houses-layout.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/houses-layout.obj', function (object) {\n        object.scale.set(2, 2, 2);\n        object.rotation.x = Math.PI/2;\n        // town = object;\n        town.add(object);\n      });\n  });\n  \n  createHelperArrows();\n \n  mtlLoader.load('assets/start.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/start.obj', function (object) {\n        object.scale.set(20, 20, 10);\n        object.rotation.x = 0;\n        object.rotation.y = -Math.PI/2;\n        object.rotation.z = -Math.PI/2;\n        object.position.set(-190, -250, 1);\n        // town = object;\n        town.add(object);\n      });\n  });\n\n  mtlLoader.load('assets/finish-line.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/finish-line.obj', function (object) {\n        object.scale.set(10, 10, 10);\n        object.rotation.x = 0;\n        object.rotation.y = -Math.PI/2;\n        object.rotation.z = -Math.PI/2;\n        object.position.set(240, 200, 1);\n        // town = object;\n        town.add(object);\n      });\n  });\n\n  mtlLoader.load('assets/one-way.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/one-way.obj', function (object) {\n        object.scale.set(8, 8, 8);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = 0;\n        object.position.set(-110, 35, 0);\n        let clone = object.clone();\n        clone.position.set(-40, -60, 0.5);\n        clone.rotation.y = -Math.PI/2;\n        town.add(object);\n        town.add(clone);\n      });\n  });\n\n\n  \n  loader.load( 'assets/car-low-poly6.dae',\n    function (collada) {\n      parkedCar = collada.scene;\n      parkedCar.scale.set(3,3,3);\n      parkedCar.traverse(function (child){\n         if (child instanceof THREE.SkinnedMesh){  \n         \t  parkedCarDoor = child;\n            parkedCarDoor.bone = child.skeleton.bones[0];\n            let colliderGeometry = new THREE.CubeGeometry(0.5,4,5,1,1,1,1);\n            let wireMaterial = new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe:true } );\n            let doorCollider = new THREE.Mesh( colliderGeometry, wireMaterial );\n            doorCollider.position.set(-110,-172,3);\n            doorCollider.long = 0.5;\n            doorCollider.wide = 1;\n            parkedCarDoor.doorCollider = doorCollider;\n\n          }\n          child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n          \n          });\n      });\n      parkedCar.updateMatrix();\n      parkedCar.rotation.z = Math.PI/2;\n      parkedCar.rotation.x= 0;\n      parkedCar.position.set(-110, -175,0);\n      \n      town.add(parkedCar);\n  }); \n\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/yellow2.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/yellow2.obj', function (object) {\n        object.scale.set(5, 5, 5);\n        cars.yellowCar = object;\n        cars.yellowCar.speed = (Math.random()+1) * carSpeed;\n        cars.yellowCar.rotation.x = Math.PI/2;\n        cars.yellowCar.rotation.y = Math.PI;\n        cars.yellowCar.rotation.z= 0;\n        cars.yellowCar.position.set(-4, 100,0);\n        \n        town.add(object);\n      });\n  });\n\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/car-yellow1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/car-yellow1.obj', function (object) {\n        object.scale.set(3, 3, 3);\n        cars.yellowCar1 = object;\n        cars.yellowCar1.rotation.x = 0;\n        cars.yellowCar1.rotation.y = 0;\n        cars.yellowCar1.rotation.z= 0;\n        cars.yellowCar1.long = 6;\n        cars.yellowCar1.wide = 4;\n        cars.yellowCar1.speed = (Math.random()+1) * carSpeed;\n        town.add(cars.yellowCar1);\n      });\n  });\n\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/car-green1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/car-green1.obj', function (object) {\n        object.scale.set(3, 3, 3);\n        cars.greenCar = object;\n        cars.greenCar.rotation.x = 0; //Math.PI/2;\n        cars.greenCar.rotation.y = 0;\n        cars.greenCar.rotation.z= Math.PI/2;\n        cars.greenCar.long = 6;\n        cars.greenCar.wide = 4;\n        cars.greenCar.speed = (Math.random()+1) * carSpeed;\n        \n        town.add(cars.greenCar);\n      });\n  });\n loader.load( 'assets/car-low-red.dae',\n    function (collada) {\n    cars.redCar = collada.scene;\n    cars.redCar.scale.x = cars.redCar.scale.y = cars.redCar.scale.z = 5;\n    cars.redCar.traverse(function (child){\n    \n        child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n        \n        });\n    \n        \n    });\n    cars.redCar.updateMatrix();\n    cars.redCar.rotation.y = Math.PI;\n    cars.redCar.rotation.z= 0;\n    cars.redCar.position.set(250, 250,0);\n    cars.redCar.long = 6;\n    cars.redCar.wide = 5;\n    cars.redCar.speed = (Math.random()+1) * carSpeed;\n    town.add(cars.redCar);\n  }); \n\n  loader.load( 'assets/car-low-blue.dae',\n    function (collada) {\n    cars.blueCar = collada.scene;\n    cars.blueCar.scale.x = cars.blueCar.scale.y = cars.blueCar.scale.z = 5;\n    cars.blueCar.traverse(function (child){\n    \n        child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n        \n        });\n    \n        \n    });\n    cars.blueCar.updateMatrix();\n    cars.blueCar.rotation.y = Math.PI;\n    cars.blueCar.rotation.z= 0;\n    cars.blueCar.position.set(250, 250,0);\n    cars.blueCar.long = 6;\n    cars.blueCar.wide = 5;\n    cars.blueCar.speed = (Math.random()+1) * carSpeed;\n    town.add(cars.blueCar);\n  }); \n   createAnimChar();\n  \n}\n\nfunction createAnimChar() {\n\n\tlet jloader = new THREE.JSONLoader();\n\n\tjloader.load('./assets/dooring.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let billBoard = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      billBoard.scale.set(2,2,2);\n      billBoard.position.set(-110,-180,0);\n      billBoard.rotation.x = Math.PI/2;\n      billBoard.rotation.y = -Math.PI;\n      town.add(billBoard);\n      town.billBoard = animCommons(billBoard, geometry.animations[1], 0.5);\n      \n \n    });\n\n\t// From Blender Model low-poly-boy-walk9.blend\n   \n   jloader.load('./assets/low-poly-boy-walk.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let walkingBoy = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      walkingBoy.scale.set(1,1,1);\n      walkingBoy.position.set(160,0,1);\n      walkingBoy.rotation.y = Math.PI;\n      walkingBoy.rotation.x = Math.PI/2;\n      walkingBoy.wide = 2;\n      walkingBoy.long= 2;\n      town.add(walkingBoy);\n      pedestrians.walkingBoy = animCommons(walkingBoy, geometry.animations[0], 2);\n \n      let walkingBoy1 = walkingBoy.clone();\n      walkingBoy1.position.set(-115, -110, 0);\n      walkingBoy1.rotation.y = -Math.PI;\n      walkingBoy1.wide = 2;\n      walkingBoy1.long = 2;\n      \n      town.add(walkingBoy1);\n      pedestrians.walkingBoy1 = animCommons(walkingBoy1, geometry.animations[0], 0.12);\n \n    });\n\n   // From Blender Model low-poly-girl-walk1.blend\n  jloader.load('./assets/low-poly-girl-walk.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let walkingGirl = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      walkingGirl.scale.set(1,1,1);\n      walkingGirl.position.set(155,0,1);\n      walkingGirl.rotation.y = Math.PI;\n      walkingGirl.rotation.x = Math.PI/2;\n      walkingGirl.wide = 2;\n      walkingGirl.long = 2;\n      town.add(walkingGirl);\n      pedestrians.walkingGirl = animCommons(walkingGirl, geometry.animations[0], 2);\n  \n    });\n\n  jloader.load('./assets/low-poly-girl-walk2.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let walkingGirl1 = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      walkingGirl1.scale.set(1.2,1.2,1.2);\n      walkingGirl1.position.set(165,0,1);\n      walkingGirl1.rotation.y = Math.PI;\n      walkingGirl1.rotation.x = Math.PI/2;\n      walkingGirl1.wide = 2;\n      walkingGirl1.long = 2;\n      town.add(walkingGirl1);\n      pedestrians.walkingGirl1 = animCommons(walkingGirl1, geometry.animations[0], 2);\n  \n    });\n\n  jloader.load('./assets/robot-rig3.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let runningRobot = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      runningRobot.scale.set(5,5,5);\n      runningRobot.position.set(0,240,1);\n      runningRobot.rotation.y = Math.PI/2;\n      runningRobot.rotation.x = Math.PI/2;\n      runningRobot.wide = 2;\n      runningRobot.long = 2;\n      town.add(runningRobot);\n      pedestrians.runningRobot = animCommons(runningRobot, geometry.animations[3], 1);\n \n    });\n\n   jloader.load('./assets/robot-rig4.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let runningRobot1 = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      runningRobot1.scale.set(5,5,5);\n      runningRobot1.position.set(0,245,1);\n      runningRobot1.rotation.y = Math.PI/2;\n      runningRobot1.rotation.x = Math.PI/2;\n      runningRobot1.wide = 2;\n      runningRobot1.long = 2;\n      town.add(runningRobot1);\n      pedestrians.runningRobot1 = animCommons(runningRobot1, geometry.animations[3], 1.2);\n \n    });\n}\n\nfunction animCommons(object, animation, scale) {\n\n\t\tobject.mixer = new THREE.AnimationMixer(object);\n\t\tobject.anim = object.mixer.clipAction(animation);\n\t\tobject.anim.setEffectiveWeight(1);\n\t\tobject.anim.enabled = true;\n\t\tobject.anim.play();\n\t\tobject.anim.timeScale = scale;\n\t\tobject.anim.paused = false;\n\n\t\treturn object;\n\n}\n\nexport {createTown, town, parkedCarDoor, cars, pedestrians};","'use strict';\n\nfunction visibilityDuringGame() {\n\t$('.meta').hide();\n\t$('#infoButton').hide();\n\t$('#topCamera').show();\n\t$('#chaseCamera').show();\n\t$('#score').show();\n}\n\nfunction visibilityOutsideGame() {\n\t$('.meta').show();\n\t$('#infoButton').show();\n\t$('#topCamera').hide();\n\t$('#chaseCamera').hide();\n\t$('#score').hide();\n\t\n}\n\nfunction hideAll() {\n\t$('.meta').hide();\n\t$('#infoButton').hide();\n\t$('#topCamera').hide();\n\t$('#chaseCamera').hide();\n\t$('#score').hide();\n}\n\nfunction hideCameraSelect() {\n\t$('#topCamera').hide()\n\t$('#chaseCamera').hide();\n}\nfunction showCameraSelect() {\n\t$('#topCamera').show();\n\t$('#chaseCamera').show();\n}\nexport {visibilityDuringGame, visibilityOutsideGame, hideCameraSelect, showCameraSelect, hideAll};","'use strict';\n\n\n\nimport scene3d from './scene3d';\n\n","/*\n  Create a 3D Scene for our town and cycling routes\n*/\n'use strict';\n\nimport debug3dAxes from './dbg_3d_coord';\nimport {infoButton, selectCameraView} from './info';\nimport {createPaths, lines, pathList, CarSegments, PedSegments} from './bikePaths';\nimport Colors from './colors';\nimport {activeSegment, resetSegment, resetPosition, getBikeSpeed, getPosition, setPosition, cleanup, reward} from './decisionTree';\nimport {createBike, bike} from './bikeLoad';\nimport {createTown, town, parkedCarDoor, cars, pedestrians} from './townLoad';\nimport {createCameras, getActiveCamera, setActiveCamera, hoveringCamera, trailingCamera, orbitControls, inspectCamera} from './cameraControls';\nimport {createLight} from './createLights';\nimport {visibilityDuringGame, visibilityOutsideGame, hideCameraSelect, hideAll} from './hide';\n\nlet renderer, scene;\nlet carPosition = 0, boy1Position = 0, robot1Position = 0;\nlet carSpeed = 0.1, pedSpeed = 0.05;\nlet animId = null;\nlet gameEnd = false;\nlet clock = new THREE.Clock();\nlet rs_logo = null, bike_anim = null;\nlet backReset = false, backReset1 = false;\nlet forwardReset = true, forwardReset1 = true;\nlet pauseCount = 0, pauseCount1 = 0, pauseCount2 = 0, crashed = false;\n\n\n\nfunction createScene() {\n  //This function will create the scene, the camera and the renderer\n  // for this project\n  //The aspect ratio of the camera will be derived from the window's height\n  // width. the same parameters will be used for the renderer\n  let height = window.innerHeight;\n  let width = window.innerWidth;\n  scene = new THREE.Scene(); // for now scene is declared as a global variable\n  scene.fog = new THREE.Fog(Colors.white, 100, 1000);\n  // debug 3dAxes are no longer needed for production code\n  //scene.add(debug3dAxes(100));\n \n  scene.rotation.z += Math.PI/2;\n  scene.rotation.x -= Math.PI/2;\n\n  renderer = new THREE.WebGLRenderer({ \n    \n    alpha: true, \n\n    antialias: true // will experiment with turning this on\n  });\n  renderer.setSize( width, height );\n  // Enable shadow rendering for now\n  renderer.shadowMap.enabled = true;\n  renderer.setPixelRatio(window.devicePixelRatio);\n  // Add the DOM element of the renderer to the \n  // div townId container \n  let container = document.getElementById('townId');\n  container.appendChild(renderer.domElement);\n\n \n  rs_logo = lottie.loadAnimation({\n    container: document.getElementById('logo'), // the dom element that will contain the animation\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: 'js/data_rs.json' // the path to the animation json\n  });\n\n  bike_anim = lottie.loadAnimation({\n    container: document.getElementById('bike'), // the dom element that will contain the animation\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: 'js/data_bike.json' // the path to the animation json\n  });\n  // scene.add(anim); Illegal anim is not a THREE.Object3D()\n\n  infoButton();\n  selectCameraView();\n\n}\n\n// This event is used for Mobile Support when user switches from \n// portrait to landscape window setting: resize is used for desktop simulation\nwindow.addEventListener('resize', function() {\n  if (renderer) {\n     renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n});\n// Listen for orientation changes of Mobile devices and resize the renderer.\nwindow.addEventListener(\"orientationchange\", function() {\n   if (renderer) {\n       renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n}, false);\n\n\n// Algorithm based on simple 2D collision of objects with Axis-aligned bounding boxes (i.e no rotation)\n// https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n// A collision occurs if any of the parts of the bounding boxes intersect.\nfunction simpleCollision(obj1, obj2) \n{\n  if (obj1 === null || obj2 === null) {\n    return false;\n  }\n  if (obj1.position.x < obj2.position.x + obj2.wide &&\n      obj1.position.x + obj1.wide > obj2.position.x &&\n      obj1.position.y < obj2.position.y + obj2.long &&\n      obj1.long + obj1.position.y > obj2.position.y) \n  {\n    return true;\n  }\n  else\n  {\n    return false;\n  }\n}\n\nfunction welcomeDialog() {\n    let $textAndPic = $('<div class=\"welcomeDialog\"></div>');\n    $textAndPic.append('<img src=\"./images/gameLayout.png\" />');\n    $textAndPic.append('<video controls width=\"500\" autoplay=\"true\"> \\\n          <source src=\"./images/sampleRide.mp4\" type=\"video/mp4\"> \\\n          <source src=\"./images/sampleScene.png\"> \\\n          Sorry, your browser doesn\\'t support embedded videos. \\\n          </video>');\n    $textAndPic.append('<div class=\"description\"> <p> The user is prompted to choose alternate paths for the cyclist. \\\n      The objective of the game to practice defensive riding habits and to navigate through town without crashing.</p> \\\n      <div class=\"row\"> \\\n                          <div class=\"border iphone-hidden col-md-6 col-sm-12 boxlayout\"> \\\n                             <ul> <strong>Sample Interactions:</strong> \\\n                               <li> Cyclist stops at intersections and other key locations. The user has to decide between going straight or turning right.</li> \\\n                               <li> Cyclist can and SHOULD check surrounding traffic before deciding on the next move. </li> \\\n                               <li> Cyclist can check the View from Behind, Right Side and/or Left Side.</li>\\\n                               <li> If the Cyclist does not make a choice when COUNTDOWN reaches 0, A random choice is executed.</li> \\\n                             </ul> \\\n                          </div> \\\n                          <div class=\"border col-md-6 col-sm-12 boxlayout\"> \\\n                            <ul> <strong>Controls:</strong> \\\n                              <li> Click (Mobile Touch) on RED Camera Icon To activate Top View Camera</li> \\\n                              <li> Click (Mobile Touch) on BLACK Camera Icon To activate Trailing Camera</li> \\\n                              <li> Zoom/PAN/Rotate only enabled for Top View Camera. Use middle mouse wheel, 2 fingers Touch to Zoom In/Out</li> \\\n                              <li> To Rotate around the Z axis the Top View (Red) Camera , use left mouse button, 1 fingers Touch</li> \\\n                              <li> To Pan the TOP Camera around, use right mouse button and 2 fingers touch</li> \\\n                            </ul> \\\n                          </div> \\\n                        </div>');\n    \n    BootstrapDialog.show({\n      title: 'Ride Safely Interactive - Watch for Moving Cars. Be Mindful of Pedestrians!',\n      message: $textAndPic,\n      cssClass:'landing-modal',\n      closeByBackdrop: false,\n      closeByKeyboard: false,\n      buttons: [{\n        label: 'Start Game',\n        cssClass: 'btn btn-lg btn-success',\n        action: function(dialogRef){\n          visibilityDuringGame();\n          dialogRef.close();\n          \n          animate();\n        }\n      }, {\n        label: 'Quit Game',\n        cssClass: 'btn btn-lg btn-danger',\n        action: function(dialogRef) {\n          visibilityOutsideGame();\n          dialogRef.close();\n          return;\n        }\n    }]\n  });\n}\n\nfunction restartGame(dialogRef) \n{\n\n  // location.reload();\n  cleanup();\n\n  gameEnd = false;\n  animate();\n\n}\n\nfunction crashBike() {\n  \n  $.each(BootstrapDialog.dialogs, function(id, dialog) {\n                            dialog.close();\n    });\n  cleanup(); // cleanup dangling timers \n  hideCameraSelect();\n  BootstrapDialog.show({\n      title: 'Game Over!',\n      message: \"Ready to Restart the Game?\",\n      cssClass:'smaller-modal',\n      closeByBackdrop: false,\n      closeByKeyboard: false,\n      buttons: [{\n          label: 'Restart Game',\n          cssClass: 'btn-sm btn-lg btn-success',\n          action: function(dialogRef){\n              restartGame(dialogRef);\n          }\n      }, {\n          label: 'Leave Game',\n          cssClass: 'btn-sm btn-lg btn-danger',\n          action: function(dialogRef){\n              visibilityOutsideGame();\n              cancelAnimationFrame(animId);\n\n              dialogRef.close();\n              gameEnd = true;\n              return;\n          }\n      }]\n  });\n  // stops further animation\n  gameEnd = true;\n}\n\nfunction collisionTests(segment) {\n\n  if (segment === 0)\n  {\n    return;\n  }\n  \n  if (simpleCollision(bike.mesh, cars.redCar) === true) {\n    console.log(\"Hit Red Car!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, cars.blueCar) === true) {\n    console.log(\"Hit Blue Car!\");\n    crashBike();\n  }\n  if (simpleCollision(bike.mesh, cars.greenCar) === true) {\n    console.log(\"Hit Blue Car!\");\n    crashBike();\n  }\n  if (simpleCollision(bike.mesh, cars.yellowCar1) === true) {\n    console.log(\"Hit Blue Car!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.walkingBoy) === true) {\n    console.log(\"Hit Boy!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.walkingGirl) === true) {\n    console.log(\"Hit Girl!\");\n    crashBike();\n\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.walkingGirl1) === true) {\n    console.log(\"Hit Girl 1!\");\n    crashBike();\n\n  }\n  if (simpleCollision(bike.mesh, pedestrians.runningRobot) === true) {\n    console.log(\"Hit Running Robot!\");\n    crashBike();\n\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.runningRobot1) === true) {\n    console.log(\"Hit Running Robot1!\");\n    crashBike();\n    \n  }\n\n  if (parkedCarDoor !== null) {\n    if (segment === 6) {\n      // moving towards parked car. For now just open the door\n      if (Math.random() < 0.025) {\n         parkedCarDoor.bone.rotation.z = -1.5;\n         parkedCarDoor.doorCollider.position.y = -170;\n      }\n      // rayCollision();\n      \n      if (simpleCollision(bike.mesh, parkedCarDoor.doorCollider))\n      {\n        console.log(\"Hit Car Door!\");\n        crashBike();\n      }\n    }\n    else {\n      parkedCarDoor.bone.rotation.z = 0;\n      parkedCarDoor.doorCollider.position.y = -172;\n    }\n  }\n}\n\nfunction updateScore() {\n  $('#score').text(\"SCORE: \" + reward);\n}\n\nfunction updateBike( segment ) {\n\n  let temp = new THREE.Vector3;\n\n  if (pathList === null) {\n    return;\n  }\n  // add up position for movement\n  let pos = getPosition();\n  pos += 0.002 * getBikeSpeed() ;\n  setPosition(pos);\n  \n  let point = pathList[segment].getPoint( getPosition());\n  if (point === null) {\n    \n     return;\n  }\n  if (bike === null) {\n    return;\n  }\n  if (bike.mesh === null) {\n    return;\n  }\n  // GET RID OF AE side animation to avoid distraction\n  rs_logo.destroy();\n  bike_anim.destroy();\n\n  bike.mesh.position.x = point.x;\n  bike.mesh.position.y = point.y;\n  \n  temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n    \n  inspectCamera.position.lerp(temp, 0.2);\n  inspectCamera.lookAt( bike.mesh.position );\n \n  let angle = getAngle(segment, getPosition());\n  if (angle > 0) {\n    angle = - Math.PI + angle;\n  }    // && (segment !== 60)\n   if ((segment > 40) && (segment !== 52) && (segment !== 66) && (segment !== 73) && (segment !== 74) && (segment !== 75) && (segment !== 76) && (segment !== 77) && (segment !== 85)) \n   {\n     angle -= Math.PI;\n  }\n  let up = new THREE.Vector3( 0, 0, 1 );\n\n  // set the quaternion\n  bike.mesh.quaternion.setFromAxisAngle( up, angle );\n  \n  if (bike.mesh.children.length > 4) \n  {\n    \n    bike.front_wheel.rotation.x -=0.1;\n    bike.back_wheel.rotation.x -=0.1;\n    \n  }\n}\n\nfunction obeySignLaw(segment, point) {\n  if (segment === CarSegments.blueCar && (point.y === -160)) {\n\n    if ((pauseCount > 0) && (pauseCount < 80)) \n    {\n       pauseCount++;\n       return true;\n    }\n    if (pauseCount >= 80) \n    {\n      pauseCount = 0;\n    }\n  \n    // pause at stop sign\n    if ((point.x + 60.0 < 1)  &&  (point.x + 60.0 > 0)) {\n  \n      pauseCount = 1;\n      return true;\n    } \n  }\n  else if ((segment === CarSegments.yellowCar1) && (point.y === -160)) {\n    if ((pauseCount2 > 0) && (pauseCount2 < 80)) \n    {\n       pauseCount2++;\n       return true;\n    }\n    if (pauseCount2 >= 80) \n    {\n      pauseCount2 = 0;\n    }\n  \n    // pause at stop sign\n    if ((point.x + 60.0 < 1)  &&  (point.x + 60.0 > 0)) {\n    \n      pauseCount2 = 1;\n      return true;\n    } \n  }\n  else if ((segment === CarSegments.yellowCar1) &&  (point.x === -165)) {\n    if ((pauseCount1 > 0) && (pauseCount1 < 80)) \n    {\n       pauseCount1++;\n       return true;\n    }\n    if (pauseCount1 >= 80) \n    {\n      pauseCount1 = 0;\n    }\n  \n    // pause at stop sign\n    if ((point.y - 170.0 < 1)  &&  (point.y - 170.0 > 0)) {\n      // carPosition -= 0.0015 * carSpeed ;\n      pauseCount1 = 1;\n      return true;\n    } \n  }\n\n  return false;\n}\nfunction updateCar( segment , car) {\n  \n  // add up position for movement\n  if (car === null) {\n    return;\n  }\n  // let randomSpeed = Math.floor((Math.random() * 10) + 1)/5.0; // number between 1 and 2\n  carPosition += 0.0015 * (car.speed);\n  \n  let point = pathList[segment].getPoint(carPosition);\n  if (point === null) \n  {\n     carPosition = 0;\n     return;\n  }\n  \n  if (obeySignLaw(segment, point) === true)   // stop cars at certain stop signs.\n  {\n    return;\n  }\n  \n  car.position.x = point.x;\n  car.position.y = point.y;\n  \n\n  let up = new THREE.Vector3( 0, 0, 1 );\n\n  let angle = getAngle(segment, carPosition);\n  if (angle > 0) {\n    angle = - Math.PI + angle;\n  }\n  else { angle = Math.PI + angle;}\n  // set the quaternion\n  car.quaternion.setFromAxisAngle( up, angle );\n\n\n}\n\n\nfunction updatePedestrians() {\n  \n  let segment = PedSegments.boy1;\n  let segment1 = PedSegments.robot1;\n  // add up position for movement\n  if (pedestrians === null) {\n    return;\n  }\n  boy1Position += 0.002 * pedSpeed ;\n  robot1Position += 0.005 * pedSpeed ;\n\n  let point = pathList[segment].getPoint(boy1Position);\n  let point1 = pathList[segment1].getPoint(robot1Position);\n  if (point === null) {\n     boy1Position = 0;\n     return;\n  }\n  if (point1 === null) {\n    robot1Position = 0;\n    return;\n  }\n  let prevPosition = pedestrians.walkingBoy.position.y;\n  let prevPosition1 = pedestrians.runningRobot.position.x;\n  if (prevPosition != 0) {\n    if (prevPosition > point.y && backReset === false) {\n      pedestrians.walkingBoy.rotation.y = 0;\n      pedestrians.walkingGirl.rotation.y = 0;\n      pedestrians.walkingGirl1.rotation.y = 0;\n      \n      backReset = true;\n      forwardReset = false;\n    }\n    else if (prevPosition < point.y && forwardReset === false) {\n      pedestrians.walkingBoy.rotation.y = Math.PI;\n      pedestrians.walkingGirl.rotation.y = Math.PI;\n      pedestrians.walkingGirl1.rotation.y = Math.PI;\n      backReset = false;\n      forwardReset = true;\n    }\n  }\n  if (prevPosition1 != 0) {\n    if (prevPosition1 > point1.x && backReset1 === false) {\n      pedestrians.runningRobot.rotation.y = 3*Math.PI/2;\n      pedestrians.runningRobot1.rotation.y = 3*Math.PI/2;\n      backReset1 = true;\n      forwardReset1 = false;\n    }\n    else if (prevPosition1 < point1.x && forwardReset1 === false) {\n      pedestrians.runningRobot.rotation.y = Math.PI/2;\n      pedestrians.runningRobot1.rotation.y = Math.PI/2;\n      backReset1 = false;\n      forwardReset1 = true;\n    }\n  }\n  pedestrians.walkingBoy.position.x = point.x;\n  pedestrians.walkingGirl.position.x = point.x - 5;\n  pedestrians.walkingGirl1.position.x = point.x + 5;\n  \n  pedestrians.walkingBoy.position.y = pedestrians.walkingGirl.position.y = point.y;\n  pedestrians.walkingGirl1.position.y = point.y - 5;\n  \n  pedestrians.runningRobot.position.x = point1.x;\n  pedestrians.runningRobot1.position.x = point1.x;\n  pedestrians.runningRobot.position.y = point1.y;\n  pedestrians.runningRobot1.position.y = point1.y - 5;\n\n\n}\n\nfunction getAngle( segment, aPosition ) {\n// get the 2Dtangent to the curve\n  let tangent = pathList[segment].getTangent(aPosition).normalize();\n\n  // change tangent to 3D\n  let angle = - Math.atan( tangent.x / tangent.y);\n  \n  return angle;\n}\n\n\n// render\nfunction render() {\n\n  orbitControls.hcontrols.update();\n  orbitControls.tcontrols.update();\n  // Disable Keyboard access to camera in final product\n  // if ( keyboard.pressed(\"1\") ) {\n  //    setActiveCamera(hoveringCamera);  \n  // }\n  // if ( keyboard.pressed(\"2\") ) {\n  //    setActiveCamera(trailingCamera); \n  // }\n  let activeCamera = getActiveCamera();\n  if (activeCamera)\n  {\n    renderer.render(scene, activeCamera);\n  }\n\n  let delta = clock.getDelta();\n  if (bike.mixer) \n  {\n    bike.mixer.update(delta);\n  }\n  if (town.billBoard && town.billBoard.mixer) \n  {\n    town.billBoard.mixer.update(delta);\n  }\n  if (pedestrians.walkingBoy && pedestrians.walkingBoy.mixer) \n  {\n    pedestrians.walkingBoy.mixer.update(delta);\n  }\n  if (pedestrians.walkingBoy1 && pedestrians.walkingBoy1.mixer) \n  {\n    pedestrians.walkingBoy1.mixer.update(delta);\n  }\n  if (pedestrians.walkingGirl && pedestrians.walkingGirl.mixer) \n  {\n    pedestrians.walkingGirl.mixer.update(delta);\n  }\n  if (pedestrians.walkingGirl1 && pedestrians.walkingGirl1.mixer) \n  {\n    pedestrians.walkingGirl1.mixer.update(delta);\n  }\n  if (pedestrians.runningRobot && pedestrians.runningRobot.mixer) \n  {\n    pedestrians.runningRobot.mixer.update(delta);\n  }\n  if (pedestrians.runningRobot1 && pedestrians.runningRobot1.mixer) \n  {\n    pedestrians.runningRobot1.mixer.update(delta);\n  }\n\n  \n}\n// HANDLE MOUSE EVENTS\n\n// let mousePos = { x: 0, y: 0 };\n\n// function handleMouseMove(event) {\n//   let tx = -1 + (event.clientX / WIDTH)*2;\n//   let ty = 1 - (event.clientY / HEIGHT)*2;\n//   mousePos = {x:tx, y:ty};\n// }\n\nwindow.addEventListener('load', init, false);\n\n\n// animate\nfunction animate() {\n\n  if (gameEnd === true) \n  {\n    return;\n  }\n\n  let segment = activeSegment;\n\n  updateCar(CarSegments.redCar, cars.redCar);\n\n  updateCar(CarSegments.blueCar, cars.blueCar);\n\n  updateCar(CarSegments.yellowCar1, cars.yellowCar1);\n\n  updateCar(CarSegments.greenCar, cars.greenCar);\n\n  updateBike(segment);\n\n  updateScore();\n\n  updatePedestrians();\n\n  collisionTests(segment);\n\n  animId = requestAnimationFrame(animate);\n\n  render();\n}\n\nexport function init() {\n\n  // set up the scene, the camera and the renderer\n  createScene();\n\n\n  createCameras(scene, renderer, bike);\n\n  // createFloor();\n  // add the lights\n  createLight(scene);\n\n  // add town components: roads, buildings cars\n  createTown();\n \n  scene.add(town);\n\n\n  createBike();\n  \n\n  scene.add(bike.mesh);\n\n  bike.mesh.add(trailingCamera);\n  setActiveCamera(trailingCamera);\n  \n  let lines = [];\n\n  lines = createPaths();\n\n  for (let i = 0; i < lines && lines.length; i++) \n  {\n     scene.add(lines[i]);\n  }\n  \n  hideAll();\n  welcomeDialog();\n  gameEnd = false;\n}\n\n\n","/*\n  Add a left hand cartesian system with RED x-axis, GREEN y-axis and BLUE z-axis\n*/\n\n'use strict';\n\n// let THREE =  require('three');\n\n// alternative syntax from es6\n// import * as THREE from 'three';\n// const scene = new THREE.Scene();\n\nfunction build3dAxes(length) {\n\tlength = length || 200; // 200 default if length not provided\n\tlet  axes3d = new THREE.Object3D();\n\t// build solid lines for positive axes and dashed for neg\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( length, 0, 0 ), 0xFF0000, false ) ); // +X red\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( -length, 0, 0 ), 0xFF0000, true) ); // -X red dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, length, 0 ), 0x00FF00, false ) ); // +Y green\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, -length, 0 ), 0x00FF00, true ) ); // -Y green dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, length ), 0x0000FF, false ) ); // +Z blue\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, -length ), 0x0000FF, true ) ); // -Z blue dashed\n\n  return axes3d;\n}\n\n\nfunction setupAxis( src, dst, colorHex, dashed ) {\n  let geometry = new THREE.Geometry(),\n    material;\n\n  if(dashed) {\n    material = new THREE.LineDashedMaterial({ color: colorHex, dashSize: 3, gapSize: 3 });\n  } else {\n    material = new THREE.LineBasicMaterial({ color: colorHex });\n  }\n\n  geometry.vertices.push( src.clone() );\n  geometry.vertices.push( dst.clone() );\n  // geometry.computeLineDistances(); // This one is SUPER important, otherwise dashed lines will appear as simple plain lines\n\n  let axis = new THREE.Line( geometry, material, THREE.LineSegments );\n  axis.computeLineDistances();\n  return axis;\n}\n\nexport default build3dAxes;","'use strict';\nimport {setActiveCamera, hoveringCamera, trailingCamera} from './cameraControls';\n\nfunction infoButton() \n{\n\t$('#infoButton').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"position\": \"fixed\",\n\t  \"title\": \"This Interactive Game represents my Fall 2018 HES Capstone Project.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/infoButton.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\n\t$('#infoButton').on('click', function () {\n\t    $(this).tooltip('enable').tooltip('open');\n\t});\n}\n\nfunction selectCameraView()\n{\n\t$('#topCamera').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"title\":\"Click Me for Top Camera View.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/camera-icon-red.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\t$('#topCamera').on('click', function() {\n\t\tsetActiveCamera(hoveringCamera);\n\t});\n\t$( \"#topCamera\" ).hover(\n  \t\tfunction() {\n    \t\t$( this ).append( $( \"<span class='cameraDisplay'> Click Me for Top Camera View!</span>\" ) );\n  \t\t\t}, function() {\n    \t\t$( this ).find( \"span:last\" ).remove();\n        });\n\n\t$('#chaseCamera').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"title\":\"Click Me for Trailing Camera View.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/camera-icon.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\t$('#chaseCamera').on('click', function() {\n\t\tsetActiveCamera(trailingCamera);\n\t});\n\t$( \"#chaseCamera\" ).hover(\n  \t\tfunction() {\n    \t\t$( this ).append( $( \"<span class='cameraDisplay'> Click Me for Trailing Camera View!</span>\" ) );\n  \t\t\t}, function() {\n    \t\t$( this ).find( \"span:last\" ).remove();\n        });\n\n}\n\n\nexport {infoButton, selectCameraView};","'use strict';\n\n// import {resetPosition, setSpeed} from './scene3d';\n// import {createPaths, pathList} from './bikePaths';\nimport {pathList} from './bikePaths';\nimport {bike} from './bikeLoad';\nimport {setActiveCamera, hoveringCamera, trailingCamera, inspectCamera} from './cameraControls';\nimport {setHLIntensity} from './createLights';\nimport {town} from './townLoad';\nimport {visibilityDuringGame, visibilityOutsideGame, hideCameraSelect, showCameraSelect} from './hide';\n\nlet decisionPoints = [];\nlet period = 2000; // periodic timer\nlet activeSegment = 0;\nlet position = 0;\nlet bikeSpeed = 2;\nlet list = pathList;\nlet previousActive = null;\nlet timer_id = null;\nlet inspect_id = null, inspect_period = 500, initReward = 100, bonus = 0;\nlet choose_timer_id = null, countdown_interval_id = null, choose_period = 12000, interval = null, reward = initReward, timeoutLoss = 10, badDecision = 20, goodDecision = 20, goodHabit = 5;\n\nfunction resetReward() {\n    reward = initReward;\n    bonus = 0;\n}\n\nfunction resetSegment() {\n  activeSegment = 0;\n}\nfunction resetPosition() {\n  position = 0;\n}\nfunction getPosition() {\n  return position;\n}\nfunction setPosition(pos) {\n  position = pos;\n}\n\n\nfunction setBikeSpeed(s) {\n   bikeSpeed = s;\n}\nfunction getBikeSpeed() {\n    return bikeSpeed;\n}\n\nif (list !== null) {\n  setTimeout(check, period);\n}\n\nfunction cleanup() {\n\n    resetReward();\n\n    //delete dangling dialog(s)\n    $.each(BootstrapDialog.dialogs, function(id, dialog) {\n                            dialog.close();\n    });\n    // Cleanup timers\n    if (choose_timer_id) {\n        clearTimeout(choose_timer_id);\n        choose_timer_id = null;\n    }\n    if (timer_id)\n    {\n        clearTimeout(timer_id);\n    }\n    if (countdown_interval_id) {\n        clearInterval(countdown_interval_id);\n    }\n    $.each(town.dpArrows, function(id, dpArrow) {\n        if (dpArrow) {\n            dpArrow.position.z = -1;\n        }\n    });\n    restartCycling(0);\n}\n\nfunction resetCamera() {\n    setActiveCamera(trailingCamera);\n    inspect_id = null;\n}\n\nfunction check() {\n\n  timer_id = null;\n\n  if (pathList === null) \n  {\n    return;\n  }\n  if (activeSegment === null) {\n    return;\n  }\n  \n  \n  if (pathList[activeSegment].getPoint(position) === null)\n  {\n     \n     setBikeSpeed(2 + 5*Math.random());\n     setHLIntensity(6);\n     // bike.anim1.paused = true;\n     bike.anim.paused = true;\n     hideCameraSelect();\n     setActiveCamera(trailingCamera);\n     switch (activeSegment) {\n        case 0:\n          decisionPoint1();\n          break;\n        case 1:\n          decisionPoint2();\n          break;\n        case 3:\n          decisionPoint3();\n          break;\n        case 4:\n          decisionPoint8();\n          break;\n        case 8:\n          decisionPoint5();\n          break;\n        case 5:\n        case 6:\n          decisionPoint4();\n          break;\n        case 7:\n          decisionPoint6();\n          break;\n        case 10:\n          decisionPoint7();\n          break;\n        case 2:\n          decisionPoint9();\n          break;\n        case 9:\n          decisionPoint11();\n          break;\n        case 15:\n          decisionPoint13();\n          break;\n        case 14:\n          decisionPoint12();\n          break;\n        case 16:\n          decisionPoint10();\n          break;\n        case 13:\n          decisionPoint14();\n          break;\n        case 11:\n        case 12:\n        \n        case 17:\n        case 18:\n        case 19:\n        case 20:\n        case 21:\n        case 22:\n        case 23:\n        case 24:\n        case 25:\n        case 26:\n        case 27:\n            journeyCompleted();\n            break;\n        case 49:\n            decisionPoint21();\n            break;\n        case 50: \n            decisionPoint27();\n            break;\n        case 51:\n            decisionPoint22();\n            break;\n        case 52:\n            decisionPoint26();\n            break;\n        case 53:\n            decisionPoint31();\n            break;\n        case 54:\n            decisionPoint23();\n            break;\n        case 55:\n            decisionPoint30();\n            break;\n        case 56:\n            decisionPoint38();\n            break;\n        case 57:\n            decisionPoint28();\n            break;\n        case 58:\n            decisionPoint24();\n            break;\n        case 59:\n            decisionPoint29();\n            break;\n        case 60:\n            decisionPoint35();\n            break;\n        case 61:\n            decisionPoint31();\n            break;\n        case 62:\n            decisionPoint24();\n            break;\n        case 63:\n            decisionPoint39();\n            break;\n        case 64:\n        case 72:\n            decisionPoint40();\n            break;\n        case 65:\n            decisionPoint37();\n            break;\n        case 66:\n            decisionPoint33();\n            break;\n        case 68:\n            decisionPoint36();\n            break;\n        case 69:\n            decisionPoint32();\n            break;  \n        case 71:\n            decisionPoint25();\n            break;   \n        case 73: \n            decisionPoint37();\n            break;\n\n        case 74:\n            decisionPoint34();\n            break;\n        case 75:\n            decisionPoint35();\n            break;\n        case 76: \n            decisionPoint26();\n            break;\n        case 77: \n        case 85:\n            decisionPoint27();\n            break;\n        case 78:\n        case 86:\n            decisionPoint24();\n            break;\n        case 79:\n            decisionPoint39();\n            break;\n        case 80:\n            decisionPoint37();\n            break;\n        case 81:\n        case 83:\n        case 87:\n            decisionPoint40();\n            break;\n        case 84:\n            decisionPoint31();\n            break;\n        case 88:\n            decisionPoint25();\n            break;\n        case 67:\n        case 70:\n        case 72:\n        case 82:\n        case 89:\n        default:\n            gameFinishLine2();\n          break;\n     }\n     \n  }\n  else {\n    timer_id = setTimeout(check, period);\n  }\n\n}\n\nfunction chooseForRider(segment1, segment2, arrowObj, speed1, speed2) {\n    reward -= timeoutLoss; // User did respond in time - penalize\n    let choice = Math.random();\n    if (choice <= 0.5) {\n        restartCycling(segment1,  null, speed1, arrowObj);\n    }\n    else {\n        restartCycling(segment2, null, speed2, arrowObj);\n    }\n    //delete dangling dialog(s)\n    $.each(BootstrapDialog.dialogs, function(id, dialog){\n                            dialog.close();\n    });\n}\n\nfunction restartCycling(segment, dialogRef, speed, arrowObj, curInterval) {\n    reward += bonus;\n    activeSegment = segment; \n    \n    resetPosition(); \n    if (dialogRef) {\n        dialogRef.close();\n    }\n    timer_id = setTimeout(check, period);\n    if (choose_timer_id) {\n        clearTimeout(choose_timer_id);\n        choose_timer_id = null;\n    }\n    if (speed) {\n       setBikeSpeed(speed+getBikeSpeed());\n    }\n    if (arrowObj) {\n       arrowObj.position.z = -1; // hide directional arrows\n    }\n    if (curInterval) {\n        clearInterval(curInterval);\n    }\n    bike.anim.paused = false;\n    setActiveCamera(trailingCamera);\n    setHLIntensity(4.0);\n    showCameraSelect();\n\n}\n\nfunction displayCountdown(seconds_left) {\n\n    interval = setInterval(function() {\n        bonus = seconds_left;\n        if ((seconds_left <= 6) && (seconds_left > 0)) {\n            $( \".display_cnt\" ).html( \"<font color='red'>\" + --seconds_left + \"</font>\" );\n\n        } else if (seconds_left > 0) {\n            $('.display_cnt').html(--seconds_left);\n        }\n        if (seconds_left <= 0)\n        {\n           // $('#display_id').append(\"<span>Going with Random Choice!</span>\");\n           clearInterval(interval);\n           interval = null;\n           seconds_left = 0;\n        }\n    }, 1000);\n    return interval;\n}\n\nfunction setInspectCamera(rotateY) {\n    setActiveCamera(inspectCamera);\n    let temp =  new THREE.Vector3;\n    temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n    inspectCamera.position.lerp(temp, 0.2);\n    inspectCamera.lookAt( bike.mesh.position );\n    inspectCamera.rotation.x = 0;\n    inspectCamera.rotation.y = rotateY;\n    inspectCamera.rotation.z = 0;\n    inspect_id = setTimeout(resetCamera, inspect_period);\n    reward += goodHabit;\n}\n\nfunction decisionPoint1()\n{\n\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 1, 3, town.dpArrows[0], null, 10);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div > </div>');\n\n\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[0].position.z = 1;\n    let dialog = BootstrapDialog.show({\n        title: 'DP-1: Limited Time to decide!',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n              reward += goodDecision; // risky move to pass next to parked car.\n              restartCycling(1, dialogRef, null, town.dpArrows[0], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward += goodDecision; // reward defensive choice\n                restartCycling(3, dialogRef, 1, town.dpArrows[0], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n\n    });\n\n}      \n\nfunction decisionPoint2()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 2, 4, town.dpArrows[1], 2, 2);  // args: segment1, segment2, etc.\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n \n    previousActive = activeSegment;\n    town.dpArrows[1].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-2: Limited seconds to choose a direction!',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(2, dialogRef, 2, town.dpArrows[1], countdown_interval_id);\n                reward += goodDecision;\n            }\n        }, {\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= badDecision;\n                restartCycling(4, dialogRef, 1, town.dpArrows[1], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n    \n}\n\nfunction decisionPoint3()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 6, 5, town.dpArrows[2], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    $textAndPic.append('Caution: potential car door opening! <br />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[2].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-3: Limited seconds to choose a direction!',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= badDecision;\n                restartCycling(6, dialogRef, null, town.dpArrows[2], countdown_interval_id);\n\n            }\n        }, {\n            label: 'Steer Away',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                reward += goodDecision;\n                restartCycling(5, dialogRef, null, town.dpArrows[2], countdown_interval_id);\n\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint4()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 8, 7, town.dpArrows[3], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[3].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-4: Limited seconds to choose a direction!',\n        cssClass: 'decisionPoint2',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(8, dialogRef, null, town.dpArrows[3], countdown_interval_id);\n  \n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(7, dialogRef, null, town.dpArrows[3], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n            }    \n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-info lookout2',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }    \n        }]\n    });\n   \n}\n\nfunction decisionPoint5()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 10, 9, town.dpArrows[4], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    // $textAndPic.append('<img src=\"./images/right.png\" />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dpArrows[4].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-5: Don\\'t Tempt Drivers!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef) {\n                restartCycling(10, dialogRef, null, town.dpArrows[4], countdown_interval_id);\n    \n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(9, dialogRef, null, town.dpArrows[4], countdown_interval_id);\n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint6()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 13, 14, town.dpArrows[5], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dpArrows[5].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-6: Limited seconds to choose a direction',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling (13, dialogRef, null, town.dpArrows[5], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(14, dialogRef, null, town.dpArrows[5], countdown_interval_id);\n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint7()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 11, 12, town.dpArrows[6], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[6].position.z = 1; \n\n    BootstrapDialog.show({\n        title: 'DP-7: Don\\'t take chances!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(11, dialogRef, null, town.dpArrows[6], countdown_interval_id);\n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(12, dialogRef, null, town.dpArrows[6], countdown_interval_id);\n\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n               \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint8()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 9, 10, town.dpArrows[7], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[7].position.z = 1; \n    BootstrapDialog.show({\n        title: 'DP-8: Don\\'t take chances!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(9, dialogRef, null, town.dpArrows[7], countdown_interval_id);\n                // town.dp8Arrows.position.z = -1; \n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(10, dialogRef, null, town.dpArrows[7], countdown_interval_id);\n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint9()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 15, 16, town.dpArrows[8], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[8].position.z = 1; \n    BootstrapDialog.show({\n        title: 'DP-9: Heavy Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Roadside',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(15, dialogRef, null, town.dpArrows[8], countdown_interval_id);\n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(16, dialogRef, null, town.dpArrows[8], countdown_interval_id);    \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n             \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success lookout1',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint10()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 17, 18, town.dpArrows[9], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n \n    previousActive = activeSegment;\n    town.dpArrows[9].position.z = 1; \n\n    BootstrapDialog.show({\n        title: 'DP-10: Pedestrians Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(17, dialogRef, null, town.dpArrows[9], countdown_interval_id);\n                // town.dp10Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Roadside',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(18, dialogRef, null, town.dpArrows[9], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n               \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint11()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 19, 20, town.dpArrows[10], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[10].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-11: Pedestrians Alert!!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Roadside',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(19, dialogRef, null, town.dpArrows[10], countdown_interval_id);\n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(20, dialogRef, null, town.dpArrows[10], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint12()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 21, 22, town.dpArrows[11], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dpArrows[11].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-12: Heavy Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(21, dialogRef, null, town.dpArrows[11], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross to Roadside',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(22, dialogRef, null, town.dpArrows[11], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n              \n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint13()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 23, 24, town.dpArrows[12], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[12].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-13: Pedestrians Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Roadside',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(23, dialogRef, null, town.dpArrows[12], countdown_interval_id);\n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(24, dialogRef, null, town.dpArrows[12], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint14()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 26, 27, town.dpArrows[13], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[13].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-14: Pedestrians Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'straight',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(25, dialogRef, null, town.dpArrows[13], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                reward -= 20;\n                restartCycling(26, dialogRef, null, town.dpArrows[13], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success lookout',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning lookout1',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }]\n    });\n   \n}\n\nfunction journeyCompleted() {\n\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n \n    previousActive = activeSegment;\n    // write results to file /tmp/results.json\n\n    BootstrapDialog.show({\n        title: 'Successful Completion!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Restart',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                resetReward();\n                restartCycling(0,dialogRef);\n            }\n        }, {\n            label: 'Go to Level 2',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                restartCycling(49,dialogRef);\n            }    \n        }, {\n            label: 'Leave Game',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                visibilityOutsideGame();\n                showCameraSelect();\n                dialogRef.close();\n                return;\n            }\n        }]\n    });\n}\n\nfunction decisionPoint21() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 50, 51, town.dpArrows[20], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[20].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-21: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(50, dialogRef, null, town.dpArrows[20], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(51, dialogRef, null, town.dpArrows[20], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }]\n    });\n}\nfunction decisionPoint22() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 54, 55, town.dpArrows[21], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[21].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-22: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(55, dialogRef, null, town.dpArrows[21], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(54, dialogRef, null, town.dpArrows[21], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint23() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 68, 69, town.dpArrows[22], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[22].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-23: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(68, dialogRef, null, town.dpArrows[22], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(69, dialogRef, null, town.dpArrows[22], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint24() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 64, 65, town.dpArrows[23], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[23].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-24: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(65, dialogRef, null, town.dpArrows[23], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross Road',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(64, dialogRef, null, town.dpArrows[23], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint25() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 66, 67, town.dpArrows[24], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[24].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-25: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(67, dialogRef, null, town.dpArrows[24], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(66, dialogRef, null, town.dpArrows[24], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint26() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 56, 57, town.dpArrows[25], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[25].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-26: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Back',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(56, dialogRef, null, town.dpArrows[25], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(57, dialogRef, null, town.dpArrows[25], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint27() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 52, 53, town.dpArrows[26], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[26].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-27: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Cross to Roadside',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(53, dialogRef, null, town.dpArrows[26], countdown_interval_id);\n            }\n        }, {\n            label: 'Sidewalk',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(52, dialogRef, null, town.dpArrows[26], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint28() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 58, 59, town.dpArrows[27], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[27].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-28: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(59, dialogRef, null, town.dpArrows[27], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(58, dialogRef, null, town.dpArrows[27], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint29() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 60, 61, town.dpArrows[28], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[28].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-29: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Back',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(60, dialogRef, null, town.dpArrows[28], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(61, dialogRef, null, town.dpArrows[28], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint30() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 62, 63, town.dpArrows[29], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[29].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-30: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(63, dialogRef, null, town.dpArrows[29], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross to Right',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(62, dialogRef, null, town.dpArrows[29], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint31() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 70, 71, town.dpArrows[30], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[30].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-31: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(70, dialogRef, null, town.dpArrows[30], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross Road',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(71, dialogRef, null, town.dpArrows[30], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint32() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 72, 73, town.dpArrows[31], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[31].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-32: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Cross Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(73, dialogRef, null, town.dpArrows[31], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(72, dialogRef, null, town.dpArrows[31], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint33() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 74, 75, town.dpArrows[32], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[32].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-33: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(75, dialogRef, null, town.dpArrows[32], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(74, dialogRef, null, town.dpArrows[32], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint34() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 76, 77, town.dpArrows[33], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[33].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-34: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(76, dialogRef, null, town.dpArrows[33], countdown_interval_id);\n            }\n        }, {\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(77, dialogRef, null, town.dpArrows[33], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint35() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 78, 79, town.dpArrows[34], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[34].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-35: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Cross To Left',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(79, dialogRef, null, town.dpArrows[34], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(78, dialogRef, null, town.dpArrows[34], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n            }\n        }]\n    });\n}\n\n\nfunction decisionPoint36() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 80, 81, town.dpArrows[35], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[35].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-36: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(80, dialogRef, null, town.dpArrows[35], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross Road',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(81, dialogRef, null, town.dpArrows[35], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint37() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 82, 83, town.dpArrows[36], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[36].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-37: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(82, dialogRef, null, town.dpArrows[36], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross Road',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(83, dialogRef, null, town.dpArrows[36], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint38() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 84, 85, town.dpArrows[37], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[37].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-38: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Right',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(84, dialogRef, null, town.dpArrows[37], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(85, dialogRef, null, town.dpArrows[37], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint39() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 86, 87, town.dpArrows[38], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[38].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-39: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Cross Road',\n            cssClass: 'btn-sm btn-primary',\n            action: function(dialogRef){\n                restartCycling(86, dialogRef, null, town.dpArrows[38], countdown_interval_id);\n            }\n        }, {\n            label: 'Turn Left',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(87, dialogRef, null, town.dpArrows[38], countdown_interval_id);\n            }\n         }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n                \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(0);\n            }\n        }]\n    });\n}\n\nfunction decisionPoint40() {\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 82, 83, town.dpArrows[39], null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div ></div>');\n    countdown_interval_id = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dpArrows[39].position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-40: Stay Alert/Traffic Alert!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Straight',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                restartCycling(88, dialogRef, null, town.dpArrows[39], countdown_interval_id);\n            }\n        }, {\n            label: 'Cross to Finish',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                // reward -= 20;\n                restartCycling(89, dialogRef, null, town.dpArrows[39], countdown_interval_id);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-sm btn-success',\n            action: function(dialogRef){\n                setInspectCamera(0);\n                \n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-sm btn-warning',\n            action: function(dialogRef){\n                setInspectCamera(-Math.PI);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-sm btn-danger',\n            action: function(dialogRef){\n                setInspectCamera(Math.PI/2);\n            }\n        }]\n    });\n}\n\nfunction gameFinishLine2() {\n\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n \n    previousActive = activeSegment;\n\n    BootstrapDialog.show({\n        title: 'Successful Return!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Restart',\n            cssClass: 'btn-sm btn-lg btn-success',\n            action: function(dialogRef){\n                resetReward();\n                restartCycling(0,dialogRef);\n            }\n        }, {\n            label: 'Leave Game',\n            cssClass: 'btn-sm btn-lg btn-danger',\n            action: function(dialogRef){\n                visibilityOutsideGame();\n                showCameraSelect();\n                dialogRef.close();\n                return;\n            }\n        }]\n    });\n}\n\n\n\nexport {activeSegment, resetSegment, resetPosition, getBikeSpeed, getPosition, setPosition, cleanup, reward};\n"],"sourceRoot":""}