{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./js/cameraControls.js","webpack:///./js/bikePaths.js","webpack:///./js/colors.js","webpack:///./js/bikeLoad.js","webpack:///./js/createLights.js","webpack:///./js/townLoad.js","webpack:///./js/main.js","webpack:///./js/scene3d.js","webpack:///./js/dbg_3d_coord.js","webpack:///./js/info.js","webpack:///./js/decisionTree.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","activeCamera","trailingCamera","hoveringCamera","orbitControls","inspectCamera","createCameras","scene","renderer","aspectRatio","window","innerWidth","innerHeight","THREE","Object3D","PerspectiveCamera","position","set","tcontrols","OrbitControls","domElement","maxPolarAngle","Math","PI","minPolarAngle","maxAzimuthAngle","minAzimuthAngle","minDistance","maxDistance","enableDamping","dampingFactor","enableZoom","update","lookAt","hcontrols","getActiveCamera","setActiveCamera","aCamera","pathList","decisionPoint","CarSegments","redCar","blueCar","PedSegments","boy1","robot1","DP","DP1","DP2","DP3","DP4","DP5","DP6","DP7","DP8","DP9","DP10","DP11","DP12","DP13","createPath","pId","src","dst","Path","moveTo","x","y","length","lineTo","Line","segment","vertices","point","mycolor","Colors","red","blue","curves","Vector3","v1","v2","lineGeometry","Geometry","lineMaterial","LineDashedMaterial","linewidth","color","dashSize","gapSize","drawPath","createPaths","destP","lines","counter","randPos","random","getDP","dp","white","brown","pink","brownDark","lightblue","orange","beige","grey","yellow","bike","createBike","mesh","mtlLoader","MTLLoader","jloader","JSONLoader","setTexturePath","load","mtl","preload","objLoader","OBJLoader","setMaterials","scale","rotation","z","back_wheel","add","front_wheel","geometry","materials","forEach","material","skinning","rider","SkinnedMesh","mixer","AnimationMixer","anim","clipAction","animations","setEffectiveWeight","enabled","play","paused","timeScale","wide","long","tripod","hemisphereLight","createLight","ambientLight","shadowLight","HemisphereLight","AmbientLight","DirectionalLight","setHLIntensity","intensity","town","parkedCarDoor","cars","parkedCar","pedestrians","animCommons","animation","createTown","loader","ColladaLoader","dp1Arrows","clone","dp2Arrows","dp10Arrows","dp12Arrows","dp13Arrows","dp3Arrows","dp9Arrows","dp11Arrows","clone1","dp5Arrows","dp4Arrows","dp7Arrows","dp6Arrows","clone2","dp8Arrows","collada","traverse","child","bone","skeleton","bones","colliderGeometry","CubeGeometry","wireMaterial","MeshBasicMaterial","wireframe","doorCollider","Mesh","e","castShadow","receiveShadow","MeshPhongMaterial","needsUpdate","updateMatrix","yellowCar","billBoard","walkingBoy","walkingBoy1","walkingGirl","runningRobot","runningRobot1","createAnimChar","$","init","_info","_bikePaths","_decisionTree","_bikeLoad","_townLoad","_cameraControls","_createLights","carPosition","boy1Position","robot1Position","keyboard","THREEx","KeyboardState","carSpeed","pedSpeed","animId","gameEnd","clock","Clock","rs_logo","bike_anim","backReset","backReset1","forwardReset","forwardReset1","pauseCount","simpleCollision","obj1","obj2","crashBike","BootstrapDialog","show","title","message","closeByBackdrop","closeByKeyboard","buttons","label","action","dialogRef","location","reload","close","cancelAnimationFrame","updateCar","car","getPoint","up","angle","getAngle","quaternion","setFromAxisAngle","aPosition","tangent","getTangent","normalize","atan","animate","activeSegment","temp","pos","getPosition","getBikeSpeed","setPosition","destroy","setFromMatrixPosition","matrixWorld","lerp","children","updateBike","segment1","point1","prevPosition","prevPosition1","updatePedestrians","console","log","collisionTests","requestAnimationFrame","pressed","render","delta","getDelta","height","width","Scene","fog","Fog","_dbg_3d_coord2","default","WebGLRenderer","alpha","antialias","setSize","shadowMap","setPixelRatio","devicePixelRatio","document","getElementById","appendChild","lottie","loadAnimation","container","loop","autoplay","path","infoButton","selectCameraView","createScene","PlaneGeometry","floor","createFloor","$textAndPic","append","welcomeDialog","addEventListener","setupAxis","colorHex","dashed","LineBasicMaterial","push","axis","LineSegments","computeLineDistances","axes3d","css","z-index","background","opacity","tooltip","disabled","event","ui","this","on","hover","find","remove","period","bikeSpeed","inspect_period","choose_timer_id","choose_period","interval","resetPosition","setBikeSpeed","resetCamera","check","setTimeout","chooseForRider","curInterval","displayCountdown","cssClass","restartCycling","decisionPoint1","decisionPoint2","decisionPoint3","decisionPoint8","decisionPoint5","decisionPoint4","decisionPoint6","decisionPoint7","decisionPoint9","decisionPoint11","decisionPoint13","decisionPoint12","decisionPoint10","journeyCompleted","segment2","arrowObj","speed1","speed2","each","dialogs","id","dialog","speed","clearTimeout","clearInterval","seconds_left","setInterval","html","resetSegment"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = jQuery;","'use strict';\n\nlet activeCamera = null, trailingCamera = null, hoveringCamera = null, orbitControls = null;\nlet inspectCamera = null;\n\n\nfunction createCameras( scene , renderer) {\n\n \n  let aspectRatio = window.innerWidth/window.innerHeight;\n  let fieldOfView = 45, fieldOfView1 = 45;  //45;\n  let nearPlane = 1, //1,\n      farPlane = 1000; //10000;\n\n\n  orbitControls = new THREE.Object3D();\n  // Camera setup: Do not add to scene to avoid rotation problems   \n  trailingCamera = new THREE.PerspectiveCamera(\n    fieldOfView,\n    aspectRatio,\n    nearPlane,\n    farPlane\n    );\n \n\n  trailingCamera.position.set(0, -250, 50);\n\n  // Default ActiveCamera to be the trailingCamera\n  activeCamera = trailingCamera;\n\n \n  orbitControls.tcontrols = new THREE.OrbitControls(trailingCamera, renderer.domElement);\n  orbitControls.tcontrols.maxPolarAngle = Math.PI; \n  orbitControls.tcontrols.minPolarAngle = 2.4;\n  orbitControls.tcontrols.maxAzimuthAngle=Math.PI/6;\n  orbitControls.tcontrols.minAzimuthAngle=-Math.PI/6;\n  orbitControls.tcontrols.minDistance = 50;\n  orbitControls.tcontrols.maxDistance = 250; \n  orbitControls.tcontrols.enableDamping = true;\n  orbitControls.tcontrols.dampingFactor = 0.25;\n  orbitControls.tcontrols.enableZoom = true;\n  orbitControls.tcontrols.update();\n\n  // hovering camera\n  hoveringCamera = new THREE.PerspectiveCamera(\n    fieldOfView1,\n    aspectRatio,\n    nearPlane,\n    farPlane\n    );\n  hoveringCamera.position.set(0, 350, 450); // 0, 350, 450)// previous settings\n  hoveringCamera.lookAt(scene.position);\n\n  orbitControls.hcontrols = new THREE.OrbitControls(hoveringCamera, renderer.domElement);\n  orbitControls.hcontrols.maxPolarAngle = 1.4; // limiting angle\n  orbitControls.hcontrols.minPolarAngle = Math.PI/4; // limiting angle\n  orbitControls.hcontrols.maxAzimuthAngle=Math.PI/2;\n  orbitControls.hcontrols.minAzimuthAngle=-Math.PI/2;\n  orbitControls.hcontrols.minDistance = 50;\n  orbitControls.hcontrols.maxDistance = 400; \n  orbitControls.hcontrols.enableDamping = true;\n  orbitControls.hcontrols.dampingFactor = 0.25;\n  orbitControls.hcontrols.enableZoom = true;\n  orbitControls.hcontrols.update();\n\n  inspectCamera = new THREE.PerspectiveCamera(\n    35,\n    aspectRatio,\n    0.1,\n    1000\n    );\n  inspectCamera.position.set(0,2,25);\n\n}\n\nfunction setActiveCamera (aCamera) {\n    activeCamera = aCamera;\n}\nfunction getActiveCamera() {\n\treturn activeCamera;\n}\n\nexport {createCameras, getActiveCamera, setActiveCamera, hoveringCamera, trailingCamera, orbitControls, inspectCamera};","'use strict';\n\nimport Colors from './colors';\n\n\nlet pathList = [], decisionPoint = [];\n\nlet CarSegments = {\n  redCar: 31,\n  blueCar: 32\n};\n\nlet PedSegments = {\n  boy1: 41,\n  robot1: 42\n};\n\nlet DP = {\n  DP1: 0,\n  DP2: 1,\n  DP3: 2,\n  DP4: 3,\n  DP5: 4,\n  DP6: 5,\n  DP7: 6,\n  DP8: 7,\n  DP9: 8,\n  DP10: 9,\n  DP11: 10,\n  DP12: 11,\n  DP13: 12\n}\n\n\nfunction createDecisionPoints() {\n  decisionPoint[DP.DP1] = new THREE.Vector3(-160, -165, 0); // DP1\n  decisionPoint[DP.DP2] = new THREE.Vector3(-160, 25, 0);   // DP2\n  decisionPoint[DP.DP3] = new THREE.Vector3(-120, -165,0);  // DP3\n  decisionPoint[DP.DP4] = new THREE.Vector3(-55,-165,0);    // DP4\n  decisionPoint[DP.DP5] = new THREE.Vector3(-40,25,0);      // DP5\n  decisionPoint[DP.DP6] = new THREE.Vector3(100,-165,0);    // DP6\n  decisionPoint[DP.DP7] = new THREE.Vector3(100,25,0);      // DP7\n  decisionPoint[DP.DP8] = new THREE.Vector3(-40,25,0);      // DP8\n  decisionPoint[DP.DP9] = new THREE.Vector3(-160,178,0);    // DP9\n  decisionPoint[DP.DP10] = new THREE.Vector3(-10, 240, 0);   // DP10\n  decisionPoint[DP.DP11] = new THREE.Vector3(-5, 178, 0);   // DP11\n  decisionPoint[DP.DP12] = new THREE.Vector3(150, -10, 0);  // DP12\n  decisionPoint[DP.DP13] = new THREE.Vector3(-55, 178, 0);  // DP13\n  \n}\n\nfunction getDP(dp) \n{\n  // DP is 1 based: range DP1 tp DP12\n  if (dp>= 1 && dp<=DP.DP13) {\n    return decisionPoint[dp-1];\n  }\n  return null;\n}\n\n\nfunction createPath(pId, src, dst) {\n\n  pathList[pId] = new THREE.Path();\n  pathList[pId].moveTo(src.x, src.y);\n  for (let i = 0; i < dst.length; i++) {\n    pathList[pId].lineTo(dst[i].x, dst[i].y);\n    // pathList[pId].quadraticCurveTo( dst[i].x-1, dst[i].y-1, dst[i].x, dst[i].y );\n  }\n  let line = new THREE.Line();\n  line = drawPath(pId);\n  return line;\n}\n\nfunction createPaths() {  \n\n  // the pathList\n  let destP = [], src;\n  let lines = [];\n  let counter = 0;\n  \n  createDecisionPoints();\n\n  // P1 with 0 based indices\n  \n  src = new THREE.Vector3(-155,-240,0);\n  destP[0] = new THREE.Vector3(-155,-170,0); \n  lines[counter] = new THREE.Line();\n  lines[counter] = createPath(0, src, destP);\n\n  // P2 with 0 based indices\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-155,-170,0);\n  destP[0] = new THREE.Vector3(-155,25,0);\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(1, src, destP);\n  \n  // P3 starts at DP2 and goes to DP9\n  src = new THREE.Vector3(-155,25,0);\n  destP[0] = new THREE.Vector3(-155,178,0);\n\n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(2, src, destP);\n \n  // P4 DP1 to DP3\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-155,-170,0);\n  destP[0] = new THREE.Vector3(-120,-170,0);\n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(3, src, destP);\n  \n  // P5\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-155,25,0);\n  destP[0] = new THREE.Vector3(-150,25,0);\n  destP[1] = new THREE.Vector3(-150,40,0);\n  destP[2] = new THREE.Vector3(-55,40,0);\n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(4, src, destP);\n\n  // P6 from DP3 to DP4\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-120,-170,0);\n  destP[0] = new THREE.Vector3(-110,-160,0);\n  destP[1] = new THREE.Vector3(-55,-170,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(5, src, destP);\n\n  // P7 from DP3 to DP4\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-120,-170,0);\n  // destP[0] = new THREE.Vector3(-80,-170,0);\n  destP[0] = new THREE.Vector3(-55,-170,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(6, src, destP);\n\n  // P8\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55,-170,0);\n  destP[0] = new THREE.Vector3(110,-170,0);\n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(7, src, destP);\n\n  // P9\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55,-170,0);\n  destP[0] = new THREE.Vector3(-30,-170,0); \n  destP[1] = new THREE.Vector3(-30,25,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(8, src, destP);\n\n  // P10 starts at DP5 continue to DP11\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55,25,0);\n  destP[0] = new THREE.Vector3(-45,25,0);\n  destP[1] = new THREE.Vector3(-10,25,0);\n  destP[2] = new THREE.Vector3(-10,178,0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(9, src, destP);\n  \n  // P11\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55,25,0);\n  destP[0] = new THREE.Vector3(-45,25,0);\n  destP[1] = new THREE.Vector3(110,25,0);\n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(10, src, destP);\n\n  // P12\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,25,0);\n  destP[0] = new THREE.Vector3(135,25,0);\n  destP[1] = new THREE.Vector3(135,185,0);\n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(11, src, destP);\n\n  // P13\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(110,25,0);\n  destP[0] = new THREE.Vector3(150,25,0);\n  destP[1] = new THREE.Vector3(150,185,0); \n  destP[2] = new THREE.Vector3(250,185,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(12, src, destP);\n\n  // P14\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(100,-170,0);\n  destP[0] = new THREE.Vector3(135,-170,0);\n  destP[1] = new THREE.Vector3(135,25,0);\n  destP[1] = new THREE.Vector3(135,178,0); \n  destP[2] = new THREE.Vector3(250,178,0); \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(13, src, destP);\n\n  // P15 starts at DP6 to DP12\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(100,-170,0);\n  destP[0] = new THREE.Vector3(150,-170,0);\n  destP[1] = new THREE.Vector3(150,-15,0); \n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(14, src, destP);\n\n  // P16 - starts at DP9 towards DP13\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-160,178,0);\n  destP[0] = new THREE.Vector3(-55,178,0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(15, src, destP);\n  \n  // P17 - starts at DP9 towards DP10\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-160,178,0);\n  destP[0] = new THREE.Vector3(-160, 240, 0);\n  destP[1] = new THREE.Vector3(-5, 240, 0);\n  \n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(16, src, destP);\n\n  // P18 - starts at DP10 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-10, 240, 0);\n  destP[0] = new THREE.Vector3(250, 240, 0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(17, src, destP);\n\n  // P19 - starts at DP10 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-10, 240,0);\n  destP[0] = new THREE.Vector3(0, 178, 0);\n  destP[1] = new THREE.Vector3(250, 178, 0);\n  \n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(18, src, destP);\n\n   // P20 - starts at DP11 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-5, 178,0);\n  destP[0] = new THREE.Vector3(250, 178, 0);\n  \n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(19, src, destP);\n\n  // P21 - starts at DP11 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-5, 178, 0);\n  destP[0] = new THREE.Vector3(-5, 240, 0);\n  destP[1] = new THREE.Vector3(250, 240, 0);\n\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(20, src, destP);\n\n  // P22 - starts at DP12 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(150, -10, 0);\n  destP[0] = new THREE.Vector3(150, 178, 0);\n  destP[1] = new THREE.Vector3(250, 178, 0);\n\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(21, src, destP);\n\n  // P23 - starts at DP12 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(150, -10, 0);\n  destP[0] = new THREE.Vector3(135, -20, 0);\n  destP[1] = new THREE.Vector3(135, 178, 0);\n  destP[2] = new THREE.Vector3(250, 178, 0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(22, src, destP);\n\n  // P24 - starts at DP13 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55, 178, 0);\n  destP[0] = new THREE.Vector3(250, 178, 0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(23, src, destP);\n\n  // P25 - starts at DP13 towards endline\n  destP  = []; // reset destP array\n  src = new THREE.Vector3(-55, 178, 0);\n  destP[0] = new THREE.Vector3(-55, 240, 0);\n  destP[1] = new THREE.Vector3(250, 240, 0);\n  \n  // 0 based indices\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(24, src, destP);\n\n  // Red Car Path\n  // P31 === CarSegments.redCar\n  destP = []; // reset destP array\n  src = new THREE.Vector3(250,210,0);\n  destP[0] = new THREE.Vector3(185, 210, 0);\n  destP[1] = new THREE.Vector3(185, -165, 0);\n  destP[2] = new THREE.Vector3(115, -165, 0);\n  destP[3] = new THREE.Vector3(115, 60, 0);\n  destP[4] = new THREE.Vector3(0, 60, 0);\n  destP[5] = new THREE.Vector3(-10, 40, 0);\n  destP[6] = new THREE.Vector3(-165, 40, 0);\n  destP[7] = new THREE.Vector3(-165, 188, 0);\n  destP[8] = new THREE.Vector3(-45, 188, 0);\n  destP[9] = new THREE.Vector3(-45, 40, 0);\n  destP[10] = new THREE.Vector3(125, 40, 0);\n  destP[11] = new THREE.Vector3(125, 188, 0);\n  destP[12] = new THREE.Vector3(250, 188, 0);\n  \n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(CarSegments.redCar, src, destP);\n\n  // P32 === CarSegments.blackCar\n  destP = []; // reset destP array\n  src = new THREE.Vector3(-250,-160,0);\n  destP[0] = new THREE.Vector3(128, -160, 0);\n  destP[1] = new THREE.Vector3(128, 210, 0);\n  destP[2] = new THREE.Vector3(-185, 210, 0);\n  destP[3] = new THREE.Vector3(-185, -250, 0);\n\n  \n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(CarSegments.blueCar, src, destP); \n\n\n  // Pedestrians on sidewalk1 startinh at P41\n  let randPos = Math.random() * 10;\n  destP = []; // reset destP array\n  src = new THREE.Vector3(160-randPos,-130,0);\n  destP[0] = new THREE.Vector3(160-randPos, 170, 0);\n  destP[1] = new THREE.Vector3(159-randPos, 170, 0);\n  destP[2] = new THREE.Vector3(159-randPos, -130, 0);\n  destP[3] = new THREE.Vector3(160-randPos, -130, 0);\n\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(PedSegments.boy1, src, destP);  \n\n  destP = []; // reset destP array\n  src = new THREE.Vector3(-150, 245-randPos,0);\n  destP[0] = new THREE.Vector3(220, 245-randPos, 0);\n  destP[1] = new THREE.Vector3(220, 244-randPos, 0);\n  destP[2] = new THREE.Vector3(-150, 244-randPos, 0);\n  destP[3] = new THREE.Vector3(-150, 245-randPos, 0);\n\n  lines[counter++] = new THREE.Line();\n  lines[counter] = createPath(PedSegments.robot1, src, destP);  \n\n  return lines;\n}\n\n\nfunction drawPath( segment ) {\n  let vertices = [], point;\n  let mycolor = (segment < 30) ? Colors.red : Colors.blue;\n\n  \n  for (var i = 0; i < pathList[segment].curves.length; i++) {\n    // Change 2D points to 3D points\n    point = new THREE.Vector3(pathList[segment].curves[i].v1.x, \n                            pathList[segment].curves[i].v1.y, 0);\n    vertices[i] = new THREE.Vector3(point.x, point.y, 0);\n    \n  }\n  point = new THREE.Vector3(pathList[segment].curves[pathList[segment].curves.length-1].v2.x, \n                            pathList[segment].curves[pathList[segment].curves.length-1].v2.y, 0);\n  vertices[pathList[segment].curves.length] = new THREE.Vector3(point.x, point.y, 0);\n  let lineGeometry = new THREE.Geometry();\n  lineGeometry.vertices = vertices;\n  let lineMaterial = new THREE.LineDashedMaterial({ linewidth: 1, color: mycolor, dashSize: 3, gapSize: 3 });\n \n  let line = new THREE.Line(lineGeometry, lineMaterial);\n\n  return line;\n\n}\n\nexport {createPaths, getDP, pathList, CarSegments, PedSegments};\n","'use strict';\n\nlet Colors = {\n  red:0xC61A05,\n  white:0xd8d0d1,\n  brown:0x59332e,\n  pink:0xF5A0F2,\n  brownDark:0x23190f,\n  lightblue: 0x80DFFF,\n  blue:0x0000FF,\n  orange:0xFC6531,\n  beige: 0xEBCDA4,\n  grey: 0x303030,\n  yellow: 0xFFFF1A\n};\n\nexport default Colors;","'use strict';\n\nlet bike = null;\n\nfunction createBike() {\n  bike = new THREE.Object3D();\n  bike.mesh = new THREE.Object3D();\n  // bike.backWheel = new THREE.Object3D();\n  // bike.frontWheel = new THREE.Object3D();\n  let mtlLoader = new THREE.MTLLoader();\n  let jloader = new THREE.JSONLoader();\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/Wheel_back1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/Wheel_back1.obj', function (object) {\n        object.scale.set(5, 5, 5);\n        object.rotation.y = Math.PI/2;\n        // object.position.z = 0;\n        // bike.backWheel.add(object);\n        object.position.y = -26;\n        object.position.z = -5.5;\n        bike.back_wheel = object;\n        bike.mesh.add(object);\n        // move to scene3d\n        // scene.add(bike.mesh);\n      });\n    });\n\n    // Front Wheel loading\n     \n    mtlLoader.load('assets/Wheel_front1.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n        objLoader.load('assets/Wheel_front1.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.y = Math.PI/2;\n          object.position.y = -9.5;\n          object.position.z = -5.5;\n          // bike.frontWheel.add(object);\n          bike.mesh.add(object);\n          bike.front_wheel = object;\n       });\n  });\n   \n\n\n  mtlLoader.load('assets/frame-nopedals.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n       objLoader.load('assets/frame-nopedals.obj', function (object) {\n          object.scale.set(5, 5, 5);\n          object.rotation.z = Math.PI/2;\n          object.position.set(0,-10,-5.5);\n          bike.mesh.add(object);\n          // frame = object;\n       });\n  });\n\n   // From Blender Model: low-poly-cycle-enzo9-9.json\n   jloader.load('./assets/low-poly-cycle.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      bike.rider = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      bike.rider.scale.set(8,8,8);\n      bike.rider.position.set(0,-19,-10);\n      bike.rider.rotation.y = Math.PI;\n      bike.rider.rotation.x = Math.PI/2;\n      bike.mesh.add(bike.rider);\n      \n      bike.mixer = new THREE.AnimationMixer(bike.rider);\n      bike.anim = bike.mixer.clipAction(geometry.animations[1]);\n      bike.anim.setEffectiveWeight(1);\n      bike.anim.enabled = true;\n      bike.anim.play();\n      bike.anim.paused = true;\n      bike.anim.timeScale = 2;\n      \n      // bike.anim1.paused = false;\n      bike.anim.paused = false;\n    });\n    \n    \n    // bike.mesh.position.z = 10;\n    bike.mesh.wide = 1;\n    bike.mesh.long = 3;\n    bike.mesh.position.z = 2.2;\n    bike.mesh.scale.set(0.2,0.2,0.2);\n\n    // tripod for inspection camera\n    bike.mesh.tripod = new THREE.Object3D;\n    bike.mesh.add(bike.mesh.tripod);\n    bike.mesh.tripod.position.set(0,2,25);\n\n}\n\nexport {createBike, bike}; //{createBike, bike, pedals, front_wheel, back_wheel, rider};\n","'use strict';\n\nlet hemisphereLight = null;\n\n\nfunction createLight(scene) {\n\n  let ambientLight, shadowLight;\n\n  // A hemisphere light is a gradient colored light; \n  // the first parameter is the sky color, the second parameter is the ground color, \n  // the third parameter is the intensity of the light\n  hemisphereLight = new THREE.HemisphereLight(0xaaaaaa,0x000000, 4.0);\n  ambientLight = new THREE.AmbientLight(0x111111, 6);\n  // A directional light shines from a specific direction. \n  // It acts like the sun, that means that all the rays produced are parallel. \n  shadowLight = new THREE.DirectionalLight(0xffffff, 0.9);\n  \n  // to activate tohe lights, just add them to the scene\n  scene.add(hemisphereLight);  \n  scene.add(shadowLight);\n  scene.add(ambientLight);\n  // scene.add(shadowLight);\n}\nfunction setHLIntensity(value) {\n  hemisphereLight.intensity = value;\n}\n\nexport {createLight, setHLIntensity};","'use strict';\n\nlet town = null, parkedCarDoor = null;\nlet cars, parkedCar = null, doorCollider = null;\nlet pedestrians = null;\n\nfunction createTown() \n{\n\n\ttown = new THREE.Object3D();\n\tcars = new THREE.Object3D();\n\tpedestrians = new THREE.Object3D();\n\n  let mtlLoader = new THREE.MTLLoader();\n  let loader = new THREE.ColladaLoader();\n \t\n  \n  // let bbox = null;\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/road-design.mtl', function (mtl) {\n\n    mtl.preload();\n    \n    let objLoader = new THREE.OBJLoader();\n    \n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/road-design.obj', function (object) {\n        object.scale.set(24, 24, 24);\n        object.rotation.x = Math.PI/2;\n        // road = object;\n        town.add(object);\n      });\n  });\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/houses-layout41.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/houses-layout41.obj', function (object) {\n        object.scale.set(2, 2, 2);\n        object.rotation.x = Math.PI/2;\n        // town = object;\n        town.add(object);\n      });\n  });\n  \n  // mtlLoader.load('assets/stop_sign.mtl', function (mtl) {\n\n  //   mtl.preload();\n\n  //   let objLoader = new THREE.OBJLoader();\n  //   objLoader.setMaterials(mtl);\n  //   objLoader.load('assets/stop_sign.obj', function (object) {\n  //       object.scale.set(1, 1, 1);\n  //       object.rotation.x = Math.PI/2;\n  //       object.rotation.y = -Math.PI/2;\n  //       object.position.set(-145, -178, -1);\n  //       let clone = object.clone();\n  //       clone.position.set(-55, -178, -1);\n  //       clone.rotation.y = -Math.PI;\n  //       town.add(object);\n  //       town.add(clone);\n  //     });\n  // });\n  \n  mtlLoader.load('assets/dp1-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp1-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-160, -165, -1); //DP1\n        town.dp1Arrows = object;\n        let clone = object.clone();\n        clone.position.set(-160, 25, -1); //DP2\n        town.dp2Arrows = clone;\n        town.add(object);\n        town.add(clone);\n      });\n  });\n\n mtlLoader.load('assets/dp10-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp10-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-10, 240, -1); //DP10\n        town.dp10Arrows = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp12-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp12-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = 0; \n        object.position.set(140, -10, -1); //DP12\n        town.dp12Arrows = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp13-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp13-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-55, 178, -1); //DP13 \n        town.dp13Arrows = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp3-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp3-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-120, -170, -1); //DP3\n        town.dp3Arrows = object;\n        town.add(object);\n        \n      });\n  });\n\n\n\nmtlLoader.load('assets/dp10-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp10-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-10, 240, -1); //DP10\n        town.dp10Arrows = object;\n        town.add(object);\n        \n      });\n  });\n\nmtlLoader.load('assets/dp9-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp9-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-160,178, -1); //DP9\n        town.dp9Arrows = object;\n        let clone = object.clone(); // DP11\n        clone.position.set(-5, 178, -1);\n        town.dp11Arrows = clone;\n        let clone1 = object.clone(); // DP5\n        clone1.position.set(-40,25, -1);\n        town.dp5Arrows = clone1;\n        \n        town.add(object);\n        town.add(clone);\n        town.add(clone1);\n       \n      });\n  });\n\n  mtlLoader.load('assets/dp4-arrows.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/dp4-arrows.obj', function (object) {\n        object.scale.set(1, 1, 1);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = -Math.PI/2;\n        object.position.set(-55,-165, -1); //DP4\n        town.dp4Arrows = object;\n        let clone = object.clone(); // DP7\n        clone.position.set(100,25, -1);\n        town.dp7Arrows = clone;\n        let clone1 = object.clone(); // DP6\n        clone1.position.set(100,-165, -1);\n        town.dp6Arrows = clone1;\n        let clone2 = object.clone(); // DP8\n        clone2.position.set(-60,35, -1);\n        town.dp8Arrows = clone2;\n        \n        town.add(object);\n        town.add(clone);\n        town.add(clone1);\n        town.add(clone2);\n      });\n  });\n\n  // mtlLoader.load('assets/donotenter_sign.mtl', function (mtl) {\n\n  //   mtl.preload();\n\n  //   let objLoader = new THREE.OBJLoader();\n  //   objLoader.setMaterials(mtl);\n  //   objLoader.load('assets/donotenter_sign.obj', function (object) {\n  //       object.scale.set(1, 1, 1);\n  //       object.rotation.x = Math.PI/2;\n  //       object.rotation.y = -Math.PI;\n  //       object.position.set(-145, 16, -1);\n  //       let clone = object.clone();\n  //       clone.position.set(-145, 58, -1);\n  //       // town = object;\n  //       town.add(object);\n  //       town.add(clone);\n  //     });\n  // });\n\n mtlLoader.load('assets/start.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/start.obj', function (object) {\n        object.scale.set(20, 20, 10);\n        object.rotation.x = 0;\n        object.rotation.y = -Math.PI/2;\n        object.rotation.z = -Math.PI/2;\n        object.position.set(-190, -250, 1);\n        // town = object;\n        town.add(object);\n      });\n  });\n\n  mtlLoader.load('assets/finish-line.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/finish-line.obj', function (object) {\n        object.scale.set(10, 10, 10);\n        object.rotation.x = 0;\n        object.rotation.y = -Math.PI/2;\n        object.rotation.z = -Math.PI/2;\n        object.position.set(240, 200, 1);\n        // town = object;\n        town.add(object);\n      });\n  });\n\n  mtlLoader.load('assets/one-way.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/one-way.obj', function (object) {\n        object.scale.set(8, 8, 8);\n        object.rotation.x = Math.PI/2;\n        object.rotation.y = 0;\n        object.position.set(-110, 35, 0);\n        let clone = object.clone();\n        clone.position.set(-40, -60, 0.5);\n        clone.rotation.y = -Math.PI/2;\n        town.add(object);\n        town.add(clone);\n      });\n  });\n\n\n  \n  loader.load( 'assets/car-low-poly6.dae',\n    function (collada) {\n      parkedCar = collada.scene;\n      parkedCar.scale.set(3,3,3);\n      parkedCar.traverse(function (child){\n         if (child instanceof THREE.SkinnedMesh){  \n         \t  parkedCarDoor = child;\n            parkedCarDoor.bone = child.skeleton.bones[0];\n            let colliderGeometry = new THREE.CubeGeometry(0.5,4,5,1,1,1,1);\n            let wireMaterial = new THREE.MeshBasicMaterial( { color: 0x00ff00, wireframe:true } );\n            let doorCollider = new THREE.Mesh( colliderGeometry, wireMaterial );\n            doorCollider.position.set(-110,-172,3);\n            doorCollider.long = 0.5;\n            doorCollider.wide = 1;\n            parkedCarDoor.doorCollider = doorCollider;\n\n          }\n          child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n          \n          });\n      });\n      parkedCar.updateMatrix();\n      parkedCar.rotation.z = Math.PI/2;\n      parkedCar.rotation.x= 0;\n      parkedCar.position.set(-110, -175,0);\n      // cars.blackCar = parkedCar.clone();\n      // cars.blackCar.add(parkedCarDoor);\n      // town.add(doorCollider);\n      town.add(parkedCar);\n      // town.add(cars.blackCar);\n  }); \n\n  mtlLoader.setTexturePath('assets/');\n  mtlLoader.load('assets/yellow2.mtl', function (mtl) {\n\n    mtl.preload();\n\n    let objLoader = new THREE.OBJLoader();\n    objLoader.setMaterials(mtl);\n    objLoader.load('assets/yellow2.obj', function (object) {\n        object.scale.set(5, 5, 5);\n        cars.yellowCar = object;\n        cars.yellowCar.rotation.x = Math.PI/2;\n        cars.yellowCar.rotation.y = Math.PI;\n        cars.yellowCar.rotation.z= 0;\n        cars.yellowCar.position.set(-4, 100,0);\n        \n        town.add(object);\n      });\n  });\n\n loader.load( 'assets/car-low-red.dae',\n    function (collada) {\n    cars.redCar = collada.scene;\n    cars.redCar.scale.x = cars.redCar.scale.y = cars.redCar.scale.z = 5;\n    cars.redCar.traverse(function (child){\n    \n        child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n        \n        });\n    \n        \n    });\n    cars.redCar.updateMatrix();\n    cars.redCar.rotation.y = Math.PI;\n    cars.redCar.rotation.z= 0;\n    cars.redCar.position.set(250, 250,0);\n    cars.redCar.long = 8;\n    cars.redCar.wide = 6;\n    town.add(cars.redCar);\n  }); \n\n  loader.load( 'assets/car-low-blue.dae',\n    function (collada) {\n    cars.blueCar = collada.scene;\n    cars.blueCar.scale.x = cars.blueCar.scale.y = cars.blueCar.scale.z = 5;\n    cars.blueCar.traverse(function (child){\n    \n        child.traverse(function(e){\n            e.castShadow = true;\n            e.receiveShadow = true;\n            if (e.material instanceof THREE.MeshPhongMaterial){\n                e.material.needsUpdate = true;\n            }   \n        \n        });\n    \n        \n    });\n    cars.blueCar.updateMatrix();\n    cars.blueCar.rotation.y = Math.PI;\n    cars.blueCar.rotation.z= 0;\n    cars.blueCar.position.set(250, 250,0);\n    cars.blueCar.long = 8;\n    cars.blueCar.wide = 6;\n    town.add(cars.blueCar);\n  }); \n   createAnimChar();\n  \n}\n\nfunction createAnimChar() {\n\n\tlet jloader = new THREE.JSONLoader();\n\n\tjloader.load('./assets/dooring.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let billBoard = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      billBoard.scale.set(2,2,2);\n      billBoard.position.set(-110,-180,0);\n      billBoard.rotation.x = Math.PI/2;\n      billBoard.rotation.y = -Math.PI;\n      town.add(billBoard);\n      town.billBoard = animCommons(billBoard, geometry.animations[1], 0.5);\n      \n      // town.billBoard.mixer = new THREE.AnimationMixer(billBoard);\n      // town.billBoard.anim = town.billBoard.mixer.clipAction(geometry.animations[1]);\n      // town.billBoard.anim.setEffectiveWeight(1);\n      // town.billBoard.anim.enabled = true;\n      // town.billBoard.anim.play();\n      // town.billBoard.anim.timeScale = 0.5;\n      \n      // town.billBoard.anim.paused = false;\n    });\n\n\t// From Blender Model low-poly-boy-walk9.blend\n   \n   jloader.load('./assets/low-poly-boy-walk.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let walkingBoy = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      walkingBoy.scale.set(1,1,1);\n      walkingBoy.position.set(160,0,1);\n      walkingBoy.rotation.y = Math.PI;\n      walkingBoy.rotation.x = Math.PI/2;\n      walkingBoy.wide = 2;\n      walkingBoy.long= 2;\n      town.add(walkingBoy);\n      pedestrians.walkingBoy = animCommons(walkingBoy, geometry.animations[0], 2);\n      // town.walkingBoy = walkingBoy;\n      // town.walkingBoy.mixer = new THREE.AnimationMixer(walkingBoy);\n      // town.walkingBoy.anim = town.walkingBoy.mixer.clipAction(geometry.animations[0]);\n      // town.walkingBoy.anim.setEffectiveWeight(1);\n      // town.walkingBoy.anim.enabled = true;\n      // town.walkingBoy.anim.play();\n      // town.walkingBoy.anim.timeScale = 0.5;\n      \n      // town.walkingBoy.anim.paused = false;\n      // Clone the walking boy with different color cloths\n      let walkingBoy1 = walkingBoy.clone();\n      walkingBoy1.position.set(-115, -110, 0);\n      walkingBoy1.rotation.y = -Math.PI;\n      walkingBoy1.wide = 2;\n      walkingBoy1.long = 2;\n      \n      town.add(walkingBoy1);\n      pedestrians.walkingBoy1 = animCommons(walkingBoy1, geometry.animations[0], 0.12);\n      // town.walkingBoy1.mixer = new THREE.AnimationMixer(town.walkingBoy1);\n      // town.walkingBoy1.anim = town.walkingBoy1.mixer.clipAction(geometry.animations[0]);\n      // town.walkingBoy1.anim.setEffectiveWeight(1);\n      // town.walkingBoy1.anim.enabled = true;\n      // town.walkingBoy1.anim.play();\n      // town.walkingBoy1.anim.timeScale = 0.7;\n      \n      // town.walkingBoy1.anim.paused = false;\n    });\n\n   // From Blender Model low-poly-girl-walk1.blend\n  jloader.load('./assets/low-poly-girl-walk.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let walkingGirl = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      walkingGirl.scale.set(1,1,1);\n      walkingGirl.position.set(155,0,1);\n      walkingGirl.rotation.y = Math.PI;\n      walkingGirl.rotation.x = Math.PI/2;\n      walkingGirl.wide = 2;\n      walkingGirl.long = 2;\n      town.add(walkingGirl);\n      pedestrians.walkingGirl = animCommons(walkingGirl, geometry.animations[0], 2);\n      // town.walkingGirl.mixer = new THREE.AnimationMixer(walkingGirl);\n      // town.walkingGirl.anim = town.walkingGirl.mixer.clipAction(geometry.animations[0]);\n      // town.walkingGirl.anim.setEffectiveWeight(1);\n      // town.walkingGirl.anim.enabled = true;\n      // town.walkingGirl.anim.play();\n      // town.walkingGirl.anim.timeScale = 2;\n      \n      // town.walkingGirl.anim.paused = false;\n    });\n\n  jloader.load('./assets/robot-rig3.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let runningRobot = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      runningRobot.scale.set(5,5,5);\n      runningRobot.position.set(0,240,1);\n      runningRobot.rotation.y = Math.PI/2;\n      runningRobot.rotation.x = Math.PI/2;\n      runningRobot.wide = 2;\n      runningRobot.long = 2;\n      town.add(runningRobot);\n      pedestrians.runningRobot = animCommons(runningRobot, geometry.animations[3], 1);\n      // town.runningRobot.mixer = new THREE.AnimationMixer(runningRobot);\n      // town.runningRobot.anim = town.runningRobot.mixer.clipAction(geometry.animations[3]);\n      // town.runningRobot.anim.setEffectiveWeight(1);\n      // town.runningRobot.anim.enabled = true;\n      // town.runningRobot.anim.play();\n      // town.runningRobot.anim.timeScale = 1;\n      \n      // town.runningRobot.anim.paused = false;\n    });\n\n   jloader.load('./assets/robot-rig4.json', function (geometry, materials) {\n      materials.forEach(function (material) {\n        material.skinning = true;\n      });\n      let runningRobot1 = new THREE.SkinnedMesh(\n        geometry,\n        materials//new THREE.MeshFaceMaterial(materials)\n      );\n      runningRobot1.scale.set(5,5,5);\n      runningRobot1.position.set(0,245,1);\n      runningRobot1.rotation.y = Math.PI/2;\n      runningRobot1.rotation.x = Math.PI/2;\n      runningRobot1.wide = 2;\n      runningRobot1.long = 2;\n      town.add(runningRobot1);\n      pedestrians.runningRobot1 = animCommons(runningRobot1, geometry.animations[3], 1.2);\n      // town.runningRobot1.mixer = new THREE.AnimationMixer(runningRobot1);\n      // town.runningRobot1.anim = town.runningRobot1.mixer.clipAction(geometry.animations[3]);\n      // town.runningRobot1.anim.setEffectiveWeight(1);\n      // town.runningRobot1.anim.enabled = true;\n      // town.runningRobot1.anim.play();\n      // town.runningRobot1.anim.timeScale = 1.2;\n      \n      // town.runningRobot1.anim.paused = false;\n    });\n}\n\nfunction animCommons(object, animation, scale) {\n\n\t\tobject.mixer = new THREE.AnimationMixer(object);\n\t\tobject.anim = object.mixer.clipAction(animation);\n\t\tobject.anim.setEffectiveWeight(1);\n\t\tobject.anim.enabled = true;\n\t\tobject.anim.play();\n\t\tobject.anim.timeScale = scale;\n\t\tobject.anim.paused = false;\n\n\t\treturn object;\n\n}\n\nexport {createTown, town, parkedCarDoor, cars, pedestrians};","'use strict';\n\n// require('babelify/polyfill');\n\nimport scene3d from './scene3d';\n\n// window.onload = function(){\n\n//   scene3d.init();\n\n// };\n\n// HANDLE MOUSE EVENTS\n\n// let mousePos = { x: 0, y: 0 };\n\n// function handleMouseMove(event) {\n//   let tx = -1 + (event.clientX / WIDTH)*2;\n//   let ty = 1 - (event.clientY / HEIGHT)*2;\n//   mousePos = {x:tx, y:ty};\n// }\n\n// window.addEventListener('load', scene3d.init, false);\n","/*\n  Create a 3D Scene for our town and cycling routes\n*/\n'use strict';\n\nimport debug3dAxes from './dbg_3d_coord';\nimport {infoButton, selectCameraView} from './info';\nimport {createPaths, pathList, CarSegments, PedSegments} from './bikePaths';\nimport Colors from './colors';\nimport {activeSegment, resetSegment, resetPosition, getBikeSpeed, getPosition, setPosition} from './decisionTree';\nimport {createBike, bike} from './bikeLoad';\nimport {createTown, town, parkedCarDoor, cars, pedestrians} from './townLoad';\nimport {createCameras, getActiveCamera, setActiveCamera, hoveringCamera, trailingCamera, orbitControls, inspectCamera} from './cameraControls';\nimport {createLight} from './createLights';\n\nlet renderer, scene;\nlet carPosition = 0, boy1Position = 0, robot1Position = 0;\nlet keyboard = new THREEx.KeyboardState();\nlet carSpeed = 0.1, pedSpeed = 0.05;\nlet animId = null;\nlet gameEnd = false;\nlet clock = new THREE.Clock();\nlet rs_logo = null, bike_anim = null;\nlet backReset = false, backReset1 = false;\nlet forwardReset = true, forwardReset1 = true;\nlet pauseCount = 0, crashed = false;\n\n\nfunction clearText()\n{   document.getElementById('output').innerHTML = '..........';   }\n\nfunction appendText(txt)\n{   \n  document.getElementById('output').innerHTML += txt;   \n}\n\n\nfunction createScene() {\n  //This function will create the scene, the camera and the renderer\n  // for this project\n  //The aspect ratio of the camera will be derived from the window's height\n  // width. the same parameters will be used for the renderer\n  let height = window.innerHeight;\n  let width = window.innerWidth;\n  scene = new THREE.Scene(); // for now scene is declared as a global variable\n  scene.fog = new THREE.Fog(Colors.white, 100, 1000);\n\n  scene.add(debug3dAxes(100));\n \n  scene.rotation.z += Math.PI/2;\n  scene.rotation.x -= Math.PI/2;\n\n  renderer = new THREE.WebGLRenderer({ \n    \n    alpha: true, \n\n    antialias: true // will experiment with turning this on\n  });\n  renderer.setSize( width, height );\n  // Enable shadow rendering for now\n  renderer.shadowMap.enabled = true;\n  renderer.setPixelRatio(window.devicePixelRatio);\n  // Add the DOM element of the renderer to the \n  // div townId container \n  let container = document.getElementById('townId');\n  container.appendChild(renderer.domElement);\n\n \n  rs_logo = lottie.loadAnimation({\n    container: document.getElementById('logo'), // the dom element that will contain the animation\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: 'js/data_rs.json' // the path to the animation json\n  });\n\n  bike_anim = lottie.loadAnimation({\n    container: document.getElementById('bike'), // the dom element that will contain the animation\n    renderer: 'svg',\n    loop: true,\n    autoplay: true,\n    path: 'js/data_bike.json' // the path to the animation json\n  });\n  // scene.add(anim); Illegal anim is not a THREE.Object3D()\n\n  infoButton();\n  selectCameraView();\n\n}\n\n\n\nlet Sky = function(){\n  this.mesh = new THREE.Object3D();\n  // Should add some birds and other flying objects\n  \n}\n\n\nfunction createSky(){\n  sky = new Sky();\n  sky.mesh.position.y = -600;\n  scene.add(sky.mesh);\n}\n\nlet Road = function(){\n  // this.mesh = new THREE.Object3D();\n  let geometry = new THREE.PlaneGeometry( 1000, 2000);\n  let material = new THREE.MeshBasicMaterial( {color: Colors.red, side: THREE.DoubleSide} );\n  this.mesh = new THREE.Mesh( geometry, material );\n  this.mesh.castShadow = true;\n  this.mesh.position.set(0,0,-5);\n}\n\nfunction createRoad() {\n  let road = new Road();\n  road.mesh.position.y = -600;\n  scene.add(road.mesh);\n}\n\nfunction createFloor() {\n  // create floor\n  let material = new THREE.MeshBasicMaterial({wireframe:true, color: 0x000000});\n  let geometry = new THREE.PlaneGeometry(500, 500, 20, 20);\n  let floor = new THREE.Mesh(geometry, material);\n  let container = new THREE.Object3D();\n  container.add(floor);\n  scene.add(container);\n\n}\n\n// Algorithm based on simple 2D collision of objects with Axis-aligned bounding boxes (i.e no rotation)\n// https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n// A collision occurs if any of the parts of the bounding boxes intersect.\nfunction simpleCollision(obj1, obj2) \n{\n  if (obj1.position.x < obj2.position.x + obj2.wide &&\n      obj1.position.x + obj1.wide > obj2.position.x &&\n      obj1.position.y < obj2.position.y + obj2.long &&\n      obj1.long + obj1.position.y > obj2.position.y) \n  {\n    return true;\n  }\n  else\n  {\n    return false;\n  }\n}\n\nfunction welcomeDialog() {\n    let $textAndPic = $('<div class=\"welcomeDialog\"></div>');\n    $textAndPic.append('<img src=\"./images/gameLayout.png\" />');\n    $textAndPic.append('<video controls width=\"500\" autoplay=\"true\"> \\\n          <source src=\"./images/sampleRide.mp4\" type=\"video/mp4\"> \\\n          <source src=\"./images/sampleScene.png\"> \\\n          Sorry, your browser doesn\\'t support embedded videos. \\\n          </video>');\n    $textAndPic.append('<p> In this level, the user is prompted to choose alternate paths for the cyclist. \\\n                        The objective of the game to \\n make it to the end without a crash.</p>');\n    $textAndPic.append('<div class=\"row\"> \\\n                          <div class=\"border col-md-6 boxlayout\"> \\\n                             <ul> Sample Interactions: \\\n                               <li> Cyclist stops at intersection. The user has to decide between going straight or turning right.</li> \\\n                               <li> Cyclist can and SHOULD check surrounding traffic before deciding on the next move. </li> \\\n                               <li> Cyclist can check the View from Behind, Right Side and/or Left Side.</li>\\\n                               <li> If the Cyclist does not make a choice when COUNTDOWN reaches 0, A random choice is done.</li> \\\n                             </ul> \\\n                          </div> \\\n                          <div class=\"border col-md-6 boxlayout\"> \\\n                            <ul> Controls: \\\n                              <li> To Choose the Top Hovering Camera, Press 1 (Mobile: Red Camera Icon)</li> \\\n                              <li> To Choose the Trailing Camera, Press 2 (Mobile: Black Camera Icon)</li> \\\n                              <li> To Zoom in and Out, use middle mouse wheel(Mobile TBD)</li> \\\n                              <li> To Rotate around the Z axis, use left mouse button(Mobile TBD)</li> \\\n                              <li> To move the TOP Camera around, use right mouse button (Mobile: screen touch)</li> \\\n                            </ul> \\\n                          </div> \\\n                        </div>');\n    \n    BootstrapDialog.show({\n      title: 'Ride Safely Interactive',\n      message: $textAndPic,\n      closeByBackdrop: false,\n      closeByKeyboard: false,\n      buttons: [{\n        label: 'Start Game',\n        action: function(dialogRef){\n          dialogRef.close();\n          // gameEnd = false;\n          animate();\n        }\n      }, {\n        label: 'Quit Game',\n        action: function(dialogRef) {\n          dialogRef.close();\n          return;\n        }\n    }]\n  });\n}\n\nfunction restartGame() \n{\n\n  location.reload();\n\n  gameEnd = false;\n}\n\nfunction crashBike() {\n  // bike.mesh.rotation.z = 0.2;\n  // bike.mesh.position.set(bike.mesh.position.x-0.2, bike.mesh.position.y-0.2,bike.mesh.position.z); \n  // bike.rider.position.set(3,3,-9);\n  // bike.rider.rotation.z = 0.3;\n  BootstrapDialog.show({\n      title: 'Game Over!',\n      message: \"Ready to Restart the Game?\",\n      closeByBackdrop: false,\n      closeByKeyboard: false,\n      buttons: [{\n          label: 'Restart Game',\n          action: function(dialogRef){\n              restartGame();\n              dialogRef.close();\n              gameEnd = false;\n          }\n      }, {\n          label: 'Leave Game',\n          action: function(dialogRef){\n              cancelAnimationFrame(animId);\n\n              dialogRef.close();\n              gameEnd = true;\n              return;\n          }\n      }]\n  });\n  // stops further animation\n  gameEnd = true;\n}\n\nfunction collisionTests(segment) {\n  \n  if (simpleCollision(bike.mesh, cars.redCar) === true) {\n    console.log(\"Hit Red Car!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, cars.blueCar) === true) {\n    console.log(\"Hit Blue Car!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.walkingBoy) === true) {\n    console.log(\"Hit Boy!\");\n    crashBike();\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.walkingGirl) === true) {\n    console.log(\"Hit Girl!\");\n    crashBike();\n\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.runningRobot) === true) {\n    console.log(\"Hit Running Robot!\");\n    crashBike();\n\n  }\n\n  if (simpleCollision(bike.mesh, pedestrians.runningRobot1) === true) {\n    console.log(\"Hit Running Robot1!\");\n    crashBike();\n    \n  }\n\n  if (parkedCarDoor !== null) {\n    if (segment === 6) {\n      // moving towards parked car. For now just open the door\n      if (Math.random() < 0.0025) {\n         parkedCarDoor.bone.rotation.z = -1.5;\n         parkedCarDoor.doorCollider.position.y = -170;\n      }\n      // rayCollision();\n      \n      if (simpleCollision(bike.mesh, parkedCarDoor.doorCollider))\n      {\n        console.log(\"Hit Car Door!\");\n        crashBike();\n      }\n    }\n    else {\n      parkedCarDoor.bone.rotation.z = 0;\n      parkedCarDoor.doorCollider.position.y = -172;\n    }\n  }\n}\n\nfunction updateBike( segment ) {\n\n  let temp = new THREE.Vector3;\n\n  if (pathList === null) {\n    return;\n  }\n  // add up position for movement\n  let pos = getPosition();\n  pos += 0.002 * getBikeSpeed() ;\n  setPosition(pos);\n  \n  let point = pathList[segment].getPoint( getPosition());\n  if (point === null) {\n    \n     return;\n  }\n  if (bike === null) {\n    return;\n  }\n  if (bike.mesh === null) {\n    return;\n  }\n  // GET RID OF AE side animation to avoid distraction\n  rs_logo.destroy();\n  bike_anim.destroy();\n\n  bike.mesh.position.x = point.x;\n  bike.mesh.position.y = point.y;\n  \n  temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n    \n  inspectCamera.position.lerp(temp, 0.2);\n  inspectCamera.lookAt( bike.mesh.position );\n\n  let angle = getAngle(segment, getPosition());\n  if (angle > 0) {\n    angle = - Math.PI + angle;\n  }\n\n  let up = new THREE.Vector3( 0, 0, 1 );\n\n  // set the quaternion\n  bike.mesh.quaternion.setFromAxisAngle( up, angle );\n\n  if (bike.mesh.children.length > 4) \n  {\n    // pedals.rotation.x -= 0.08;\n    bike.front_wheel.rotation.x -=0.1;\n    bike.back_wheel.rotation.x -=0.1;\n\n    // collisionTests(segment);\n    \n  }\n}\n\nfunction updateCar( segment , car) {\n  \n  // add up position for movement\n  if (car === null) {\n    return;\n  }\n  carPosition += 0.0015 * carSpeed ;\n  \n  let point = pathList[segment].getPoint(carPosition);\n  if (point === null) \n  {\n     carPosition = 0;\n     return;\n  }\n  \n  if (segment === CarSegments.blueCar) {\n\n    if ((pauseCount > 0) && (pauseCount < 80)) \n    {\n       pauseCount++;\n       return;\n    }\n    if (pauseCount >= 80) \n    {\n      pauseCount = 0;\n    }\n  \n    // pause at stop sign\n    if ((point.x + 60.0 < 1)  &&  (point.x + 60.0 > 0) &&  (point.y === -165)) {\n      // carPosition -= 0.0015 * carSpeed ;\n      pauseCount = 1;\n      return;\n    } \n  }\n  \n  car.position.x = point.x;\n  car.position.y = point.y;\n  \n\n  let up = new THREE.Vector3( 0, 0, 1 );\n\n  let angle = getAngle(segment, carPosition);\n  if (angle > 0) {\n    angle = - Math.PI + angle;\n  }\n  else { angle = Math.PI + angle;}\n  // set the quaternion\n  car.quaternion.setFromAxisAngle( up, angle );\n\n\n}\n\n\nfunction updatePedestrians() {\n  \n  let segment = PedSegments.boy1;\n  let segment1 = PedSegments.robot1;\n  // add up position for movement\n  if (pedestrians === null) {\n    return;\n  }\n  boy1Position += 0.002 * pedSpeed ;\n  robot1Position += 0.005 * pedSpeed ;\n\n  let point = pathList[segment].getPoint(boy1Position);\n  let point1 = pathList[segment1].getPoint(robot1Position);\n  if (point === null) {\n     boy1Position = 0;\n     return;\n  }\n  if (point1 === null) {\n    robot1Position = 0;\n    return;\n  }\n  let prevPosition = pedestrians.walkingBoy.position.y;\n  let prevPosition1 = pedestrians.runningRobot.position.x;\n  if (prevPosition != 0) {\n    if (prevPosition > point.y && backReset === false) {\n      pedestrians.walkingBoy.rotation.y = 0;\n      pedestrians.walkingGirl.rotation.y = 0;\n      backReset = true;\n      forwardReset = false;\n    }\n    else if (prevPosition < point.y && forwardReset === false) {\n      pedestrians.walkingBoy.rotation.y = Math.PI;\n      pedestrians.walkingGirl.rotation.y = Math.PI;\n      backReset = false;\n      forwardReset = true;\n    }\n  }\n  if (prevPosition1 != 0) {\n    if (prevPosition1 > point1.x && backReset1 === false) {\n      pedestrians.runningRobot.rotation.y = 3*Math.PI/2;\n      pedestrians.runningRobot1.rotation.y = 3*Math.PI/2;\n      backReset1 = true;\n      forwardReset1 = false;\n    }\n    else if (prevPosition1 < point1.x && forwardReset1 === false) {\n      pedestrians.runningRobot.rotation.y = Math.PI/2;\n      pedestrians.runningRobot1.rotation.y = Math.PI/2;\n      backReset1 = false;\n      forwardReset1 = true;\n    }\n  }\n  pedestrians.walkingBoy.position.x = point.x;\n  pedestrians.walkingGirl.position.x = point.x - 5;\n  pedestrians.walkingBoy.position.y = pedestrians.walkingGirl.position.y = point.y;\n  \n  pedestrians.runningRobot.position.x = point1.x;\n  pedestrians.runningRobot1.position.x = point1.x;\n  pedestrians.runningRobot.position.y = point1.y;\n  pedestrians.runningRobot1.position.y = point1.y - 5;\n\n\n}\n\nfunction getAngle( segment, aPosition ) {\n// get the 2Dtangent to the curve\n  let tangent = pathList[segment].getTangent(aPosition).normalize();\n\n  // change tangent to 3D\n  let angle = - Math.atan( tangent.x / tangent.y);\n  \n  return angle;\n}\n\n\n// render\nfunction render() {\n\n  orbitControls.hcontrols.update();\n  orbitControls.tcontrols.update();\n\n  if ( keyboard.pressed(\"1\") ) {\n     setActiveCamera(hoveringCamera);  \n  }\n  if ( keyboard.pressed(\"2\") ) {\n     setActiveCamera(trailingCamera); \n  }\n  let activeCamera = getActiveCamera();\n  if (activeCamera)\n  {\n    renderer.render(scene, activeCamera);\n  }\n\n  let delta = clock.getDelta();\n  if (bike.mixer) \n  {\n    bike.mixer.update(delta);\n  }\n  if (town.billBoard && town.billBoard.mixer) \n  {\n    town.billBoard.mixer.update(delta);\n  }\n  if (pedestrians.walkingBoy && pedestrians.walkingBoy.mixer) \n  {\n    pedestrians.walkingBoy.mixer.update(delta);\n  }\n  if (pedestrians.walkingBoy1 && pedestrians.walkingBoy1.mixer) \n  {\n    pedestrians.walkingBoy1.mixer.update(delta);\n  }\n  if (pedestrians.walkingGirl && pedestrians.walkingGirl.mixer) \n  {\n    pedestrians.walkingGirl.mixer.update(delta);\n  }\n  if (pedestrians.runningRobot && pedestrians.runningRobot.mixer) \n  {\n    pedestrians.runningRobot.mixer.update(delta);\n  }\n  if (pedestrians.runningRobot1 && pedestrians.runningRobot1.mixer) \n  {\n    pedestrians.runningRobot1.mixer.update(delta);\n  }\n  // if (bike.mixer1) bike.mixer1.update(delta);\n  \n}\n// HANDLE MOUSE EVENTS\n\nlet mousePos = { x: 0, y: 0 };\n\nfunction handleMouseMove(event) {\n  let tx = -1 + (event.clientX / WIDTH)*2;\n  let ty = 1 - (event.clientY / HEIGHT)*2;\n  mousePos = {x:tx, y:ty};\n}\n\nwindow.addEventListener('load', init, false);\n\n\n// animate\nfunction animate() {\n\n  if (gameEnd === true) \n  {\n    return;\n  }\n\n  let segment = activeSegment;\n\n  updateCar(CarSegments.redCar, cars.redCar);\n\n  updateCar(CarSegments.blueCar, cars.blueCar);\n  \n  updateBike(segment);\n\n  updatePedestrians();\n\n  collisionTests(segment);\n\n  animId = requestAnimationFrame(animate);\n\n  // temp.setFromMatrixPosition(goal.matrixWorld);\n  // hoveringCamera.position.lerp(temp, 0.2);\n  //hoveringCamera.lookAt( bike.mesh.position );\n\n  render();\n}\n\nexport function init() {\n\n  // set up the scene, the camera and the renderer\n  createScene();\n\n\n  createCameras(scene, renderer, bike);\n\n  createFloor();\n  // add the lights\n  createLight(scene);\n\n  // add town components: roads, buildings cars\n  createTown();\n \n  scene.add(town);\n\n  // if ( doorCollider !== null) {\n  //   collidables.push(doorCollider);\n  // }\n  // add the objects\n  createBike();\n  \n\n  // // Bike Collider\n  // let colliderGeometry = new THREE.CubeGeometry(2,3,3,1,1,1);\n  // let wireMaterial = new THREE.MeshBasicMaterial( { color: 0xff0000, wireframe:true } );\n  // bikeCollider = new THREE.Mesh( colliderGeometry, wireMaterial );\n  // scene.add(bikeCollider);\n  scene.add(bike.mesh);\n\n  bike.mesh.add(trailingCamera);\n  setActiveCamera(trailingCamera);\n  // goal.position.set(0, -400, 50);\n  // bike.mesh.add(goal);\n\n  // let ccGeometry = new THREE.CubeGeometry( 50, 50, 25, 1, 1, 1 );\n  // let ccMaterial = new THREE.MeshBasicMaterial( { color: 0x00ff00 } ); //, wireframe:true } );\n  \n  // cc = new THREE.Mesh(ccGeometry, ccMaterial);\n  // cc.position.set(250, 250,1);\n  // bbox1 = new THREE.Box3();\n  // bbox1.setFromObject( cc );\n  \n  \n  // // wall.position.set(100, 50, -100);\n  // scene.add(cc);\n  // collidableMeshList.push(cc);\n\n  let lines = [];\n\n  lines = createPaths();\n\n  for (let i = 0; i < lines.length; i++) \n  {\n     scene.add(lines[i]);\n  }\n  // pathList = list;\n  // createRoad();\n\n  // createSky();\n  \n  // start a loop that will update the objects' positions \n  // and render the scene on each frame\n  //animate();\n  welcomeDialog();\n  gameEnd = false;\n}\n\n\n","/*\n  Add a left hand cartesian system with RED x-axis, GREEN y-axis and BLUE z-axis\n*/\n\n'use strict';\n\n// let THREE =  require('three');\n\n// alternative syntax from es6\n// import * as THREE from 'three';\n// const scene = new THREE.Scene();\n\nfunction build3dAxes(length) {\n\tlength = length || 200; // 200 default if length not provided\n\tlet  axes3d = new THREE.Object3D();\n\t// build solid lines for positive axes and dashed for neg\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( length, 0, 0 ), 0xFF0000, false ) ); // +X red\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( -length, 0, 0 ), 0xFF0000, true) ); // -X red dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, length, 0 ), 0x00FF00, false ) ); // +Y green\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, -length, 0 ), 0x00FF00, true ) ); // -Y green dashed\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, length ), 0x0000FF, false ) ); // +Z blue\n\taxes3d.add( setupAxis( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 0, -length ), 0x0000FF, true ) ); // -Z blue dashed\n\n  return axes3d;\n}\n\n\nfunction setupAxis( src, dst, colorHex, dashed ) {\n  let geometry = new THREE.Geometry(),\n    material;\n\n  if(dashed) {\n    material = new THREE.LineDashedMaterial({ color: colorHex, dashSize: 3, gapSize: 3 });\n  } else {\n    material = new THREE.LineBasicMaterial({ color: colorHex });\n  }\n\n  geometry.vertices.push( src.clone() );\n  geometry.vertices.push( dst.clone() );\n  // geometry.computeLineDistances(); // This one is SUPER important, otherwise dashed lines will appear as simple plain lines\n\n  let axis = new THREE.Line( geometry, material, THREE.LineSegments );\n  axis.computeLineDistances();\n  return axis;\n}\n\nexport default build3dAxes;","'use strict';\nimport {setActiveCamera, hoveringCamera, trailingCamera} from './cameraControls';\n\nfunction infoButton() \n{\n\t$('#infoButton').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"position\": \"fixed\",\n\t  \"title\":\"Place Holder for More Game Info.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/infoButton.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\n\t$('#infoButton').on('click', function () {\n\t    $(this).tooltip('enable').tooltip('open');\n\t});\n}\n\nfunction selectCameraView()\n{\n\t$('#topCamera').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"title\":\"Click Me for Top Camera View.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/camera-icon-red.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\t$('#topCamera').on('click', function() {\n\t\tsetActiveCamera(hoveringCamera);\n\t});\n\t$( \"#topCamera\" ).hover(\n  \t\tfunction() {\n    \t\t$( this ).append( $( \"<span class='cameraDisplay'> Click Me for Top Camera View!</span>\" ) );\n  \t\t\t}, function() {\n    \t\t$( this ).find( \"span:last\" ).remove();\n        });\n\n\t$('#chaseCamera').css(\n\t{ \"z-index\":\"2\",\n\t  \"background\":\"rgba(0,0,0,0)\", \"opacity\":\"0.9\",\n\t  \"title\":\"Click Me for Trailing Camera View.\"\n\t  \n\t}) // adds CSS\n\t.append(\"<img width='42' height='42' src='images/camera-icon.png'/>\")\n\t.tooltip({\n     \n    \tdisabled: true,\n    \tclose: function( event, ui ) { $(this).tooltip('disable'); }\n\t});\n\t$('#chaseCamera').on('click', function() {\n\t\tsetActiveCamera(trailingCamera);\n\t});\n\t$( \"#chaseCamera\" ).hover(\n  \t\tfunction() {\n    \t\t$( this ).append( $( \"<span class='cameraDisplay'> Click Me for Trailing Camera View!</span>\" ) );\n  \t\t\t}, function() {\n    \t\t$( this ).find( \"span:last\" ).remove();\n        });\n\n}\n\n\nexport {infoButton, selectCameraView};","'use strict';\n\n// import {resetPosition, setSpeed} from './scene3d';\n// import {createPaths, pathList} from './bikePaths';\nimport {pathList} from './bikePaths';\nimport {bike} from './bikeLoad';\nimport {setActiveCamera, hoveringCamera, trailingCamera, inspectCamera} from './cameraControls';\nimport {setHLIntensity} from './createLights';\nimport {town} from './townLoad';\n\nlet decisionPoints = [];\nlet period = 2000; // periodic timer\nlet activeSegment = 0;\nlet position = 0;\nlet bikeSpeed = 2;\nlet list = pathList;\nlet previousActive = null;\nlet timer_id = null;\nlet inspect_id = null, inspect_period = 500;\nlet choose_timer_id = null, choose_period = 20000, interval = null;\n\nfunction resetSegment() {\n  activeSegment = 0;\n}\nfunction resetPosition() {\n  position = 0;\n}\nfunction getPosition() {\n  return position;\n}\nfunction setPosition(pos) {\n  position = pos;\n}\n\n\nfunction setBikeSpeed(s) {\n   bikeSpeed = s;\n}\nfunction getBikeSpeed() {\n    return bikeSpeed;\n}\n\nif (list !== null) {\n  setTimeout(check, period);\n}\n\n\nfunction resetCamera() {\n    setActiveCamera(trailingCamera);\n    inspect_id = null;\n}\n\nfunction check() {\n\n  timer_id = null;\n\n  if (pathList === null) \n  {\n    return;\n  }\n  if (activeSegment === null) {\n    return;\n  }\n  \n  \n  // if (pathList[activeSegment] !== null && pathList[activeSegment].getPoint(position) === null) \n  if (pathList[activeSegment].getPoint(position) === null)\n  {\n     \n     setBikeSpeed(1);\n     setHLIntensity(6);\n     // bike.anim1.paused = true;\n     bike.anim.paused = true;\n     setActiveCamera(trailingCamera);\n     switch (activeSegment) {\n        case 0:\n          decisionPoint1();\n          break;\n        case 1:\n          decisionPoint2();\n          break;\n        case 3:\n          decisionPoint3();\n          break;\n        case 4:\n          decisionPoint8();\n          break;\n        case 8:\n          decisionPoint5();\n          break;\n        case 5:\n        case 6:\n          decisionPoint4();\n          break;\n        case 7:\n          decisionPoint6();\n          break;\n        case 10:\n          decisionPoint7();\n          break;\n        case 2:\n          decisionPoint9();\n          break;\n        case 9:\n          decisionPoint11();\n          break;\n        case 15:\n          decisionPoint13();\n          break;\n        case 14:\n          decisionPoint12();\n          break;\n        case 16:\n          decisionPoint10();\n          break;\n        case 11:\n        case 12:\n        case 13:\n        case 17:\n        case 18:\n        case 19:\n        case 20:\n        case 21:\n        case 22:\n        case 23:\n        case 24:\n        default:\n          journeyCompleted();\n          break;\n     }\n     \n  }\n  else {\n    timer_id = setTimeout(check, period);\n  }\n\n}\n\nfunction chooseForRider(segment1, segment2, arrowObj, speed1, speed2) {\n    let choice = Math.random();\n    if (choice <= 0.5) {\n        restartCycling(segment1,  null, speed1, arrowObj);\n    }\n    else {\n        restartCycling(segment2, null, speed2, arrowObj);\n    }\n    //delete dangling dialog(s)\n    $.each(BootstrapDialog.dialogs, function(id, dialog){\n                            dialog.close();\n    });\n}\n\nfunction restartCycling(segment, dialogRef, speed, arrowObj, curInterval) {\n    activeSegment = segment; \n    // position = 0;\n    resetPosition(); \n    if (dialogRef) {\n        dialogRef.close();\n    }\n    timer_id = setTimeout(check, period);\n    if (choose_timer_id) {\n        clearTimeout(choose_timer_id);\n        choose_timer_id = null;\n    }\n    if (speed) {\n       setBikeSpeed(speed);\n    }\n    if (arrowObj) {\n       arrowObj.position.z = -1; // hide directional arrows\n    }\n    if (curInterval) {\n        clearInterval(curInterval);\n    }\n    bike.anim.paused = false;\n    setActiveCamera(trailingCamera);\n    setHLIntensity(4.0);\n}\n\nfunction displayCountdown(seconds_left) {\n\n    interval = setInterval(function() {\n        if (seconds_left <= 6) {\n            $( \".display_cnt\" ).html( \"<font color='red'>\" + --seconds_left + \"</font>\" );\n\n        } else {\n            $('.display_cnt').html(--seconds_left);\n        }\n        if (seconds_left <= 0)\n        {\n           // $('#display_id').append(\"<span>Going with Random Choice!</span>\");\n           clearInterval(interval);\n           interval = null;\n        }\n    }, 1000);\n    return interval;\n}\n\nfunction decisionPoint1()\n{\n\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 1, 3, town.dp1Arrows, null, 10);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $(\"<div </div>\");\n\n\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append('<img src=\"./images/right.png\" />');\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp1Arrows.position.z = 1;\n    let dialog = BootstrapDialog.show({\n        title: 'DP-1: Limited Time to make a choice',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue Straight',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n              restartCycling(1, dialogRef, null, town.dp1Arrows, curInterval);\n              //town.dp1Arrows.position.z = -1;\n              // setActiveCamera(trailingCamera);\n            }\n        }, {\n            label: 'Turn Right',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n  \n                restartCycling(3, dialogRef, 10, town.dp1Arrows, curInterval);\n                // town.dp1Arrows.position.z = -1;\n                // setActiveCamera(trailingCamera);\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = 0;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n\n    });\n\n}      \n\nfunction decisionPoint2()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 2, 4, town.dp2Arrows, 2, 2);  // args: segment1, segment2, etc.\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n \n    previousActive = activeSegment;\n    town.dp2Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-2: Limited seconds to choose a direction',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue Straight',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(2, dialogRef, 2, town.dp2Arrows, curInterval);\n                // town.dp2Arrows.position.z = -1;\n                // setActiveCamera(trailingCamera);\n            }\n        }, {\n            label: 'Turn Right',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(4, dialogRef, 2, town.dp2Arrows, curInterval);\n                // town.dp2Arrows.position.z = -1;\n                // setActiveCamera(trailingCamera);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = 0;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n    \n}\n\nfunction decisionPoint3()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 6, 5, town.dp3Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    $textAndPic.append('Caution: potential car door opening! <br />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp3Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-3: Limited seconds to choose a direction!',\n        cssClass: 'decisionPoint1',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue Straight',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n               restartCycling(6, dialogRef, null, town.dp3Arrows, curInterval);\n               // town.dp3Arrows.position.z = -1;\n               // setActiveCamera(trailingCamera);\n            }\n        }, {\n            label: 'Steer Away',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(5, dialogRef, null, town.dp3Arrows, curInterval);\n                // town.dp3Arrows.position.z = -1;\n                // setActiveCamera(trailingCamera);\n\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint4()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 8, 7, town.dp4Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp4Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-4: Safe Riding: Limited seconds to choose a direction!',\n        cssClass: 'decisionPoint2',\n        message: $textAndPic,\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(8, dialogRef, null, town.dp4Arrows, curInterval);\n                // town.dp4Arrows.position.z = -1;\n  \n            }\n        }, {\n            label: 'Continue Straight',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(7, dialogRef, null, town.dp4Arrows, curInterval);\n                // town.dp4Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }    \n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-info',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }    \n        }]\n    });\n   \n}\n\nfunction decisionPoint5()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 10, 9, town.dp5Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    // $textAndPic.append('<img src=\"./images/right.png\" />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dp5Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-5: Don\\'t Tempt Drivers!! Limited seconds to choose a direction!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Right',\n            cssClass: 'btn-primary',\n            action: function(dialogRef) {\n                restartCycling(10, dialogRef, null, town.dp5Arrows, curInterval);\n                // town.dp5Arrows.position.z = -1;\n    \n            }\n        }, {\n            label: 'Continue Straight',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(9, dialogRef, null, town.dp5Arrows, curInterval);\n                // own.dp5Arrows.position.z = -1;\n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = 0;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint6()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 13, 14, town.dp6Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dp6Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-6: Don\\'t take chances: Limited seconds to choose a direction',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling (13, dialogRef, null, town.dp6Arrows, curInterval);\n                // town.dp6Arrows.position.z = -1;    \n            }\n        }, {\n            label: 'Continue Straight',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(14, dialogRef, null, town.dp6Arrows, curInterval);\n                // town.dp6Arrows.position.z = -1; \n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint7()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 11, 12, town.dp7Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp7Arrows.position.z = 1; \n\n    BootstrapDialog.show({\n        title: 'DP-7: Don\\'t take chances! Limited Seconds to choose next path!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(11, dialogRef, null, town.dp7Arrows, curInterval);\n                // town.dp7Arrows.position.z = -1; \n            }\n        }, {\n            label: 'Cross to Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(12, dialogRef, null, town.dp7Arrows, curInterval);\n                // town.dp7Arrows.position.z = -1; \n\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint8()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 9, 10, town.dp8Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    // $textAndPic.append('<img src=\"./images/left.png\" />');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp8Arrows.position.z = 1; \n    BootstrapDialog.show({\n        title: 'DP-8: Don\\'t take chances! Limited Seconds to choose next path!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Turn Left',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(9, dialogRef, null, town.dp8Arrows, curInterval);\n                // town.dp8Arrows.position.z = -1; \n            }\n        }, {\n            label: 'Continue Straight to Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(10, dialogRef, null, town.dp8Arrows, curInterval);\n                // town.dp8Arrows.position.z = -1; \n            }\n                }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint9()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 15, 16, town.dp9Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp9Arrows.position.z = 1; \n    BootstrapDialog.show({\n        title: 'DP-9: Heavy Traffic Alert!! Limited Seconds to choose next Path!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue on Road',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(15, dialogRef, null, town.dp9Arrows, curInterval);\n                // town.dp9Arrows.position.z = -1; \n            }\n        }, {\n            label: 'Cross to Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(16, dialogRef, null, town.dp9Arrows, curInterval);    \n                // town.dp9Arrows.position.z = -1; \n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = 0;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint10()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 17, 18, town.dp10Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n \n    previousActive = activeSegment;\n    town.dp10Arrows.position.z = 1; \n\n    BootstrapDialog.show({\n        title: 'DP-10: Pedestrians Alert! Heavy Traffic Alert!: Limited Seconds to choose a direction!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue on Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(17, dialogRef, null, town.dp10Arrows, curInterval);\n                // town.dp10Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Cross to Roadside',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(18, dialogRef, null, town.dp10Arrows, curInterval);\n                // town.dp10Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint11()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 19, 20, town.dp11Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp11Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-11: Pedestrians Alert!! Limited Seconds to choose a path!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue on Roadside',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(19, dialogRef, null, town.dp11Arrows, curInterval);\n                // town.dp11Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Cross to Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(20, dialogRef, null, town.dp11Arrows, curInterval);\n                // town.dp11Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Look Left',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = 0;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint12()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 21, 22, town.dp12Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n\n    previousActive = activeSegment;\n    town.dp12Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-12: Heavy Traffic Alert! Limited Seconds to choose a direction!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue on Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(21, dialogRef, null, town.dp12Arrows, curInterval);\n                // town.dp12Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Cross to Roadside',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(22, dialogRef, null, town.dp12Arrows, curInterval);\n                // town.dp12Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction decisionPoint13()\n{\n    choose_timer_id = setTimeout(chooseForRider, choose_period, 23, 24, town.dp13Arrows, null, null);  // args: segment1, segment2, speed1, speed2\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n    let curInterval = displayCountdown(choose_period/1000);\n    $textAndPic.append(\"<strong>CountDown: </strong> <span class=display_cnt> </span>\");\n    previousActive = activeSegment;\n    town.dp13Arrows.position.z = 1;\n    BootstrapDialog.show({\n        title: 'DP-13: Pedestrians Alert/Traffic Alert! Limited Seconds to choose next path!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Continue on Roadside',\n            cssClass: 'btn-primary',\n            action: function(dialogRef){\n                restartCycling(23, dialogRef, null, town.dp13Arrows, curInterval);\n                // town.dp13Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Cross to Sidewalk',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                restartCycling(24, dialogRef, null, town.dp13Arrows, curInterval);\n                // town.dp13Arrows.position.z = -1;\n            }\n        }, {\n            label: 'Look Right',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI/2;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }, {\n            label: 'Look Back',\n            cssClass: 'btn-warning',\n            action: function(dialogRef){\n                setActiveCamera(inspectCamera);\n                let temp =  new THREE.Vector3;\n                temp.setFromMatrixPosition(bike.mesh.tripod.matrixWorld);\n                inspectCamera.position.lerp(temp, 0.2);\n                inspectCamera.lookAt( bike.mesh.position );\n                inspectCamera.rotation.x = 0;\n                inspectCamera.rotation.y = -Math.PI;\n                inspectCamera.rotation.z = 0;\n                inspect_id = setTimeout(resetCamera, inspect_period);\n            }\n        }]\n    });\n   \n}\n\nfunction journeyCompleted() {\n\n    let $textAndPic = $('<div class=\"decisionPoint\"></div>');\n \n    previousActive = activeSegment;\n\n    BootstrapDialog.show({\n        title: 'Successful Completion!',\n        message: $textAndPic,\n        cssClass: 'decisionPoint2',\n        closeByBackdrop: false,\n        closeByKeyboard: false,\n        buttons: [{\n            label: 'Restart Cycling Journey',\n            cssClass: 'btn-success',\n            action: function(dialogRef){\n                restartCycling(0,dialogRef);\n            }\n        }, {\n            label: 'Leave Game',\n            cssClass: 'btn-danger',\n            action: function(dialogRef){\n                dialogRef.close();\n                return;\n            }\n        }]\n    });\n}\n\n\n\nexport {activeSegment, resetSegment, resetPosition, getBikeSpeed, getPosition, setPosition};\n"],"sourceRoot":""}